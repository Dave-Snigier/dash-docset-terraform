<html><!-- Online page at https://www.terraform.io/language/moved --><head>
                <title>Moved block configuration reference</title>
                <meta charset="utf-8"/>
                <link href="../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="moved-block-configuration-reference">Moved block configuration reference</h1>

<p>This topic provides reference information for the <code>moved</code> block. </p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Introduction"></a><h2 id="introduction">Introduction</h2>

<p>The <code>moved</code> block programmatically changes the address of a resource. Refer to <a href="../terraform/language/modules/develop/refactoring.html">Refactoring</a> for details about how to use the <code>moved</code> block in your Terraform configurations.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Configuration%20model"></a><h2 id="configuration-model">Configuration model</h2>

<p>The following list outlines field hierarchy, language-specific data types, and requirements in the <code>moved</code> block. </p>

<ul>
<li><a href="#moved"><code>moved</code></a>: map
<ul>
<li><a href="#moved"><code>from</code></a>: reference</li>
<li><a href="#moved"><code>to</code></a>: reference</li>
</ul></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Complete%20configuration"></a><h2 id="complete-configuration">Complete configuration</h2>

<p>When every field is defined, a <code>moved</code> block has the following form:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">moved</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&lt;old</span><span class="w"> </span><span class="err">address</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">resource&gt;</span><span class="w"></span>
<span class="w">    </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&lt;new</span><span class="w"> </span><span class="err">address</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">resource&gt;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Specification"></a><h2 id="specification">Specification</h2>

<p>This section provides details about the fields you can configure in the <code>moved</code> block.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/moved"></a><h3 id="moved"><code>moved</code></h3>

<p>Map that specifies addresses for the resource. The following table describes the fields you can set in the <code>moved</code> block.</p>

<table>
<thead>
<tr>
  <th>Field</th>
  <th>Description</th>
  <th>Type</th>
  <th>Required</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>from</code></td>
  <td>Specifies a resource's previous address. The syntax allows Terraform to select modules, resources, and resources inside child modules.</td>
  <td>string</td>
  <td>required</td>
</tr>
<tr>
  <td><code>to</code></td>
  <td>Specifies the new address to relocate the resource to. The syntax allows Terraform to select modules, resources, and resources inside child modules.</td>
  <td>string</td>
  <td>required</td>
</tr>
</tbody>
</table>

<p>Before creating a new plan for the resource specified in the <code>to</code> field, Terraform checks the state for an existing object at the address specified in the <code>from</code> field. Terraform renames existing objects to the string specified in the <code>to</code> field and then creates a plan. The plan directs Terraform to provision the resource specified in the <code>from</code> field as the resource specified in the <code>to</code> field. As a result, Terraform does not destroy the resource during the Terraform run.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h2 id="example">Example</h2>

<p>The following example moves an AWS instance from address <code>aws_instance.a</code> to <code>aws_instance.b</code>:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">moved</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">from</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.a</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.b</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

            
        
    </body></html>