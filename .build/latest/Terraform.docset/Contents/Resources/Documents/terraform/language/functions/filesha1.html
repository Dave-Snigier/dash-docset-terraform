<html><!-- Online page at https://www.terraform.io/language/functions/filesha1 --><head>
                <title>filesha1 function reference</title>
                <meta charset="utf-8"/>
                <link href="../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="filesha1-function-reference"><code>filesha1</code> function reference</h1>

<p>This topic provides reference information about the <code>filesha1</code> function, which calculates the SHA-1 hash of a file's contents. </p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Introduction"></a><h2 id="introduction">Introduction</h2>

<p>The <code>filesha1</code> is a variant of <a href="../../terraform/language/functions/sha1.html"><code>sha1</code></a> that hashes the contents of a given file rather than a literal string. </p>

<p>Use the <code>filesha1</code> function instead of wrapping the <code>file</code> function in a <code>sha1</code> function, for example <code>sha1(file(filename))</code>, because <a href="../../terraform/language/functions/file.html"><code>file</code></a> accepts only UTF-8 text. As a result, you cannot use <code>sha1(file(filename))</code> to create hashes for binary files.</p>

<aside class="admonition danger">
    <strong>danger</strong>
    <em>Security warning</em>
    <p>: This hashing function is susceptible to collision attacks. Before using this function for anything security-sensitive, review relevant literature to understand the security implications.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Syntax"></a><h2 id="syntax">Syntax</h2>

<p>Use the filesha1 function with the following syntax:</p>

<div class="codehilite"><pre><span></span><code><span class="nf">filesha1</span><span class="p">(</span><span class="err">path</span><span class="p">)</span><span class="w"> </span>
</code></pre></div>

<p>The <code>path</code> is the relative or absolute file path to the file whose SHA-1 hash you want to compute.</p>

<p>In the following example, the function returns the SHA-1 value.</p>

<div class="codehilite"><pre><span></span><code><span class="err">$</span><span class="w"> </span><span class="nf">filesha1</span><span class="p">(</span><span class="s2">"example.txt"</span><span class="p">)</span><span class="w"></span>
<span class="err">d</span><span class="m">3486</span><span class="err">ae</span><span class="m">9136</span><span class="err">e</span><span class="m">7856</span><span class="err">bc</span><span class="m">42212385</span><span class="err">ea</span><span class="m">797094475802</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20use%20case"></a><h2 id="example-use-case">Example use case</h2>

<p>In the following example the <code>filesha1</code> function computes the SHA-1 hash of the file <code>example.txt</code> located in the current module's directory. The result is a 40-character hexadecimal string representing the SHA-1 hash.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">output</span><span class="w"> </span><span class="nv">"file_hash"</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">filesha1</span><span class="p">(</span><span class="s2">"${path.module}/example.txt"</span><span class="p">)</span><span class="w"> </span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Related%20functions"></a><h2 id="related-functions">Related functions</h2>

<ul>
<li><a href="../../terraform/language/functions/sha1.html"><code>sha1</code></a> computes the SHA-1 hash of a given string and encodes it with hexadecimal digits.</li>
<li><a href="../../terraform/language/functions/filesha256.html"><code>filesha256</code></a> computes the SHA-256 hash of a given file and encodes it with hexadecimal digits.</li>
<li><a href="../../terraform/language/functions/filesha512.html"><code>filesha512</code></a> computes the SHA-512 hash of a given file and encodes it with hexadecimal digits.</li>
</ul>

            
        
    </body></html>