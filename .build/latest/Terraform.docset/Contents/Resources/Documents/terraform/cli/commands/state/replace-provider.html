<html><!-- Online page at https://www.terraform.io/cli/commands/state/replace-provider --><head>
                <title>terraform state replace-provider command</title>
                <meta charset="utf-8"/>
                <link href="../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="terraform-state-replace-provider-command"><code>terraform state replace-provider</code> command</h1>

<p>The <code>terraform state replace-provider</code> command replaces the provider
for resources in a <a href="../../../terraform/language/state.html">Terraform state</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Usage"></a><h2 id="usage">Usage</h2>

<p>Usage: <code>terraform state replace-provider [options] FROM_PROVIDER_FQN TO_PROVIDER_FQN</code></p>

<p>This command will update all resources using the "from" provider, setting the
provider to the specified "to" provider. This allows changing the source of a
provider which currently has resources in state.</p>

<p>This command will output a backup copy of the state prior to saving any
changes. The backup cannot be disabled. Due to the destructive nature
of this command, backups are required.</p>

<p>This command also accepts the following options:</p>

<ul>
<li><p><code>-auto-approve</code> - Skip interactive approval.</p></li>
<li><p><code>-lock=false</code> - Don't hold a state lock during the operation. This is
dangerous if others might concurrently run commands against the same
workspace.</p></li>
<li><p><code>-lock-timeout=0s</code> - Duration to retry a state lock.</p></li>
</ul>

<p>For configurations using the <a href="../../../terraform/cli/cloud.html">HCP Terraform CLI integration</a> or the <a href="../../../terraform/language/backend/remote.html"><code>remote</code> backend</a>
only, <code>terraform state replace-provider</code>
also accepts the option
<a href="../../../terraform/cli/cloud/command-line-arguments.html#ignore-remote-version"><code>-ignore-remote-version</code></a>.</p>

<p>For configurations using
<a href="../../../terraform/language/backend/local.html">the <code>local</code> state</a> only,
<code>terraform state replace-provider</code> also accepts the legacy options
<a href="../../../terraform/language/backend/local.html#command-line-arguments"><code>-state</code>, <code>-state-out</code>, and <code>-backup</code></a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h2 id="example">Example</h2>

<p>The example below replaces the <code>hashicorp/aws</code> provider with a fork by <code>acme</code>, hosted at a private registry at <code>registry.acme.corp</code>:</p>

<div class="codehilite"><pre><span></span><code>$ terraform state replace-provider hashicorp/aws registry.acme.corp/acme/aws
</code></pre></div>

            
        
    </body></html>