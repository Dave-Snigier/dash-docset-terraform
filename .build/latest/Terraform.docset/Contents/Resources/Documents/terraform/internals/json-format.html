<html><!-- Online page at https://www.terraform.io/internals/json-format --><head>
                <title>JSON Output Format Overview</title>
                <meta charset="utf-8"/>
                <link href="../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="json-output-format-overview">JSON Output Format Overview</h1>

<p>This topic provides overview information about the JSON output Terraform prints to the terminal. </p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Introduction"></a><h2 id="introduction">Introduction</h2>

<p>When Terraform plans to make changes, it prints a human-readable summary to the terminal. It can also, when run with <code>-out=&lt;PATH&gt;</code>, write a much more detailed binary plan file, which can later be used to apply those changes.</p>

<p>Terraform can output a machine-readable JSON representation of a plan file's changes. It can also convert state files to the same format, to simplify data loading and provide better long-term compatibility.</p>

<p>Use <code>terraform show -json &lt;FILE&gt;</code> to generate a JSON representation of a plan or state file. See <a href="../terraform/cli/commands/show.html">the <code>terraform show</code> documentation</a> for more details.</p>

<p>The output includes a <code>format_version</code> key, which as of Terraform 1.1.0 has
value <code>"1.0"</code>. The semantics of this version are:</p>

<ul>
<li>We will increment the minor version, e.g. <code>"1.1"</code>, for backward-compatible
changes or additions. Ignore any object properties with unrecognized names to
remain forward-compatible with future minor versions.</li>
<li>We will increment the major version, e.g. <code>"2.0"</code>, for changes that are not
backward-compatible. Reject any input which reports an unsupported major
version.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Format%20Summary"></a><h2 id="format-summary">Format Summary</h2>

<p>The following sections describe the JSON output format by example, using a pseudo-JSON notation.</p>

<p>Important elements are described with comments, which are prefixed with <code>//</code>.</p>

<p>To avoid excessive repetition, we've split the complete format into several discrete sub-objects, described under separate headers. References wrapped in angle brackets (like <code>&lt;values-representation&gt;</code>) are placeholders which, in the real output, would be replaced by an instance of the specified sub-object.</p>

<p>The JSON output format consists of the following objects and sub-objects:</p>

<ul>
<li><a href="#state-representation">State Representation</a> — The complete top-level object returned by <code>terraform show -json &lt;STATE FILE&gt;</code>.</li>
<li><a href="#plan-representation">Plan Representation</a> — The complete top-level object returned by <code>terraform show -json &lt;PLAN FILE&gt;</code>.</li>
<li><a href="#values-representation">Values Representation</a> — A sub-object of both plan and state output that describes current state or planned state.</li>
<li><a href="#configuration-representation">Configuration Representation</a> — A sub-object of plan output that describes a parsed Terraform configuration.
<ul>
<li><a href="#expression-representation">Expression Representation</a> — A sub-object of a configuration representation that describes an unevaluated expression.</li>
<li><a href="#block-expressions-representation">Block Expressions Representation</a> — A sub-object of a configuration representation that describes the expressions nested inside a block.</li>
</ul></li>
<li><a href="#change-representation">Change Representation</a> — A sub-object of plan output that describes changes to an object.</li>
<li><a href="#checks-representation">Checks Representation</a> — A property of both the plan and state representations that describes the current status of any checks (e.g. preconditions and postconditions) in the configuration.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/State%20Representation"></a><h2 id="state-representation">State Representation</h2>

<p>State does not have any significant metadata not included in the common <a href="#values-representation">values representation</a>, so the <code>&lt;state-representation&gt;</code> uses the following format:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "values" is a values representation object derived from the values in the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// state. Because the state is always fully known, this is always complete.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"values"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">values</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>

<span class="w">  </span><span class="s2">"terraform_version"</span><span class="o">:</span><span class="w"> </span><span class="s2">"version.string"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Plan%20Representation"></a><h2 id="plan-representation">Plan Representation</h2>

<p>A plan consists of a prior state, the configuration that is being applied to that state, and the set of changes Terraform plans to make to achieve that.</p>

<p>For ease of consumption by callers, the plan representation includes a partial representation of the values in the final state (using a <a href="#values-representation">value representation</a>), allowing callers to easily analyze the planned outcome using similar code as for analyzing the prior state.</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="s2">"format_version"</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "prior_state" is a representation of the state that the configuration is</span><span class="w"></span>
<span class="w">  </span><span class="c1">// being applied to, using the state representation described above.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"prior_state"</span><span class="o">:</span><span class="w">  </span><span class="o">&lt;</span><span class="nx">state</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "applyable" indicates that it would make sense for a wrapping automation</span><span class="w"></span>
<span class="w">  </span><span class="c1">// to try to apply this plan, possibly after asking a human operator for</span><span class="w"></span>
<span class="w">  </span><span class="c1">// approval.</span><span class="w"></span>
<span class="w">  </span><span class="c1">//</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Other attributes may give additional context about why the plan is not</span><span class="w"></span>
<span class="w">  </span><span class="c1">// applyable, but wrapping automations should use this flag as their</span><span class="w"></span>
<span class="w">  </span><span class="c1">// primary condition to accommodate potential changes to the exact definition</span><span class="w"></span>
<span class="w">  </span><span class="c1">// of "applyable" in future Terraform versions.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"applyable"</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "complete" indicates that Terraform expects that after applying this</span><span class="w"></span>
<span class="w">  </span><span class="c1">// plan the actual state will match the desired state.</span><span class="w"></span>
<span class="w">  </span><span class="c1">//</span><span class="w"></span>
<span class="w">  </span><span class="c1">// An incomplete plan is expected to require at least one additional</span><span class="w"></span>
<span class="w">  </span><span class="c1">// plan/apply round to achieve convergence, and so wrapping automations</span><span class="w"></span>
<span class="w">  </span><span class="c1">// should ideally either automatically start a new plan/apply round after</span><span class="w"></span>
<span class="w">  </span><span class="c1">// this plan is applied, or prompt the operator that they should do so.</span><span class="w"></span>
<span class="w">  </span><span class="c1">//</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Other attributes may give additional context about why the plan is not</span><span class="w"></span>
<span class="w">  </span><span class="c1">// complete, but wrapping automations should use this flag as their</span><span class="w"></span>
<span class="w">  </span><span class="c1">// primary condition to accommodate potential changes to the exact definition</span><span class="w"></span>
<span class="w">  </span><span class="c1">// of "complete" in future Terraform versions.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"complete"</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "errored" indicates whether planning failed. An errored plan cannot be applied,</span><span class="w"></span>
<span class="w">  </span><span class="c1">// but the actions planned before failure may help to understand the error.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"errored"</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "configuration" is a representation of the configuration being applied to the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// prior state, using the configuration representation described above.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"configuration"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">configuration</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "planned_values" is a description of what is known so far of the outcome in</span><span class="w"></span>
<span class="w">  </span><span class="c1">// the standard value representation, with any as-yet-unknown values omitted.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"planned_values"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">values</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "proposed_unknown" is a representation of the attributes, including any</span><span class="w"></span>
<span class="w">  </span><span class="c1">// potentially-unknown attributes. Each value is replaced with "true" or</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "false" depending on whether it is known in the proposed plan.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"proposed_unknown"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">values</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "variables" is a representation of all the variables provided for the given</span><span class="w"></span>
<span class="w">  </span><span class="c1">// plan. This is structured as a map similar to the output map so we can add</span><span class="w"></span>
<span class="w">  </span><span class="c1">// additional fields in later.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"variables"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"varname"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"value"</span><span class="o">:</span><span class="w"> </span><span class="s2">"varvalue"</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "resource_changes" is a description of the individual change actions that</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Terraform plans to use to move from the prior state to a new state</span><span class="w"></span>
<span class="w">  </span><span class="c1">// matching the configuration.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"resource_changes"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Each element of this array describes the action to take</span><span class="w"></span>
<span class="w">    </span><span class="c1">// for one instance object. All resources in the</span><span class="w"></span>
<span class="w">    </span><span class="c1">// configuration are included in this list.</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">// "address" is the full absolute address of the resource instance this</span><span class="w"></span>
<span class="w">      </span><span class="c1">// change applies to, in the same format as addresses in a value</span><span class="w"></span>
<span class="w">      </span><span class="c1">// representation.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.child.aws_instance.foo[0]"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "previous_address" is the full absolute address of this resource</span><span class="w"></span>
<span class="w">      </span><span class="c1">// instance as it was known after the previous Terraform run.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Included only if the address has changed, e.g. by handling</span><span class="w"></span>
<span class="w">      </span><span class="c1">// a "moved" block in the configuration.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"previous_address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.instances.aws_instance.foo[0]"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "module_address", if set, is the module portion of the above address.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Omitted if the instance is in the root module.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"module_address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.child"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "mode", "type", "name", and "index" have the same meaning as in a</span><span class="w"></span>
<span class="w">      </span><span class="c1">// value representation.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"mode"</span><span class="o">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"index"</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "deposed", if set, indicates that this action applies to a "deposed"</span><span class="w"></span>
<span class="w">      </span><span class="c1">// object of the given instance rather than to its "current" object.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Omitted for changes to the current object. "address" and "deposed"</span><span class="w"></span>
<span class="w">      </span><span class="c1">// together form a unique key across all change objects in a particular</span><span class="w"></span>
<span class="w">      </span><span class="c1">// plan. The value is an opaque key representing the specific deposed</span><span class="w"></span>
<span class="w">      </span><span class="c1">// object.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"deposed"</span><span class="o">:</span><span class="w"> </span><span class="s2">"deadbeef"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "change" describes the change that will be made to the indicated</span><span class="w"></span>
<span class="w">      </span><span class="c1">// object. The &lt;change-representation&gt; is detailed in a section below.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"change"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">change</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "action_reason" is some optional extra context about why the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// actions given inside "change" were selected. This is the JSON</span><span class="w"></span>
<span class="w">      </span><span class="c1">// equivalent of annotations shown in the normal plan output like</span><span class="w"></span>
<span class="w">      </span><span class="c1">// "is tainted, so must be replaced" as opposed to just "must be</span><span class="w"></span>
<span class="w">      </span><span class="c1">// replaced".</span><span class="w"></span>
<span class="w">      </span><span class="c1">//</span><span class="w"></span>
<span class="w">      </span><span class="c1">// These reason codes are display hints only and the set of possible</span><span class="w"></span>
<span class="w">      </span><span class="c1">// hints may change over time. Users of this must be prepared to</span><span class="w"></span>
<span class="w">      </span><span class="c1">// encounter unrecognized reasons and treat them as unspecified reasons.</span><span class="w"></span>
<span class="w">      </span><span class="c1">//</span><span class="w"></span>
<span class="w">      </span><span class="c1">// The current set of possible values is:</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "replace_because_tainted": the object in question is marked as</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   "tainted" in the prior state, so Terraform planned to replace it.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "replace_because_cannot_update": the provider indicated that one</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   of the requested changes isn't possible without replacing the</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   existing object with a new object.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "replace_by_request": the user explicitly called for this object</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   to be replaced as an option when creating the plan, which therefore</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   overrode what would have been a "no-op" or "update" action otherwise.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "delete_because_no_resource_config": Terraform found no resource</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   configuration corresponding to this instance.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "delete_because_no_module": The resource instance belongs to a</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   module instance that's no longer declared, perhaps due to changing</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   the "count" or "for_each" argument on one of the containing modules.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "delete_because_wrong_repetition": The instance key portion of the</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   resource address isn't of a suitable type for the corresponding</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   resource's configured repetition mode (count, for_each, or neither).</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "delete_because_count_index": The corresponding resource uses count,</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   but the instance key is out of range for the currently-configured</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   count value.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "delete_because_each_key": The corresponding resource uses for_each,</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   but the instance key doesn't match any of the keys in the</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   currently-configured for_each value.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "read_because_config_unknown": For a data resource, Terraform cannot</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   read the data during the plan phase because of values in the</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   configuration that won't be known until the apply phase.</span><span class="w"></span>
<span class="w">      </span><span class="c1">// - "read_because_dependency_pending": For a data resource, Terraform</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   cannot read the data during the plan phase because the data</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   resource depends on at least one managed resource that also has</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   a pending change in the same plan.</span><span class="w"></span>
<span class="w">      </span><span class="c1">//</span><span class="w"></span>
<span class="w">      </span><span class="c1">// If there is no special reason to note, Terraform will omit this</span><span class="w"></span>
<span class="w">      </span><span class="c1">// property altogether.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"action_reason"</span><span class="o">:</span><span class="w"> </span><span class="s2">"replace_because_tainted"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "resource_drift" is a description of the changes Terraform detected</span><span class="w"></span>
<span class="w">  </span><span class="c1">// when it compared the most recent state to the prior saved state.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"resource_drift"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "resource_drift" uses the same object structure as</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "resource_changes".</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "relevant_attributes" lists the sources of all values contributing to</span><span class="w"></span>
<span class="w">  </span><span class="c1">// changes in the plan. You can use "relevant_attributes" to filter</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "resource_drift" and determine which external changes may have affected the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// plan result.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"relevant_attributes"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"resource"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance.foo"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"attribute"</span><span class="o">:</span><span class="w"> </span><span class="s2">"attr"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "output_changes" describes the planned changes to the output values of the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// root module.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"output_changes"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Keys are the defined output value names.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"foo"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "change" describes the change that will be made to the indicated output</span><span class="w"></span>
<span class="w">      </span><span class="c1">// value, using the same representation as for resource changes except</span><span class="w"></span>
<span class="w">      </span><span class="c1">// that the only valid actions values are:</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   ["create"]</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   ["update"]</span><span class="w"></span>
<span class="w">      </span><span class="c1">//   ["delete"]</span><span class="w"></span>
<span class="w">      </span><span class="c1">// In the Terraform CLI 0.12.0 release, Terraform is not yet fully able to</span><span class="w"></span>
<span class="w">      </span><span class="c1">// track changes to output values, so the actions indicated may not be</span><span class="w"></span>
<span class="w">      </span><span class="c1">// fully accurate, but the "after" value will always be correct.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"change"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">change</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "checks" describes the partial results for any checkable objects, such as</span><span class="w"></span>
<span class="w">  </span><span class="c1">// resources with postconditions, with as much information as Terraform can</span><span class="w"></span>
<span class="w">  </span><span class="c1">// recognize at plan time. Some objects will have status "unknown" to</span><span class="w"></span>
<span class="w">  </span><span class="c1">// indicate that their status will only be determined after applying the plan.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"checks"</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">checks</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>This overall plan structure, fully expanded, is what will be printed by the <code>terraform show -json &lt;planfile&gt;</code> command.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Values%20Representation"></a><h2 id="values-representation">Values Representation</h2>

<p>A values representation is used in both state and plan output to describe current state (which is always complete) and planned state (which omits values not known until apply).</p>

<p>The following example illustrates the structure of a <code>&lt;values-representation&gt;</code>:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "outputs" describes the outputs from the root module. Outputs from</span><span class="w"></span>
<span class="w">  </span><span class="c1">// descendant modules are not available because they are not retained in all</span><span class="w"></span>
<span class="w">  </span><span class="c1">// of the underlying structures we will build this values representation from.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"outputs"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"private_ip"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"value"</span><span class="o">:</span><span class="w"> </span><span class="s2">"192.168.3.2"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"sensitive"</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "root_module" describes the resources and child modules in the root module.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"root_module"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"resources"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "address" is the absolute resource address, which callers must consider</span><span class="w"></span>
<span class="w">        </span><span class="c1">// opaque but may do full string comparisons with other address strings or</span><span class="w"></span>
<span class="w">        </span><span class="c1">// pass this verbatim to other Terraform commands that are documented to</span><span class="w"></span>
<span class="w">        </span><span class="c1">// accept absolute resource addresses. The module-local portions of this</span><span class="w"></span>
<span class="w">        </span><span class="c1">// address are extracted in other properties below.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance.example[1]"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "mode" can be "managed", for resources, or "data", for data resources</span><span class="w"></span>
<span class="w">        </span><span class="s2">"mode"</span><span class="o">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// If the count or for_each meta-arguments are set for this resource, the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// additional key "index" is present to give the instance index key. This</span><span class="w"></span>
<span class="w">        </span><span class="c1">// is omitted for the single instance of a resource that isn't using count</span><span class="w"></span>
<span class="w">        </span><span class="c1">// or for_each.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"index"</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "provider_name" is the name of the provider that is responsible for</span><span class="w"></span>
<span class="w">        </span><span class="c1">// this resource. This is only the provider name, not a provider</span><span class="w"></span>
<span class="w">        </span><span class="c1">// configuration address, and so no module path nor alias will be</span><span class="w"></span>
<span class="w">        </span><span class="c1">// indicated here. This is included to allow the property "type" to be</span><span class="w"></span>
<span class="w">        </span><span class="c1">// interpreted unambiguously in the unusual situation where a provider</span><span class="w"></span>
<span class="w">        </span><span class="c1">// offers a resource type whose name does not start with its own name,</span><span class="w"></span>
<span class="w">        </span><span class="c1">// such as the "googlebeta" provider offering "google_compute_instance".</span><span class="w"></span>
<span class="w">        </span><span class="s2">"provider_name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "schema_version" indicates which version of the resource type schema</span><span class="w"></span>
<span class="w">        </span><span class="c1">// the "values" property conforms to.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"schema_version"</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "values" is the JSON representation of the attribute values of the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// resource, whose structure depends on the resource type schema. Any</span><span class="w"></span>
<span class="w">        </span><span class="c1">// unknown values are omitted or set to null, making them</span><span class="w"></span>
<span class="w">        </span><span class="c1">// indistinguishable from absent values; callers which need to distinguish</span><span class="w"></span>
<span class="w">        </span><span class="c1">// unknown from unset must use the plan-specific or configuration-specific</span><span class="w"></span>
<span class="w">        </span><span class="c1">// structures described in later sections.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"values"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="s2">"id"</span><span class="o">:</span><span class="w"> </span><span class="s2">"i-abc123"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"instance_type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"t2.micro"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="c1">// etc, etc</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "sensitive_values" is the JSON representation of the sensitivity of</span><span class="w"></span>
<span class="w">        </span><span class="c1">// the resource's attribute values. Only attributes which are sensitive</span><span class="w"></span>
<span class="w">        </span><span class="c1">// are included in this structure.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"sensitive_values"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="s2">"id"</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>

<span class="w">    </span><span class="s2">"child_modules"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="c1">// Each entry in "child_modules" has the same structure as the root_module</span><span class="w"></span>
<span class="w">      </span><span class="c1">// object, with the additional "address" property shown below.</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "address" is the absolute module address, which callers must treat as</span><span class="w"></span>
<span class="w">        </span><span class="c1">// opaque but may do full string comparisons with other module address</span><span class="w"></span>
<span class="w">        </span><span class="c1">// strings and may pass verbatim to other Terraform commands that are</span><span class="w"></span>
<span class="w">        </span><span class="c1">// documented as accepting absolute module addresses.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.child"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "resources" is the same as in "root_module" above</span><span class="w"></span>
<span class="w">        </span><span class="s2">"resources"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.child.aws_instance.foo"</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="c1">// etc, etc</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Each module object can optionally have its own</span><span class="w"></span>
<span class="w">        </span><span class="c1">// nested "child_modules", recursively describing the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// full module tree.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"child_modules"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>The translation of attribute and output values is the same intuitive mapping from HCL types to JSON types used by Terraform's <a href="../terraform/language/functions/jsonencode.html"><code>jsonencode</code></a> function. This mapping does lose some information: lists, sets, and tuples all lower to JSON arrays while maps and objects both lower to JSON objects. Unknown values and null values are both treated as absent or null.</p>

<p>Output values include a <code>"type"</code> field, which is a <a href="https://pkg.go.dev/github.com/zclconf/go-cty/cty#Type.MarshalJSON">serialization of the value's type</a>. For primitive types this is a string value, such as <code>"number"</code> or <code>"bool"</code>. Complex types are represented as a nested JSON array, such as <code>["map","string"]</code> or <code>["object",{"a":"number"}]</code>. This can be used to reconstruct the output value with the correct type.</p>

<p>Only the "current" object for each resource instance is described. "Deposed" objects are not reflected in this structure at all; in plan representations, you can refer to the change representations for further details.</p>

<p>The intent of this structure is to give a caller access to a similar level of detail as is available to expressions within the configuration itself. This common representation is not suitable for all use-cases because it loses information compared to the data structures it is built from. For more complex needs, use the more elaborate changes and configuration representations.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Configuration%20Representation"></a><h2 id="configuration-representation">Configuration Representation</h2>

<p>Configuration is the most complicated structure in Terraform, since it includes unevaluated expression nodes and other complexities.</p>

<p>Because the configuration models are produced at a stage prior to expression evaluation, it is not possible to produce a values representation for configuration. Instead, we describe the physical structure of the configuration, giving access to constant values where possible and allowing callers to analyze any references to other objects that are present:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "provider_configs" describes all of the provider configurations throughout</span><span class="w"></span>
<span class="w">  </span><span class="c1">// the configuration tree, flattened into a single map for convenience since</span><span class="w"></span>
<span class="w">  </span><span class="c1">// provider configurations are the one concept in Terraform that can span</span><span class="w"></span>
<span class="w">  </span><span class="c1">// across module boundaries.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"provider_config"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Keys in the provider_configs map are to be considered opaque by callers,</span><span class="w"></span>
<span class="w">    </span><span class="c1">// and used just for lookups using the "provider_config_key" property in each</span><span class="w"></span>
<span class="w">    </span><span class="c1">// resource object.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"opaque_provider_ref_aws"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "name" is the name of the provider without any alias</span><span class="w"></span>
<span class="w">      </span><span class="s2">"name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "full_name" is the fully-qualified provider name</span><span class="w"></span>
<span class="w">      </span><span class="s2">"full_name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"registry.terraform.io/hashicorp/aws"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "alias" is the alias set for a non-default configuration, or unset for</span><span class="w"></span>
<span class="w">      </span><span class="c1">// a default configuration.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"alias"</span><span class="o">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "module_address" is included only for provider configurations that are</span><span class="w"></span>
<span class="w">      </span><span class="c1">// declared in a descendant module, and gives the opaque address for the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// module that contains the provider configuration.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"module_address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"module.child"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "expressions" describes the provider-specific content of the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// configuration block, as a block expressions representation (see section</span><span class="w"></span>
<span class="w">      </span><span class="c1">// below).</span><span class="w"></span>
<span class="w">      </span><span class="s2">"expressions"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">block</span><span class="o">-</span><span class="nx">expressions</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "root_module" describes the root module in the configuration, and serves</span><span class="w"></span>
<span class="w">  </span><span class="c1">// as the root of a tree of similar objects describing descendant modules.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"root_module"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">// "outputs" describes the output value configurations in the module.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"outputs"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">      </span><span class="c1">// Property names here are the output value names</span><span class="w"></span>
<span class="w">      </span><span class="s2">"example"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">"expression"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"sensitive"</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>

<span class="w">    </span><span class="c1">// "resources" describes the "resource" and "data" blocks in the module</span><span class="w"></span>
<span class="w">    </span><span class="c1">// configuration.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"resources"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "address" is the opaque absolute address for the resource itself.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance.example"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "mode", "type", and "name" have the same meaning as for the resource</span><span class="w"></span>
<span class="w">        </span><span class="c1">// portion of a value representation.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"mode"</span><span class="o">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "provider_config_key" is the key into "provider_configs" (shown</span><span class="w"></span>
<span class="w">        </span><span class="c1">// above) for the provider configuration that this resource is</span><span class="w"></span>
<span class="w">        </span><span class="c1">// associated with. If the provider configuration was passed into</span><span class="w"></span>
<span class="w">        </span><span class="c1">// this module from the parent module, the key will point to the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// original provider config block.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"provider_config_key"</span><span class="o">:</span><span class="w"> </span><span class="s2">"opaque_provider_ref_aws"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "provisioners" is an optional field which describes any provisioners.</span><span class="w"></span>
<span class="w">        </span><span class="c1">// Connection info will not be included here.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"provisioners"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"local-exec"</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="c1">// "expressions" describes the provisioner configuration</span><span class="w"></span>
<span class="w">            </span><span class="s2">"expressions"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">block</span><span class="o">-</span><span class="nx">expressions</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "expressions" describes the resource-type-specific content of the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// configuration block.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"expressions"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">block</span><span class="o">-</span><span class="nx">expressions</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "schema_version" is the schema version number indicated by the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// provider for the type-specific arguments described in "expressions".</span><span class="w"></span>
<span class="w">        </span><span class="s2">"schema_version"</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "count_expression" and "for_each_expression" describe the expressions</span><span class="w"></span>
<span class="w">        </span><span class="c1">// given for the corresponding meta-arguments in the resource</span><span class="w"></span>
<span class="w">        </span><span class="c1">// configuration block. These are omitted if the corresponding argument</span><span class="w"></span>
<span class="w">        </span><span class="c1">// isn't set.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"count_expression"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"for_each_expression"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>

<span class="w">    </span><span class="c1">// "module_calls" describes the "module" blocks in the module. During</span><span class="w"></span>
<span class="w">    </span><span class="c1">// evaluation, a module call with count or for_each may expand to multiple</span><span class="w"></span>
<span class="w">    </span><span class="c1">// module instances, but in configuration only the block itself is</span><span class="w"></span>
<span class="w">    </span><span class="c1">// represented.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"module_calls"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">      </span><span class="c1">// Key is the module call name chosen in the configuration.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"child"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "resolved_source" is the resolved source address of the module, after</span><span class="w"></span>
<span class="w">        </span><span class="c1">// any normalization and expansion. This could be either a</span><span class="w"></span>
<span class="w">        </span><span class="c1">// go-getter-style source address or a local path starting with "./" or</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "../". If the user gave a registry source address then this is the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// final location of the module as returned by the registry, after</span><span class="w"></span>
<span class="w">        </span><span class="c1">// following any redirect indirection.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"resolved_source"</span><span class="o">:</span><span class="w"> </span><span class="s2">"./child"</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "expressions" describes the expressions for the arguments within the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// block that correspond to input variables in the child module.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"expressions"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">block</span><span class="o">-</span><span class="nx">expressions</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "count_expression" and "for_each_expression" describe the expressions</span><span class="w"></span>
<span class="w">        </span><span class="c1">// given for the corresponding meta-arguments in the module</span><span class="w"></span>
<span class="w">        </span><span class="c1">// configuration block. These are omitted if the corresponding argument</span><span class="w"></span>
<span class="w">        </span><span class="c1">// isn't set.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"count_expression"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"for_each_expression"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "module" is a representation of the configuration of the child module</span><span class="w"></span>
<span class="w">        </span><span class="c1">// itself, using the same structure as the "root_module" object,</span><span class="w"></span>
<span class="w">        </span><span class="c1">// recursively describing the full module tree.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"module"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">module</span><span class="o">-</span><span class="nx">configuration</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Expression%20Representation"></a><h3 id="expression-representation">Expression Representation</h3>

<p>Each unevaluated expression in the configuration is represented with an <code>&lt;expression-representation&gt;</code> object with the following structure:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "constant_value" is set only if the expression contains no references to</span><span class="w"></span>
<span class="w">  </span><span class="c1">// other objects, in which case it gives the resulting constant value. This is</span><span class="w"></span>
<span class="w">  </span><span class="c1">// mapped as for the individual values in a value representation.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"constant_value"</span><span class="o">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// Alternatively, "references" will be set to a list of references in the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// expression. Multi-step references will be unwrapped and duplicated for each</span><span class="w"></span>
<span class="w">  </span><span class="c1">// significant traversal step, allowing callers to more easily recognize the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// objects they care about without attempting to parse the expressions.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Callers should only use string equality checks here, since the syntax may</span><span class="w"></span>
<span class="w">  </span><span class="c1">// be extended in future releases.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"references"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">"data.template_file.foo[1].vars[\"baz\"]"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"data.template_file.foo[1].vars"</span><span class="p">,</span><span class="w"> </span><span class="c1">// implied by previous</span><span class="w"></span>
<span class="w">    </span><span class="s2">"data.template_file.foo[1]"</span><span class="p">,</span><span class="w"> </span><span class="c1">// implied by previous</span><span class="w"></span>
<span class="w">    </span><span class="s2">"data.template_file.foo"</span><span class="p">,</span><span class="w"> </span><span class="c1">// implied by previous</span><span class="w"></span>
<span class="w">    </span><span class="s2">"module.foo.bar"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"module.foo"</span><span class="p">,</span><span class="w"> </span><span class="c1">// implied by the previous</span><span class="w"></span>
<span class="w">    </span><span class="s2">"var.example[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"var.example"</span><span class="p">,</span><span class="w"> </span><span class="c1">// implied by the previous</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Partial references like "data" and "module" are not included, because</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Terraform considers "module.foo" to be an atomic reference, not an</span><span class="w"></span>
<span class="w">    </span><span class="c1">// attribute access.</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Expressions in <code>dynamic</code> blocks are not included in the configuration representation.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Block%20Expressions%20Representation"></a><h3 id="block-expressions-representation">Block Expressions Representation</h3>

<p>In some cases, it is the entire content of a block (possibly after certain special arguments have already been handled and removed) that must be represented. For that, we have an <code>&lt;block-expressions-representation&gt;</code> structure:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Attribute arguments are mapped directly with the attribute name as key and</span><span class="w"></span>
<span class="w">  </span><span class="c1">// an &lt;expression-representation&gt; as value.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"ami"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="s2">"instance_type"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// Nested block arguments are mapped as either a single nested</span><span class="w"></span>
<span class="w">  </span><span class="c1">// &lt;block-expressions-representation&gt; or an array object of these, depending on the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// block nesting mode chosen in the schema.</span><span class="w"></span>
<span class="w">  </span><span class="c1">//  - "single" nesting is a direct &lt;block-expressions-representation&gt;</span><span class="w"></span>
<span class="w">  </span><span class="c1">//  - "list" and "set" produce arrays</span><span class="w"></span>
<span class="w">  </span><span class="c1">//  - "map" produces an object</span><span class="w"></span>
<span class="w">  </span><span class="s2">"root_block_device"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="s2">"ebs_block_device"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">expression</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>For now we expect callers to just hard-code assumptions about the schemas of particular resource types in order to process these expression representations. In a later release we will add new inspection commands to return machine-readable descriptions of the schemas themselves, allowing for more generic handling in programs such as visualization tools.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Change%20Representation"></a><h2 id="change-representation">Change Representation</h2>

<p>A <code>&lt;change-representation&gt;</code> describes the change to the indicated object.</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "actions" are the actions that will be taken on the object selected by the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// properties below.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Valid actions values are:</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["no-op"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["create"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["read"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["update"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["delete", "create"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["create", "delete"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">//    ["delete"]</span><span class="w"></span>
<span class="w">  </span><span class="c1">// The two "replace" actions are represented in this way to allow callers to</span><span class="w"></span>
<span class="w">  </span><span class="c1">// e.g. just scan the list for "delete" to recognize all three situations</span><span class="w"></span>
<span class="w">  </span><span class="c1">// where the object will be deleted, allowing for any new deletion</span><span class="w"></span>
<span class="w">  </span><span class="c1">// combinations that might be added in future.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"actions"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"update"</span><span class="p">],</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "before" and "after" are representations of the object value both before</span><span class="w"></span>
<span class="w">  </span><span class="c1">// and after the action. For ["create"] and ["delete"] actions, either</span><span class="w"></span>
<span class="w">  </span><span class="c1">// "before" or "after" is unset (respectively). For ["no-op"], the before and</span><span class="w"></span>
<span class="w">  </span><span class="c1">// after values are identical. The "after" value will be incomplete if there</span><span class="w"></span>
<span class="w">  </span><span class="c1">// are values within it that won't be known until after apply.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"before"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">value</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="s2">"after"</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">value</span><span class="o">-</span><span class="nx">representation</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "after_unknown" is an object value with similar structure to "after", but</span><span class="w"></span>
<span class="w">  </span><span class="c1">// with all unknown leaf values replaced with "true", and all known leaf</span><span class="w"></span>
<span class="w">  </span><span class="c1">// values omitted. This can be combined with "after" to reconstruct a full</span><span class="w"></span>
<span class="w">  </span><span class="c1">// value after the action, including values which will only be known after</span><span class="w"></span>
<span class="w">  </span><span class="c1">// apply.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"after_unknown"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"id"</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "before_sensitive" and "after_sensitive" are object values with similar</span><span class="w"></span>
<span class="w">  </span><span class="c1">// structure to "before" and "after", but with all sensitive leaf values</span><span class="w"></span>
<span class="w">  </span><span class="c1">// replaced with true, and all non-sensitive leaf values omitted. These</span><span class="w"></span>
<span class="w">  </span><span class="c1">// objects should be combined with "before" and "after" to prevent accidental</span><span class="w"></span>
<span class="w">  </span><span class="c1">// display of sensitive values in user interfaces.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"before_sensitive"</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">  </span><span class="s2">"after_sensitive"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"triggers"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"boop"</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "replace_paths" is an array of arrays representing a set of paths into the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// object value which resulted in the action being "replace". This will be</span><span class="w"></span>
<span class="w">  </span><span class="c1">// omitted if the action is not replace, or if no paths caused the</span><span class="w"></span>
<span class="w">  </span><span class="c1">// replacement (for example, if the resource was tainted). Each path</span><span class="w"></span>
<span class="w">  </span><span class="c1">// consists of one or more steps, each of which will be a number or a</span><span class="w"></span>
<span class="w">  </span><span class="c1">// string.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"replace_paths"</span><span class="o">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">"triggers"</span><span class="p">]],</span><span class="w"></span>

<span class="w">  </span><span class="c1">// "importing" is present only when the object is being imported as part</span><span class="w"></span>
<span class="w">  </span><span class="c1">// of this change.</span><span class="w"></span>
<span class="w">  </span><span class="s2">"importing"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// "id" is the import ID of the object being imported.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"id"</span><span class="o">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Checks%20Representation"></a><h2 id="checks-representation">Checks Representation</h2>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Warning</em>
    <p>The JSON representation of checks is experimental and some details may change in future Terraform versions based on feedback, even in minor releases of Terraform CLI.</p>
</aside>

<p>A <code>&lt;checks-representation&gt;</code> describes the current state of a checkable object in the configuration. For example, a resource with one or more preconditions or postconditions is an example of a checkable object, and its check state represents the results of those conditions.</p>

<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// "address" describes the address of the checkable object whose status</span><span class="w"></span>
<span class="w">    </span><span class="c1">// this object is describing.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">// "kind" specifies what kind of checkable object this is. Different</span><span class="w"></span>
<span class="w">      </span><span class="c1">// kinds of object will have different additional properties inside the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// address object, but all kinds include both "kind" and "to_display".</span><span class="w"></span>
<span class="w">      </span><span class="c1">// The two valid kinds are "resource" and "output_value".</span><span class="w"></span>
<span class="w">      </span><span class="s2">"kind"</span><span class="o">:</span><span class="w"> </span><span class="s2">"resource"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "to_display" contains an opaque string representation of the address</span><span class="w"></span>
<span class="w">      </span><span class="c1">// of the object that is suitable for display in a UI. For consumers that</span><span class="w"></span>
<span class="w">      </span><span class="c1">// have special handling depending on the value of "kind", this property</span><span class="w"></span>
<span class="w">      </span><span class="c1">// is a good fallback to use when the application doesn't recognize the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// "kind" value.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"to_display"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance.example"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "mode" is included for kind "resource" only, and specifies the resource</span><span class="w"></span>
<span class="w">      </span><span class="c1">// mode which can either be "managed" (for "resource" blocks) or "data"</span><span class="w"></span>
<span class="w">      </span><span class="c1">// (for "data" blocks).</span><span class="w"></span>
<span class="w">      </span><span class="s2">"mode"</span><span class="o">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "type" is included for kind "resource" only, and specifies the resource</span><span class="w"></span>
<span class="w">      </span><span class="c1">// type.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"type"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "name" is the local name of the object. For a resource this is the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// second label in the resource block header, and for an output value</span><span class="w"></span>
<span class="w">      </span><span class="c1">// this is the single label in the output block header.</span><span class="w"></span>
<span class="w">      </span><span class="s2">"name"</span><span class="o">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>

<span class="w">      </span><span class="c1">// "module" is included if the object belongs to a module other than</span><span class="w"></span>
<span class="w">      </span><span class="c1">// the root module, and provides an opaque string representation of the</span><span class="w"></span>
<span class="w">      </span><span class="c1">// module this object belongs to. This example is of a root module</span><span class="w"></span>
<span class="w">      </span><span class="c1">// resource and so "module" is not included.</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="c1">// "status" is the aggregate status of all of the instances of the object</span><span class="w"></span>
<span class="w">    </span><span class="c1">// being described by this object.</span><span class="w"></span>
<span class="w">    </span><span class="c1">// The possible values are "pass", "fail", "error", and "unknown".</span><span class="w"></span>
<span class="w">    </span><span class="s2">"status"</span><span class="o">:</span><span class="w"> </span><span class="s2">"fail"</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="c1">// "instances" describes the current status of each of the instances of</span><span class="w"></span>
<span class="w">    </span><span class="c1">// the object being described. An object can have multiple instances if</span><span class="w"></span>
<span class="w">    </span><span class="c1">// it is either a resource which has "count" or "for_each" set, or if</span><span class="w"></span>
<span class="w">    </span><span class="c1">// it's contained within a module that has "count" or "for_each" set.</span><span class="w"></span>
<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="c1">// If "instances" is empty or omitted, that can either mean that the object</span><span class="w"></span>
<span class="w">    </span><span class="c1">// has no instances at all (e.g. count = 0) or that an error blocked</span><span class="w"></span>
<span class="w">    </span><span class="c1">// evaluation of the repetition argument. You can distinguish these cases</span><span class="w"></span>
<span class="w">    </span><span class="c1">// using the "status" property, which will be "pass" or "error" for a</span><span class="w"></span>
<span class="w">    </span><span class="c1">// zero-instance object and "unknown" for situations where an error blocked</span><span class="w"></span>
<span class="w">    </span><span class="c1">// evalation.</span><span class="w"></span>
<span class="w">    </span><span class="s2">"instances"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "address" is an object similar to the property of the same name in</span><span class="w"></span>
<span class="w">        </span><span class="c1">// the containing object. Merge the instance-level address into the</span><span class="w"></span>
<span class="w">        </span><span class="c1">// object-level address, overwriting any conflicting property names,</span><span class="w"></span>
<span class="w">        </span><span class="c1">// to create a full description of the instance's address.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"address"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="c1">// "to_display" overrides the property of the same name in the main</span><span class="w"></span>
<span class="w">          </span><span class="c1">// object's address, to include any module instance or resource</span><span class="w"></span>
<span class="w">          </span><span class="c1">// instance keys that uniquely identify this instance.</span><span class="w"></span>
<span class="w">          </span><span class="s2">"to_display"</span><span class="o">:</span><span class="w"> </span><span class="s2">"aws_instance.example[0]"</span><span class="p">,</span><span class="w"></span>

<span class="w">          </span><span class="c1">// "instance_key" is included for resources only and specifies the</span><span class="w"></span>
<span class="w">          </span><span class="c1">// resource-level instance key, which can either be a number or a</span><span class="w"></span>
<span class="w">          </span><span class="c1">// string. Omitted for single-instance resources.</span><span class="w"></span>
<span class="w">          </span><span class="s2">"instance_key"</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"></span>

<span class="w">          </span><span class="c1">// "module" is included if the object belongs to a module other than</span><span class="w"></span>
<span class="w">          </span><span class="c1">// the root module, and provides an opaque string representation of the</span><span class="w"></span>
<span class="w">          </span><span class="c1">// module instance this object belongs to.</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "status" describes the result of running the configured checks</span><span class="w"></span>
<span class="w">        </span><span class="c1">// against this particular instance of the object, with the same</span><span class="w"></span>
<span class="w">        </span><span class="c1">// possible values as the "status" in the parent object.</span><span class="w"></span>
<span class="w">        </span><span class="c1">//</span><span class="w"></span>
<span class="w">        </span><span class="c1">// "fail" means that the condition evaluated successfully but returned</span><span class="w"></span>
<span class="w">        </span><span class="c1">// false, while "error" means that the condition expression itself</span><span class="w"></span>
<span class="w">        </span><span class="c1">// was invalid.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"status"</span><span class="o">:</span><span class="w"> </span><span class="s2">"fail"</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="c1">// "problems" might be included for statuses "fail" or "error", in</span><span class="w"></span>
<span class="w">        </span><span class="c1">// which case it describes the individual conditions that failed for</span><span class="w"></span>
<span class="w">        </span><span class="c1">// this instance, if any.</span><span class="w"></span>
<span class="w">        </span><span class="c1">// When a condition expression is invalid, Terraform returns that as</span><span class="w"></span>
<span class="w">        </span><span class="c1">// a normal error message rather than as a problem in this list.</span><span class="w"></span>
<span class="w">        </span><span class="s2">"problems"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="c1">// "message" is the string that resulted from evaluating the</span><span class="w"></span>
<span class="w">            </span><span class="c1">// error_message argument of the failing condition.</span><span class="w"></span>
<span class="w">            </span><span class="s2">"message"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Server does not have a public IPv6 address."</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
</code></pre></div>

<p>The "checks" model includes both static checkable objects and instances of
those objects to ensure that the set of checkable objects will be consistent
even if an error prevents full evaluation of the configuration. Any object
in the configuration which has associated checks, such as a resource with
preconditions or postconditions, will always be included as a checkable object
even if a runtime error prevents Terraform from evaluating its "count" or
"for_each" argument and therefore determining which instances of that object
exist dynamically.</p>

<p>When summarizing checks in a UI, we recommend preferring to list only the
individual instances and typically ignoring the top-level objects altogether.
However, in any case where an object has <em>zero</em> instances, the UI should show
the top-level object instead to serve as a placeholder so that the user can
see that Terraform recognized the existence of the checks, even if it wasn't
able to evaluate them on the most recent run.</p>

            
        
    </body></html>