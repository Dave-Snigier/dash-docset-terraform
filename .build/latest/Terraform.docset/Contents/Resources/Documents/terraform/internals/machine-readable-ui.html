<html><!-- Online page at https://www.terraform.io/internals/machine-readable-ui --><head>
                <title>Machine-readable UI Output Reference</title>
                <meta charset="utf-8"/>
                <link href="../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="machine-readable-ui-output-reference">Machine-readable UI Output Reference</h1>

<p>This topic provides reference information about the machine-readable output Terraform prints. </p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Introduction"></a><h2 id="introduction">Introduction</h2>

<p>By default, many Terraform commands display UI output as unstructured text that is intended to be read in a terminal emulator. This text stream is not a stable interface for integrations. Some commands support a <code>-json</code> flag, which enables a structured JSON output mode with a defined interface.</p>

<p>For long-running commands such as <code>plan</code>, <code>apply</code>, <code>refresh</code>, and <code>test</code>, the <code>-json</code> flag outputs a stream of JSON UI messages. The ouptut messages appear one per line so that you can process the messages by integrating software filtering, combining, or modifying the output as desired.</p>

<p>The first message output has type <code>version</code>, and includes a <code>ui</code> key, which as of Terraform 1.1.0 has
value <code>"1.0"</code>. The semantics of this version are:</p>

<ul>
<li>We will increment the minor version, e.g. <code>"1.1"</code>, for backward-compatible
changes or additions. Ignore any object properties with unrecognized names to
remain forward-compatible with future minor versions.</li>
<li>We will increment the major version, e.g. <code>"2.0"</code>, for changes that are not
backward-compatible. Reject any input which reports an unsupported major
version.</li>
</ul>

<p>Refer to 
<a href="../terraform/language/v1-compatibility-promises.html">Terraform 1.0 Compatibility Promises</a> for additional information.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Sample%20JSON%20Output"></a><h2 id="sample-json-output">Sample JSON Output</h2>

<p>Below is sample output from running <code>terraform apply -json</code>:</p>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"Terraform 0.15.4"</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.275359-04:00"</span><span class="p">,</span><span class="s2">"terraform"</span><span class="o">:</span><span class="s2">"0.15.4"</span><span class="p">,</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"version"</span><span class="p">,</span><span class="s2">"ui"</span><span class="o">:</span><span class="s2">"0.1.0"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"random_pet.animal: Plan to create"</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.705503-04:00"</span><span class="p">,</span><span class="s2">"change"</span><span class="o">:</span><span class="p">{</span><span class="s2">"resource"</span><span class="o">:</span><span class="p">{</span><span class="s2">"addr"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"module"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="s2">"resource"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"implied_provider"</span><span class="o">:</span><span class="s2">"random"</span><span class="p">,</span><span class="s2">"resource_type"</span><span class="o">:</span><span class="s2">"random_pet"</span><span class="p">,</span><span class="s2">"resource_name"</span><span class="o">:</span><span class="s2">"animal"</span><span class="p">,</span><span class="s2">"resource_key"</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="s2">"action"</span><span class="o">:</span><span class="s2">"create"</span><span class="p">},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"planned_change"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"Plan: 1 to add, 0 to change, 0 to destroy."</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.705638-04:00"</span><span class="p">,</span><span class="s2">"changes"</span><span class="o">:</span><span class="p">{</span><span class="s2">"add"</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span><span class="s2">"change"</span><span class="o">:</span><span class="mf">0</span><span class="p">,</span><span class="s2">"remove"</span><span class="o">:</span><span class="mf">0</span><span class="p">,</span><span class="s2">"operation"</span><span class="o">:</span><span class="s2">"plan"</span><span class="p">},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"change_summary"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"random_pet.animal: Creating..."</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.825308-04:00"</span><span class="p">,</span><span class="s2">"hook"</span><span class="o">:</span><span class="p">{</span><span class="s2">"resource"</span><span class="o">:</span><span class="p">{</span><span class="s2">"addr"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"module"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="s2">"resource"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"implied_provider"</span><span class="o">:</span><span class="s2">"random"</span><span class="p">,</span><span class="s2">"resource_type"</span><span class="o">:</span><span class="s2">"random_pet"</span><span class="p">,</span><span class="s2">"resource_name"</span><span class="o">:</span><span class="s2">"animal"</span><span class="p">,</span><span class="s2">"resource_key"</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="s2">"action"</span><span class="o">:</span><span class="s2">"create"</span><span class="p">},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"apply_start"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"random_pet.animal: Creation complete after 0s [id=smart-lizard]"</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.826179-04:00"</span><span class="p">,</span><span class="s2">"hook"</span><span class="o">:</span><span class="p">{</span><span class="s2">"resource"</span><span class="o">:</span><span class="p">{</span><span class="s2">"addr"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"module"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="s2">"resource"</span><span class="o">:</span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="s2">"implied_provider"</span><span class="o">:</span><span class="s2">"random"</span><span class="p">,</span><span class="s2">"resource_type"</span><span class="o">:</span><span class="s2">"random_pet"</span><span class="p">,</span><span class="s2">"resource_name"</span><span class="o">:</span><span class="s2">"animal"</span><span class="p">,</span><span class="s2">"resource_key"</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="s2">"action"</span><span class="o">:</span><span class="s2">"create"</span><span class="p">,</span><span class="s2">"id_key"</span><span class="o">:</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"id_value"</span><span class="o">:</span><span class="s2">"smart-lizard"</span><span class="p">,</span><span class="s2">"elapsed_seconds"</span><span class="o">:</span><span class="mf">0</span><span class="p">},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"apply_complete"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"Apply complete! Resources: 1 added, 0 changed, 0 destroyed."</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.869168-04:00"</span><span class="p">,</span><span class="s2">"changes"</span><span class="o">:</span><span class="p">{</span><span class="s2">"add"</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span><span class="s2">"change"</span><span class="o">:</span><span class="mf">0</span><span class="p">,</span><span class="s2">"remove"</span><span class="o">:</span><span class="mf">0</span><span class="p">,</span><span class="s2">"operation"</span><span class="o">:</span><span class="s2">"apply"</span><span class="p">},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"change_summary"</span><span class="p">}</span><span class="w"></span>
<span class="p">{</span><span class="s2">"@level"</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="s2">"@message"</span><span class="o">:</span><span class="s2">"Outputs: 1"</span><span class="p">,</span><span class="s2">"@module"</span><span class="o">:</span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="s2">"@timestamp"</span><span class="o">:</span><span class="s2">"2021-05-25T13:32:41.869280-04:00"</span><span class="p">,</span><span class="s2">"outputs"</span><span class="o">:</span><span class="p">{</span><span class="s2">"pets"</span><span class="o">:</span><span class="p">{</span><span class="s2">"sensitive"</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"string"</span><span class="p">,</span><span class="s2">"value"</span><span class="o">:</span><span class="s2">"smart-lizard"</span><span class="p">}},</span><span class="s2">"type"</span><span class="o">:</span><span class="s2">"outputs"</span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Each line consists of a JSON object with several keys common to all messages. These are:</p>

<ul>
<li><code>@level</code>: this is normally "info", but can be "error" or "warn" when showing diagnostics</li>
<li><code>@message</code>: a human-readable summary of the contents of this message</li>
<li><code>@module</code>: always "terraform.ui" when rendering UI output</li>
<li><code>@timestamp</code>: an RFC3339 timestamp of when the message was output</li>
<li><code>type</code>: defines which kind of message this is and determines how to interpret other keys which may be present</li>
</ul>

<p>Clients presenting the logs as a user interface should handle unexpected message types by presenting at least the <code>@message</code> field to the user.</p>

<p>Messages will be emitted as events occur to trigger them. This means that messages related to several resources may be interleaved (if Terraform is running with concurrency above 1). The <a href="#resource-object"><code>resource</code> object value</a> can be used to link multiple messages about a single resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Message%20Types"></a><h2 id="message-types">Message Types</h2>

<p>The following message types are supported:</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Generic%20Messages"></a><h3 id="generic-messages">Generic Messages</h3>

<ul>
<li><code>version</code>: information about the Terraform version and the version of the schema used for the following messages</li>
<li><code>log</code>: unstructured human-readable log lines</li>
<li><code>diagnostic</code>: diagnostic warning or error messages; <a href="../terraform/cli/commands/validate.html#json">see the <code>terraform validate</code> docs for more details on the format</a></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Operation%20Results"></a><h3 id="operation-results">Operation Results</h3>

<ul>
<li><code>resource_drift</code>: describes a detected change to a single resource made outside of Terraform</li>
<li><code>planned_change</code>: describes a planned change to a single resource</li>
<li><code>change_summary</code>: summary of all planned or applied changes</li>
<li><code>outputs</code>: list of all root module outputs</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Resource%20Progress"></a><h3 id="resource-progress">Resource Progress</h3>

<ul>
<li><code>apply_start</code>, <code>apply_progress</code>, <code>apply_complete</code>, <code>apply_errored</code>: sequence of messages indicating progress of a single resource through apply</li>
<li><code>provision_start</code>, <code>provision_progress</code>, <code>provision_complete</code>, <code>provision_errored</code>: sequence of messages indicating progress of a single provisioner step</li>
<li><code>refresh_start</code>, <code>refresh_complete</code>: sequence of messages indicating progress of a single resource through refresh</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Results"></a><h3 id="test-results">Test Results</h3>

<ul>
<li><code>test_abstract</code>: describes the test operation that Terraform executes</li>
<li><code>test_file</code>: describes the status of a completed test file</li>
<li><code>test_run</code>: describes the status of a completed <code>run</code> block within a test file</li>
<li><code>test_cleanup</code>: describes the result of the test cleanup after a completed test file</li>
<li><code>test_summary</code>: describes the overall status of the completed test operation</li>
<li><code>test_plan</code>: describes the output of a given <code>run</code> block when <code>command = plan</code></li>
<li><code>test_state</code>: describes the output of a given <code>run</code> block when <code>command = apply</code></li>
<li><code>test_interrupt</code>: describes the result of an interrupted test operation</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Version%20Message"></a><h2 id="version-message">Version Message</h2>

<p>A machine-readable UI command output will always begin with a <code>version</code> message. The following message-specific keys are defined:</p>

<ul>
<li><code>terraform</code>: the Terraform version which emitted this message</li>
<li><code>ui</code>: the machine-readable UI schema version defining the meaning of the following messages</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terraform 0.15.4"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.275359-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"terraform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.15.4"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"version"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"ui"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1.0"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Resource%20Drift"></a><h2 id="resource-drift">Resource Drift</h2>

<p>If drift is detected during planning, Terraform will emit a <code>resource_drift</code> message for each resource which has changed outside of Terraform. This message has an embedded <code>change</code> object with the following keys:</p>

<ul>
<li><code>resource</code>: object describing the address of the resource to be changed; see <a href="#resource-object">resource object</a> below for details</li>
<li><code>action</code>: the action planned to be taken for the resource. Values: <code>update</code>, <code>delete</code>.</li>
</ul>

<p>This message does not include details about the exact changes which caused the change to be planned. That information is available in <a href="../terraform/internals/json-format.html">the JSON plan output</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-2">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal: Drift detected (update)"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.705503-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"resource_drift"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Planned%20Change"></a><h2 id="planned-change">Planned Change</h2>

<p>At the end of a plan or before an apply, Terraform will emit a <code>planned_change</code> message for each resource which has changes to apply. This message has an embedded <code>change</code> object with the following keys:</p>

<ul>
<li><code>resource</code>: object describing the address of the resource to be changed; see <a href="#resource-object">resource object</a> below for details</li>
<li><code>previous_resource</code>: object describing the previous address of the resource, if this change includes a configuration-driven move</li>
<li><code>action</code>: the action planned to be taken for the resource. Values: <code>noop</code>, <code>create</code>, <code>read</code>, <code>update</code>, <code>replace</code>, <code>delete</code>, <code>move</code>, <code>import</code>.</li>
<li><code>reason</code>: an optional reason for the change, only used when the action is <code>replace</code> or <code>delete</code>. Values:
<ul>
<li><code>tainted</code>: resource was marked as tainted</li>
<li><code>requested</code>: user requested that the resource be replaced, for example via the <code>-replace</code> plan flag</li>
<li><code>cannot_update</code>: changes to configuration force the resource to be deleted and created rather than updated</li>
<li><code>delete_because_no_resource_config</code>: no matching resource in configuration</li>
<li><code>delete_because_wrong_repetition</code>: resource instance key has no corresponding <code>count</code> or <code>for_each</code> in configuration</li>
<li><code>delete_because_count_index</code>: resource instance key is outside the range of the <code>count</code> argument</li>
<li><code>delete_because_each_key</code>: resource instance key is not included in the <code>for_each</code> argument</li>
<li><code>delete_because_no_module</code>: enclosing module instance is not in configuration</li>
</ul></li>
</ul>

<p>This message does not include details about the exact changes which caused the change to be planned. That information is available in <a href="../terraform/internals/json-format.html">the JSON plan output</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-3">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal: Plan to create"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.705503-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"planned_change"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Change%20Summary"></a><h2 id="change-summary">Change Summary</h2>

<p>Terraform outputs a change summary when a plan or apply operation completes. Both message types include a <code>changes</code> object, which has the following keys:</p>

<ul>
<li><code>add</code>: count of resources to be created (including as part of replacement)</li>
<li><code>change</code>: count of resources to be changed in-place</li>
<li><code>remove</code>: count of resources to be destroyed (including as part of replacement)</li>
<li><code>operation</code>: one of <code>plan</code>, <code>apply</code>, or <code>destroy</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-4">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apply complete! Resources: 1 added, 0 changed, 0 destroyed."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.869168-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apply"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"change_summary"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Outputs"></a><h2 id="outputs">Outputs</h2>

<p>After a successful plan or apply, a message with type <code>outputs</code> contains the values of all root module output values. This message contains an <code>outputs</code> object, the keys of which are the output names. The outputs values are objects with the following keys:</p>

<ul>
<li><code>action</code>: for planned outputs, the action which will be taken for the output. Values: <code>noop</code>, <code>create</code>, <code>update</code>, <code>delete</code></li>
<li><code>value</code>: for applied outputs, the value of the output, encoded in JSON</li>
<li><code>type</code>: for applied outputs, the detected HCL type of the output value</li>
<li><code>sensitive</code>: boolean value, <code>true</code> if the output is sensitive and should be hidden from UI by default</li>
</ul>

<p>Note that <code>sensitive</code> outputs still include the <code>value</code> field, and integrating software should respect the sensitivity value as appropriate for the given use case.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-5">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outputs: 1"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.869280-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"sensitive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-lizard"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outputs"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Operation%20Messages"></a><h2 id="operation-messages">Operation Messages</h2>

<p>Performing Terraform operations to a resource will often result in several messages being emitted. The message types include:</p>

<ul>
<li><code>apply_start</code>: when starting to apply changes for a resource</li>
<li><code>apply_progress</code>: periodically, showing elapsed time output</li>
<li><code>apply_complete</code>: on successful operation completion</li>
<li><code>apply_errored</code>: when an error is encountered during the operation</li>
<li><code>provision_start</code>: when starting a provisioner step</li>
<li><code>provision_progress</code>: on provisioner output</li>
<li><code>provision_complete</code>: on successful provisioning</li>
<li><code>provision_errored</code>: when an error is enountered during provisioning</li>
<li><code>refresh_start</code>: when reading a resource during refresh</li>
<li><code>refresh_complete</code>: on successful refresh</li>
<li><code>ephemeral_op_start</code>: when starting an ephemeral resource operation</li>
<li><code>ephemeral_op_progress</code>: periodically showing elapsed time output during ephemeral resource operation</li>
<li><code>ephemeral_op_complete</code>: on successful ephemeral resource operation completion</li>
<li><code>ephemeral_op_errored</code>: when an error is encountered during ephemeral resource operation</li>
</ul>

<p>Each of these messages has a <code>hook</code> object, which has different fields for each type. All hooks have a <a href="#resource-object"><code>resource</code> object</a> which identifies which resource is the subject of the operation.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Apply%20Start"></a><h2 id="apply-start">Apply Start</h2>

<p>The <code>apply_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action to be taken for the resource. Values: <code>noop</code>, <code>create</code>, <code>read</code>, <code>update</code>, <code>replace</code>, <code>delete</code></li>
<li><code>id_key</code> and <code>id_value</code>: a key/value pair used to identify this instance of the resource, omitted when unknown</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-6">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal: Creating..."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.825308-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apply_start"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Apply%20Progress"></a><h2 id="apply-progress">Apply Progress</h2>

<p>The <code>apply_progress</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action being taken for the resource. Values: <code>noop</code>, <code>create</code>, <code>read</code>, <code>update</code>, <code>replace</code>, <code>delete</code></li>
<li><code>elapsed_seconds</code>: time elapsed since the apply operation started, expressed as an integer number of seconds</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-7">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[4]: Still creating... [30s elapsed]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-17T09:34:26.222465-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[4]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[4]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apply_progress"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Apply%20Complete"></a><h2 id="apply-complete">Apply Complete</h2>

<p>The <code>apply_complete</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action taken for the resource. Values: <code>noop</code>, <code>create</code>, <code>read</code>, <code>update</code>, <code>replace</code>, <code>delete</code></li>
<li><code>id_key</code> and <code>id_value</code>: a key/value pair used to identify this instance of the resource, omitted when unknown</li>
<li><code>elapsed_seconds</code>: time elapsed since the apply operation started, expressed as an integer number of seconds</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-8">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal: Creation complete after 0s [id=smart-lizard]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-25T13:32:41.826179-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"animal"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-lizard"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apply_complete"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Apply%20Errored"></a><h2 id="apply-errored">Apply Errored</h2>

<p>The <code>apply_complete</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action taken for the resource. Values: <code>noop</code>, <code>create</code>, <code>read</code>, <code>update</code>, <code>replace</code>, <code>delete</code></li>
<li><code>elapsed_seconds</code>: time elapsed since the apply operation started, expressed as an integer number of seconds</li>
</ul>

<p>The exact detail of the error will be rendered as a separate <code>diagnostic</code> message.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-9">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: Creation errored after 10s"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T16:38:54.013910-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apply_errored"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provision%20Start"></a><h2 id="provision-start">Provision Start</h2>

<p>The <code>provision_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>provisioner</code>: the type of provisioner</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-10">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: Provisioning with 'local-exec'..."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T16:38:43.997431-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provisioner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local-exec"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provision_start"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provision%20Progress"></a><h2 id="provision-progress">Provision Progress</h2>

<p>The <code>provision_progress</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>provisioner</code>: the type of provisioner</li>
<li><code>output</code>: the output log from the provisioner</li>
</ul>

<p>One <code>provision_progress</code> message is output for each log line received from the provisioner.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-11">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: (local-exec): Executing: [\"/bin/sh\" \"-c\" \"sleep 10 &amp;&amp; exit 1\"]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T16:38:43.997869-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provisioner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local-exec"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Executing: [\"/bin/sh\" \"-c\" \"sleep 10 &amp;&amp; exit 1\"]"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provision_progress"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provision%20Complete"></a><h2 id="provision-complete">Provision Complete</h2>

<p>The <code>provision_complete</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>provisioner</code>: the type of provisioner</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-12">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: (local-exec) Provisioning complete"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-17T09:34:06.239043-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provisioner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local-exec"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provision_complete"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provision%20Errored"></a><h2 id="provision-errored">Provision Errored</h2>

<p>The <code>provision_errored</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>provisioner</code>: the type of provisioner</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-13">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: (local-exec) Provisioning errored"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T16:38:54.013572-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provisioner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local-exec"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provision_errored"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Refresh%20Start"></a><h2 id="refresh-start">Refresh Start</h2>

<p>The <code>refresh_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>id_key</code> and <code>id_value</code>: a key/value pair used to identify this instance of the resource</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-14">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: Refreshing state... [id=1971614370559474622]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T14:18:06.508915-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1971614370559474622"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_start"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Refresh%20Complete"></a><h2 id="refresh-complete">Refresh Complete</h2>

<p>The <code>refresh_complete</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>id_key</code> and <code>id_value</code>: a key/value pair used to identify this instance of the resource</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-15">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]: Refresh complete [id=1971614370559474622]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T14:18:06.509371-04:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource.none[0]"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"null_resource"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"id_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1971614370559474622"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_complete"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Ephemeral%20Operation%20Start"></a><h2 id="ephemeral-operation-start">Ephemeral Operation Start</h2>

<p>The <code>ephemeral_op_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action the ephemeral resource is going through. Values: <code>open</code>, <code>renew</code>, <code>close</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-16">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example: Opening..."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-30T10:34:26.222465-00:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_password"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral_op_start"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Ephemeral%20Operation%20Progress"></a><h2 id="ephemeral-operation-progress">Ephemeral Operation Progress</h2>

<p>The <code>ephemeral_op_progress</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action the ephemeral resource is going through. Values: <code>open</code>, <code>renew</code>, <code>close</code></li>
<li><code>elapsed_seconds</code>: time elapsed since the operation started, expressed as an integer number of seconds</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-17">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example: Closing... [3s elapsed]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-30T10:34:26.222465-00:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_password"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral_op_progress"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Ephemeral%20Operation%20Complete"></a><h2 id="ephemeral-operation-complete">Ephemeral Operation Complete</h2>

<p>The <code>ephemeral_op_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action the ephemeral resource is going through. Values: <code>open</code>, <code>renew</code>, <code>close</code></li>
<li><code>elapsed_seconds</code>: time elapsed since the operation started, expressed as an integer number of seconds</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-18">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example: Opening complete after 1s"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-30T10:34:26.222465-00:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_password"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral_op_complete"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Ephemeral%20Operation%20Errored"></a><h2 id="ephemeral-operation-errored">Ephemeral Operation Errored</h2>

<p>The <code>ephemeral_op_start</code> message <code>hook</code> object has the following keys:</p>

<ul>
<li><code>resource</code>: a <a href="#resource-object"><code>resource</code> object</a> identifying the resource</li>
<li><code>action</code>: the action the ephemeral resource is going through. Values: <code>open</code>, <code>renew</code>, <code>close</code></li>
<li><code>elapsed_seconds</code>: time elapsed since the operation started, expressed as an integer number of seconds</li>
</ul>

<p>The exact detail of the error will be rendered as a separate <code>diagnostic</code> message.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-19">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example: Opening errored after 2s"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-30T10:34:26.222465-00:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"hook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral.random_password.example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_password"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ephemeral_op_errored"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Resource%20Object"></a><h2 id="resource-object">Resource Object</h2>

<p>The <code>resource</code> object is a decomposed structure representing a resource address in configuration, which is used to identify which resource a given message is associated with. The object has the following keys:</p>

<ul>
<li><code>addr</code>: the full unique address of the resource as a string</li>
<li><code>module</code>: the address of the module containing the resource, in the form <code>module.foo.module.bar</code>, or an empty string for a root module resource</li>
<li><code>resource</code>: the module-relative address, which is identical to <code>addr</code> for root module resources</li>
<li><code>resource_type</code>: the type of resource being addressed</li>
<li><code>resource_name</code>: the name label for the resource</li>
<li><code>resource_key</code>: the address key (<code>count</code> or <code>for_each</code> value), or <code>null</code> if the neither are used</li>
<li><code>implied_provider</code>: the provider type implied by the resource type; this may not reflect the resource's provider if provider aliases are used</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-20">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"module.pets.random_pet.pet[\"friend\"]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"module.pets"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet.pet[\"friend\"]"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"implied_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resource_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"random_pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resource_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pet"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resource_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"friend"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Abstract"></a><h2 id="test-abstract">Test Abstract</h2>

<p>The <code>terraform test</code> command emits a <code>test_abstract</code> message describing the test files and <code>run</code> blocks that Terraform executes during the upcoming operation.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-21">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Found 1 file and 2 run blocks"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:12:30.325582+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_abstract"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"validation.tftest.hcl"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"passed_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"failed_validatation"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_abstract"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20File"></a><h2 id="test-file">Test File</h2>

<p>Throughout a <code>terraform test</code> execution, Terraform will produce several progress updates for each test file. The progress field can be <code>starting</code>, <code>teardown</code>, or <code>complete</code>. Each test file will emit each progress update exactly once. When a test file emits the <code>complete</code> progress update, it will also include a status field containing one of <code>pass</code>, <code>error</code>, <code>fail</code>, or <code>skip</code> denoting the overall status of the completed test file.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-22">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"main.tftest.hcl... pass"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:12:30.724368+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_file"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"progress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pass"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_file"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Run"></a><h2 id="test-run">Test Run</h2>

<p>While executing <code>run</code> blocks within a test file, Terraform will also produce several status updates for each <code>run</code> block. The progress field for a <code>run</code> block progress update can be <code>starting</code>, <code>running</code>, <code>teardown</code>, and <code>complete</code>. The <code>starting</code> and <code>complete</code> progress updates will be emitted exactly once. While the <code>running</code> and <code>teardown</code> progress updates can be emitted multiple times.</p>

<p>The <code>starting</code>, <code>running</code> and <code>teardown</code> updates will also include an <code>elapsed</code> field indicating the number of milliseconds the current test operation (for <code>starting</code> and <code>running</code>) or the current destroy operation (for <code>teardown</code>) has been in progress.</p>

<p>The <code>complete</code> progress update will also include a <code>status</code> field containing one of <code>pass</code>, <code>error</code>, <code>fail</code>, or <code>skip</code> denoting the overall status of the completed <code>run</code> block`.</p>

<p>Not every <code>run</code> block will emit <code>teardown</code> progress updates, as only the most recently executed <code>run</code> blocks reference the latest in-memory state files that need to be torn down. In addition, the <code>run</code> block tear down process is only initiated once the overall test file has already emitted its <code>teardown</code> status update. This means you can expect the <code>complete</code> progress update to be issued for a <code>run</code> block before any <code>teardown</code> updates are provided. There will always be a <code>complete</code> progress update issued by the enclosing test file when the tear down process for all <code>run</code> blocks is complete.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Examples"></a><h3 id="examples">Examples</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"  \"successful_validation\"... pass"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:12:30.724407+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_run"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"main.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"progress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pass"</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_run"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"  \"successful_validation\"... in progress"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:12:30.724407+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_run"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"main.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"progress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"elapsed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2024</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_run"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Cleanup"></a><h2 id="test-cleanup">Test Cleanup</h2>

<p>After Terraform completes the execution of each test file, <code>terraform test</code> may emit a series of <code>test_cleanup</code> messages detailing any state it could not destroy. You must locate and destroy the resources listed in these resources manually.</p>

<p>As the test framework can manage multiple state files for each test file, you can see multiple versions of this message for each state file that holds resources that Terraform could not destroy. Using the <code>@testrun</code> field, you can pinpoint the run block that last updated the state file to locate the resources that Terraform could not destroy.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-23">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Terraform left some resources in state after executing main.tftest.hcl, they need to be cleaned up manually."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:12:30.724407+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_cleanup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"failed_resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.primary"</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.secondary"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_cleanup"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Summary"></a><h2 id="test-summary">Test Summary</h2>

<p>After the test operation has completed all test files, <code>terraform test</code> emits a <code>test_summary</code> message with the status of the overall test operation.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-24">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success! 2 passed, 0 failed."</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T16:26:45.482070+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pass"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"passed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"errored"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_summary"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Plan"></a><h2 id="test-plan">Test Plan</h2>

<p>In <code>-verbose</code> mode, <code>terraform test</code> emits a <code>test_plan</code> message for all <code>run</code> blocks that executed a plan operation. The <code>test_plan</code> message contains a subset of the attributes from the <code>terraform show -json &lt;planfile&gt;</code> command <a href="../terraform/internals/json-format.html#plan-representation">output</a> and the <code>terraform providers schema -json</code> command <a href="../terraform/cli/commands/providers/schema.html#providers-schema-representation">output</a>.</p>

<p>The message contains the following fields representing the plan: <code>plan_format_version</code>, <code>output_changes</code>, <code>resource_changes</code>, <code>resource_drift</code> and <code>relevant_attributes</code>. These match the respective fields in the <a href="../terraform/internals/json-format.html#plan-representation">JSON Plan Representation</a>.</p>

<p>The message contains the following fields representing the provider schemas: <code>provider_format_version</code> and <code>provider_schemas</code>. These match the respective fields in the <a href="../terraform/cli/commands/providers/schema.html#providers-schema-representation">JSON Providers Schema Representation</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-25">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-verbose flag enabled, printing plan"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T17:10:06.211942+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"plan_format_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"resource_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.primary"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"provider_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry.terraform.io/hashicorp/aws"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"change"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="s2">"create"</span><span class="w"></span>
<span class="w">          </span><span class="p">],</span><span class="w"></span>
<span class="w">          </span><span class="nt">"before"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"after"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"ami"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af84f887-e3eb-9e52-5f8b-8a2803734fd0"</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="nt">"after_unknown"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"></span>
<span class="w">          </span><span class="nt">"before_sensitive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"after_sensitive"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provider_format_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provider_schemas"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"registry.terraform.io/hashicorp/aws"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">"resource_schemas"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"block"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">"ami"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"description_kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plain"</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">              </span><span class="p">},</span><span class="w"></span>
<span class="w">              </span><span class="nt">"description_kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plain"</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_plan"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20State"></a><h2 id="test-state">Test State</h2>

<p>In <code>-verbose</code> mode, <code>terraform test</code> emits a <code>test_state</code> message for all <code>run</code> blocks that executed an apply operation. The <code>test_state</code> message contains a subset of the <code>terraform show -json</code> command <a href="../terraform/internals/json-format.html#state-representation">output</a> and the <code>terraform providers schema -json</code> command <a href="../terraform/cli/commands/providers/schema.html#providers-schema-representation">output</a>.</p>

<p>The message contains the following fields representing the state: <code>state_format_version</code>, <code>root_module</code>, and <code>outputs</code>. These match the respective fields in the <a href="../terraform/internals/json-format.html#values-representation">JSON Values Representation</a> that are embedded in complete JSON state representation.</p>

<p>The message contains the following fields representing the provider schemas: <code>provider_format_version</code> and <code>provider_schemas</code>. These match the respective fields in the <a href="../terraform/cli/commands/providers/schema.html#providers-schema-representation">JSON Providers Schema Representation</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-26">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-verbose flag enabled, printing state"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T17:18:21.173008+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"state_format_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"root_module"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.primary"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"managed"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"provider_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry.terraform.io/hashicorp/aws"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"ami"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af84f887-e3eb-9e52-5f8b-8a2803734fd0"</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="nt">"sensitive_values"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provider_format_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"provider_schemas"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"registry.terraform.io/hashicorp/aws"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">"resource_schemas"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"aws_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"block"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">"ami"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"description_kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plain"</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">              </span><span class="p">},</span><span class="w"></span>
<span class="w">              </span><span class="nt">"description_kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plain"</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_state"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Test%20Interrupt"></a><h2 id="test-interrupt">Test Interrupt</h2>

<p>When <code>terraform test</code> is impeded or canceled, it emits a <code>test_interrupt</code> message that describes the interrupted operation. This message includes any state that Terraform could not destroy before exiting and any leftover resources that Terraform did not finish creating.</p>

<p>As with the <a href="#test-cleanup">Test Cleanup</a> message, Terraform might have been maintaining multiple state files. The <code>state</code> field contains the resources from the main state for the test configuration, while the <code>states</code> field contains a map of <code>run</code> block names to the resources that each <code>run</code> block created, which Terraform could not destroy.</p>

<p>Finally, the <code>planned</code> field contains any resources that were in the process of being created by the interrupted <code>run</code> block, which you can identify using the <code>@testrun</code> field.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example"></a><h3 id="example-27">Example</h3>

<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-verbose flag enabled, printing state"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.ui"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.tftest.hcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@testrun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful_validation"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"@timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T17:18:21.173008+02:00"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"test_interrupt"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.primary"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"states"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"unsuccessful_validation"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"instance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aws_instance.secondary"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">"planned"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"aws_instance.secondary"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_interrupt"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

            
        
    </body></html>