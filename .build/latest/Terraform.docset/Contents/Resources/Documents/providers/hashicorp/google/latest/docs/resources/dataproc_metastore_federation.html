<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/dataproc_metastore_federation --><head>
                <title>google_dataproc_metastore_federation</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_dataproc_metastore_federation">google_dataproc_metastore_federation</h1>

<p>A managed metastore federation.</p>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dataproc_metastore_federation_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dataproc%20Metastore%20Federation%20Basic"></a><h2 id="example-usage-dataproc-metastore-federation-basic">Example Usage - Dataproc Metastore Federation Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_metastore_federation"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">federation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"metastore-fed"</span><span class="w"></span>
<span class="w">  </span><span class="na">version</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.1.2"</span><span class="w"></span>

<span class="w">  </span><span class="nb">backend_metastores</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">rank</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dataproc_metastore_service.default.id</span><span class="w"></span>
<span class="w">    </span><span class="na">metastore_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DATAPROC_METASTORE"</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_metastore_service"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">service_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"metastore-service"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">tier</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"DEVELOPER"</span><span class="w"></span>


<span class="w">  </span><span class="nb">hive_metastore_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.1.2"</span><span class="w"></span>
<span class="w">    </span><span class="na">endpoint_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"GRPC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dataproc_metastore_federation_bigquery&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dataproc%20Metastore%20Federation%20Bigquery"></a><h2 id="example-usage-dataproc-metastore-federation-bigquery">Example Usage - Dataproc Metastore Federation Bigquery</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_metastore_federation"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">federation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"metastore-fed"</span><span class="w"></span>
<span class="w">  </span><span class="na">version</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.1.2"</span><span class="w"></span>

<span class="w">  </span><span class="nb">backend_metastores</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">rank</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_project.project.id</span><span class="w"></span>
<span class="w">    </span><span class="na">metastore_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"BIGQUERY"</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">backend_metastores</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">rank</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dataproc_metastore_service.default.id</span><span class="w"></span>
<span class="w">    </span><span class="na">metastore_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DATAPROC_METASTORE"</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_metastore_service"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">service_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"metastore-service"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">tier</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"DEVELOPER"</span><span class="w"></span>


<span class="w">  </span><span class="nb">hive_metastore_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.1.2"</span><span class="w"></span>
<span class="w">    </span><span class="na">endpoint_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"GRPC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>version</code> -
(Required)
The Apache Hive metastore version of the federation. All backend metastore versions must be compatible with the federation version.</p></li>
<li><p><code>backend_metastores</code> -
(Required)
A map from BackendMetastore rank to BackendMetastores from which the federation service serves metadata at query time. The map key represents the order in which BackendMetastores should be evaluated to resolve database names at query time and should be greater than or equal to zero. A BackendMetastore with a lower number will be evaluated before a BackendMetastore with a higher number.
Structure is <a href="#nested_backend_metastores">documented below</a>.</p></li>
<li><p><code>federation_id</code> -
(Required)
The ID of the metastore federation. The id must contain only letters (a-z, A-Z), numbers (0-9), underscores (_),
and hyphens (-). Cannot begin or end with underscore or hyphen. Must consist of between
3 and 63 characters.</p></li>
</ul>

<p><a name="nested_backend_metastores"></a>The <code>backend_metastores</code> block supports:</p>

<ul>
<li><p><code>rank</code> - (Required) The identifier for this object. Format specified above.</p></li>
<li><p><code>name</code> -
(Required)
The relative resource name of the metastore that is being federated. The formats of the relative resource names for the currently supported metastores are listed below: Dataplex: projects/{projectId}/locations/{location}/lakes/{lake_id} BigQuery: projects/{projectId} Dataproc Metastore: projects/{projectId}/locations/{location}/services/{serviceId}</p></li>
<li><p><code>metastore_type</code> -
(Required)
The type of the backend metastore.
Possible values are: <code>METASTORE_TYPE_UNSPECIFIED</code>, <code>DATAPROC_METASTORE</code>, <code>BIGQUERY</code>.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>labels</code> -
(Optional)
User-defined labels for the metastore federation.
<strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>location</code> -
(Optional)
The location where the metastore federation should reside.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/federations/{{federation_id}}</code></p></li>
<li><p><code>name</code> -
The relative resource name of the metastore federation.</p></li>
<li><p><code>endpoint_uri</code> -
The URI of the endpoint used to access the metastore federation.</p></li>
<li><p><code>state</code> -
The current state of the metastore federation.</p></li>
<li><p><code>state_message</code> -
Additional information about the current state of the metastore federation, if available.</p></li>
<li><p><code>uid</code> -
The globally unique resource identifier of the metastore federation.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Federation can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{location}}/federations/{{federation_id}}</code></li>
<li><code>{{project}}/{{location}}/{{federation_id}}</code></li>
<li><code>{{location}}/{{federation_id}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Federation using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{location}}/federations/{{federation_id}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dataproc_metastore_federation.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, Federation can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_dataproc_metastore_federation.default projects/{{project}}/locations/{{location}}/federations/{{federation_id}}
$ terraform import google_dataproc_metastore_federation.default {{project}}/{{location}}/{{federation_id}}
$ terraform import google_dataproc_metastore_federation.default {{location}}/{{federation_id}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>