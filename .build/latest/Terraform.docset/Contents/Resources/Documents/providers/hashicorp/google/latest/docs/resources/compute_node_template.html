<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_node_template --><head>
                <title>google_compute_node_template</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_compute_node_template">google_compute_node_template</h1>

<p>Represents a NodeTemplate resource. Node templates specify properties
for creating sole-tenant nodes, such as node type, vCPU and memory
requirements, node affinity labels, and region.</p>

<p>To get more information about NodeTemplate, see:</p>

<ul>
<li><a href="https://cloud.google.com/compute/docs/reference/rest/v1/nodeTemplates">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/compute/docs/nodes/">Sole-Tenant Nodes</a></li>
</ul></li>
</ul>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=node_template_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Node%20Template%20Basic"></a><h2 id="example-usage-node-template-basic">Example Usage - Node Template Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_node_template"</span><span class="w"> </span><span class="nv">"template"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"soletenant-tmpl"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n1-node-96-624"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=node_template_server_binding&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Node%20Template%20Server%20Binding"></a><h2 id="example-usage-node-template-server-binding">Example Usage - Node Template Server Binding</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_compute_node_types"</span><span class="w"> </span><span class="nv">"central1a"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">zone</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_node_template"</span><span class="w"> </span><span class="nv">"template"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"soletenant-with-licenses"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n1-node-96-624"</span><span class="w"></span>

<span class="w">  </span><span class="nb">node_affinity_labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">server_binding</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RESTART_NODE_ON_MINIMAL_SERVERS"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=node_template_accelerators&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Node%20Template%20Accelerators"></a><h2 id="example-usage-node-template-accelerators">Example Usage - Node Template Accelerators</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_compute_node_types"</span><span class="w"> </span><span class="nv">"central1a"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">zone</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_node_template"</span><span class="w"> </span><span class="nv">"template"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"soletenant-with-accelerators"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n1-node-96-624"</span><span class="w"></span>

<span class="w">  </span><span class="nb">accelerators</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">accelerator_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"nvidia-tesla-t4"</span><span class="w"></span>
<span class="w">    </span><span class="na">accelerator_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=node_template_disks&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Node%20Template%20Disks"></a><h2 id="example-usage-node-template-disks">Example Usage - Node Template Disks</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_compute_node_types"</span><span class="w"> </span><span class="nv">"central1a"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">zone</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_node_template"</span><span class="w"> </span><span class="nv">"template"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"soletenant-with-disks"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n2-node-80-640"</span><span class="w"></span>

<span class="w">  </span><span class="nb">disks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">disk_count</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="w"></span>
<span class="w">    </span><span class="na">disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">375</span><span class="w"></span>
<span class="w">    </span><span class="na">disk_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"local-ssd"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<hr/>

<ul>
<li><p><code>description</code> -
(Optional)
An optional textual description of the resource.</p></li>
<li><p><code>name</code> -
(Optional)
Name of the resource.</p></li>
<li><p><code>node_affinity_labels</code> -
(Optional)
Labels to use for node affinity, which will be used in
instance scheduling.</p></li>
<li><p><code>node_type</code> -
(Optional)
Node type to use for nodes group that are created from this template.
Only one of nodeTypeFlexibility and nodeType can be specified.</p></li>
<li><p><code>node_type_flexibility</code> -
(Optional)
Flexible properties for the desired node type. Node groups that
use this node template will create nodes of a type that matches
these properties. Only one of nodeTypeFlexibility and nodeType can
be specified.
Structure is <a href="#nested_node_type_flexibility">documented below</a>.</p></li>
<li><p><code>server_binding</code> -
(Optional)
The server binding policy for nodes using this template. Determines
where the nodes should restart following a maintenance event.
Structure is <a href="#nested_server_binding">documented below</a>.</p></li>
<li><p><code>accelerators</code> -
(Optional)
List of the type and count of accelerator cards attached to the
node template
Structure is <a href="#nested_accelerators">documented below</a>.</p></li>
<li><p><code>cpu_overcommit_type</code> -
(Optional)
CPU overcommit.
Default value is <code>NONE</code>.
Possible values are: <code>ENABLED</code>, <code>NONE</code>.</p></li>
<li><p><code>disks</code> -
(Optional)
List of the type, size and count of disks attached to the
node template
Structure is <a href="#nested_disks">documented below</a>.</p></li>
<li><p><code>region</code> -
(Optional)
Region where nodes using the node template will be created.
If it is not provided, the provider region is used.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<p><a name="nested_node_type_flexibility"></a>The <code>node_type_flexibility</code> block supports:</p>

<ul>
<li><p><code>cpus</code> -
(Optional)
Number of virtual CPUs to use.</p></li>
<li><p><code>memory</code> -
(Optional)
Physical memory available to the node, defined in MB.</p></li>
<li><p><code>local_ssd</code> -
(Output)
Use local SSD</p></li>
</ul>

<p><a name="nested_server_binding"></a>The <code>server_binding</code> block supports:</p>

<ul>
<li><code>type</code> -
(Required)
Type of server binding policy. If <code>RESTART_NODE_ON_ANY_SERVER</code>,
nodes using this template will restart on any physical server
following a maintenance event.
If <code>RESTART_NODE_ON_MINIMAL_SERVER</code>, nodes using this template
will restart on the same physical server following a maintenance
event, instead of being live migrated to or restarted on a new
physical server. This option may be useful if you are using
software licenses tied to the underlying server characteristics
such as physical sockets or cores, to avoid the need for
additional licenses when maintenance occurs. However, VMs on such
nodes will experience outages while maintenance is applied.
Possible values are: <code>RESTART_NODE_ON_ANY_SERVER</code>, <code>RESTART_NODE_ON_MINIMAL_SERVERS</code>.</li>
</ul>

<p><a name="nested_accelerators"></a>The <code>accelerators</code> block supports:</p>

<ul>
<li><p><code>accelerator_count</code> -
(Optional)
The number of the guest accelerator cards exposed to this
node template.</p></li>
<li><p><code>accelerator_type</code> -
(Optional)
Full or partial URL of the accelerator type resource to expose
to this node template.</p></li>
</ul>

<p><a name="nested_disks"></a>The <code>disks</code> block supports:</p>

<ul>
<li><p><code>disk_count</code> -
(Optional)
Specifies the number of such disks.</p></li>
<li><p><code>disk_type</code> -
(Optional)
Specifies the desired disk type on the node. This disk type must be a local storage type (e.g.: local-ssd). Note that for nodeTemplates, this should be the name of the disk type and not its URL.</p></li>
<li><p><code>disk_size_gb</code> -
(Optional)
Specifies the size of the disk in base-2 GB.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/nodeTemplates/{{name}}</code></p></li>
<li><p><code>creation_timestamp</code> -
Creation timestamp in RFC3339 text format.</p></li>
<li><code>self_link</code> - The URI of the created resource.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>NodeTemplate can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/regions/{{region}}/nodeTemplates/{{name}}</code></li>
<li><code>{{project}}/{{region}}/{{name}}</code></li>
<li><code>{{region}}/{{name}}</code></li>
<li><code>{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import NodeTemplate using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/regions/{{region}}/nodeTemplates/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_node_template.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, NodeTemplate can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_compute_node_template.default projects/{{project}}/regions/{{region}}/nodeTemplates/{{name}}
$ terraform import google_compute_node_template.default {{project}}/{{region}}/{{name}}
$ terraform import google_compute_node_template.default {{region}}/{{name}}
$ terraform import google_compute_node_template.default {{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>