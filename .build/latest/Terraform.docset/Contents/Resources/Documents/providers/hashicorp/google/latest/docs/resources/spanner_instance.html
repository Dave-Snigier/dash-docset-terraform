<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/spanner_instance --><head>
                <title>google_spanner_instance</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_spanner_instance">google_spanner_instance</h1>

<p>An isolated set of Cloud Spanner resources on which databases can be
hosted.</p>

<p>To get more information about Instance, see:</p>

<ul>
<li><a href="https://cloud.google.com/spanner/docs/reference/rest/v1/projects.instances">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/spanner/">Official Documentation</a></li>
</ul></li>
</ul>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=spanner_instance_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Spanner%20Instance%20Basic"></a><h2 id="example-usage-spanner-instance-basic">Example Usage - Spanner Instance Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_spanner_instance"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">config</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"regional-us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test Spanner Instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">num_nodes</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="na">edition</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"STANDARD"</span><span class="w"></span>
<span class="w">  </span><span class="na">default_backup_schedule_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AUTOMATIC"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"foo"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=spanner_instance_processing_units&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Spanner%20Instance%20Processing%20Units"></a><h2 id="example-usage-spanner-instance-processing-units">Example Usage - Spanner Instance Processing Units</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_spanner_instance"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">config</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"regional-us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test Spanner Instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">processing_units</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">200</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"foo"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=spanner_instance_multi_regional&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Spanner%20Instance%20Multi%20Regional"></a><h2 id="example-usage-spanner-instance-multi-regional">Example Usage - Spanner Instance Multi Regional</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_spanner_instance"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">config</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"nam-eur-asia1"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Multi Regional Instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">num_nodes</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"foo"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>name</code> -
(Required)
A unique identifier for the instance, which cannot be changed after
the instance is created. The name must be between 6 and 30 characters
in length.
If not provided, a random string starting with <code>tf-</code> will be selected.</p></li>
<li><p><code>config</code> -
(Required)
The name of the instance's configuration (similar but not
quite the same as a region) which defines the geographic placement and
replication of your databases in this instance. It determines where your data
is stored. Values are typically of the form <code>regional-europe-west1</code> , <code>us-central</code> etc.
In order to obtain a valid list please consult the
<a href="https://cloud.google.com/spanner/docs/instances">Configuration section of the docs</a>.</p></li>
<li><p><code>display_name</code> -
(Required)
The descriptive name for this instance as it appears in UIs. Must be
unique per project and between 4 and 30 characters in length.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>num_nodes</code> -
(Optional)
The number of nodes allocated to this instance. Exactly one of either node_count or processing_units
must be present in terraform.</p></li>
<li><p><code>processing_units</code> -
(Optional)
The number of processing units allocated to this instance. Exactly one of processing_units
or node_count must be present in terraform.</p></li>
<li><p><code>labels</code> -
(Optional)
An object containing a list of "key": value pairs.
Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.</p>

<p><strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>autoscaling_config</code> -
(Optional)
The autoscaling configuration. Autoscaling is enabled if this field is set.
When autoscaling is enabled, num_nodes and processing_units are treated as,
OUTPUT_ONLY fields and reflect the current compute capacity allocated to
the instance.
Structure is <a href="#nested_autoscaling_config">documented below</a>.</p></li>
<li><p><code>edition</code> -
(Optional)
The edition selected for this instance. Different editions provide different capabilities at different price points.
Possible values are: <code>EDITION_UNSPECIFIED</code>, <code>STANDARD</code>, <code>ENTERPRISE</code>, <code>ENTERPRISE_PLUS</code>.</p></li>
<li><p><code>default_backup_schedule_type</code> -
(Optional)
Controls the default backup behavior for new databases within the instance.
Note that <code>AUTOMATIC</code> is not permitted for free instances, as backups and backup schedules are not allowed for free instances.
if unset or NONE, no default backup schedule will be created for new databases within the instance.
Possible values are: <code>NONE</code>, <code>AUTOMATIC</code>.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
<li><p><code>force_destroy</code> - (Optional) When deleting a spanner instance, this boolean option will delete all backups of this instance.
This must be set to true if you created a backup manually in the console.</p></li>
</ul>

<p><a name="nested_autoscaling_config"></a>The <code>autoscaling_config</code> block supports:</p>

<ul>
<li><p><code>autoscaling_limits</code> -
(Optional)
Defines scale in controls to reduce the risk of response latency
and outages due to abrupt scale-in events. Users can define the minimum and
maximum compute capacity allocated to the instance, and the autoscaler will
only scale within that range. Users can either use nodes or processing
units to specify the limits, but should use the same unit to set both the
min_limit and max_limit.
Structure is <a href="#nested_autoscaling_config_autoscaling_limits">documented below</a>.</p></li>
<li><p><code>autoscaling_targets</code> -
(Optional)
Defines scale in controls to reduce the risk of response latency
and outages due to abrupt scale-in events
Structure is <a href="#nested_autoscaling_config_autoscaling_targets">documented below</a>.</p></li>
<li><p><code>asymmetric_autoscaling_options</code> -
(Optional)
Asymmetric autoscaling options for specific replicas.
Structure is <a href="#nested_autoscaling_config_asymmetric_autoscaling_options">documented below</a>.</p></li>
</ul>

<p><a name="nested_autoscaling_config_autoscaling_limits"></a>The <code>autoscaling_limits</code> block supports:</p>

<ul>
<li><p><code>min_processing_units</code> -
(Optional)
Specifies minimum number of processing units allocated to the instance.
If set, this number should be multiples of 1000.</p></li>
<li><p><code>max_processing_units</code> -
(Optional)
Specifies maximum number of processing units allocated to the instance.
If set, this number should be multiples of 1000 and be greater than or equal to
min_processing_units.</p></li>
<li><p><code>min_nodes</code> -
(Optional)
Specifies number of nodes allocated to the instance. If set, this number
should be greater than or equal to 1.</p></li>
<li><p><code>max_nodes</code> -
(Optional)
Specifies maximum number of nodes allocated to the instance. If set, this number
should be greater than or equal to min_nodes.</p></li>
</ul>

<p><a name="nested_autoscaling_config_autoscaling_targets"></a>The <code>autoscaling_targets</code> block supports:</p>

<ul>
<li><p><code>high_priority_cpu_utilization_percent</code> -
(Optional)
Specifies the target high priority cpu utilization percentage that the autoscaler
should be trying to achieve for the instance.
This number is on a scale from 0 (no utilization) to 100 (full utilization)..</p></li>
<li><p><code>storage_utilization_percent</code> -
(Optional)
Specifies the target storage utilization percentage that the autoscaler
should be trying to achieve for the instance.
This number is on a scale from 0 (no utilization) to 100 (full utilization).</p></li>
</ul>

<p><a name="nested_autoscaling_config_asymmetric_autoscaling_options"></a>The <code>asymmetric_autoscaling_options</code> block supports:</p>

<ul>
<li><p><code>replica_selection</code> -
(Required)
A nested object resource.
Structure is <a href="#nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_replica_selection">documented below</a>.</p></li>
<li><p><code>overrides</code> -
(Required)
A nested object resource.
Structure is <a href="#nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_overrides">documented below</a>.</p></li>
</ul>

<p><a name="nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_replica_selection"></a>The <code>replica_selection</code> block supports:</p>

<ul>
<li><code>location</code> -
(Required)
The location of the replica to apply asymmetric autoscaling options.</li>
</ul>

<p><a name="nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_overrides"></a>The <code>overrides</code> block supports:</p>

<ul>
<li><code>autoscaling_limits</code> -
(Required)
A nested object resource.
Structure is <a href="#nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_overrides_autoscaling_limits">documented below</a>.</li>
</ul>

<p><a name="nested_autoscaling_config_asymmetric_autoscaling_options_asymmetric_autoscaling_options_overrides_autoscaling_limits"></a>The <code>autoscaling_limits</code> block supports:</p>

<ul>
<li><p><code>min_nodes</code> -
(Required)
The minimum number of nodes for this specific replica.</p></li>
<li><p><code>max_nodes</code> -
(Required)
The maximum number of nodes for this specific replica.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>{{project}}/{{name}}</code></p></li>
<li><p><code>state</code> -
Instance status: <code>CREATING</code> or <code>READY</code>.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Instance can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/instances/{{name}}</code></li>
<li><code>{{project}}/{{name}}</code></li>
<li><code>{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Instance using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/instances/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_spanner_instance.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, Instance can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_spanner_instance.default projects/{{project}}/instances/{{name}}
$ terraform import google_spanner_instance.default {{project}}/{{name}}
$ terraform import google_spanner_instance.default {{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>