<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/azure_secret_backend --><head>
                <title>vault_azure_secret_backend</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_azure_secret_backend">vault_azure_secret_backend</h1>

<p>Creates an Azure Secret Backend for Vault.</p>

<p>The Azure secrets engine dynamically generates Azure service principals and role assignments. Vault roles can be mapped to one or more Azure roles, providing a simple, flexible way to manage the permissions granted to generated service principals.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>It is highly recommended that one transition to the Microsoft Graph API. See <a href="https://www.vaultproject.io/api-docs/secret/azure#use_microsoft_graph_api">use_microsoft_graph_api </a> for more information. The example below demonstrates how to do this.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%3A%20vault-1.9%20and%20above"></a><h2 id="example-usage-vault-19-and-above">Example Usage: <em>vault-1.9 and above</em></h2>

<p>You can setup the Azure secrets engine with Workload Identity Federation (WIF) for a secret-less configuration:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_azure_secret_backend"</span><span class="w"> </span><span class="nv">"azure"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">subscription_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-111111111111"</span><span class="w"></span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-222222222222"</span><span class="w"></span>
<span class="w">  </span><span class="na">client_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-333333333333"</span><span class="w"></span>
<span class="w">  </span><span class="na">identity_token_audience</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;TOKEN_AUDIENCE&gt;"</span><span class="w"></span>
<span class="w">  </span><span class="na">identity_token_ttl</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;TOKEN_TTL&gt;"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_azure_secret_backend"</span><span class="w"> </span><span class="nv">"azure"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">use_microsoft_graph_api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">subscription_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-111111111111"</span><span class="w"></span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-222222222222"</span><span class="w"></span>
<span class="w">  </span><span class="na">client_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-333333333333"</span><span class="w"></span>
<span class="w">  </span><span class="na">client_secret</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"12345678901234567890"</span><span class="w"></span>
<span class="w">  </span><span class="na">environment</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"AzurePublicCloud"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%3A%20vault-1.8%20and%20below"></a><h2 id="example-usage-vault-18-and-below">Example Usage: <em>vault-1.8 and below</em></h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_azure_secret_backend"</span><span class="w"> </span><span class="nv">"azure"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">use_microsoft_graph_api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">subscription_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-111111111111"</span><span class="w"></span>
<span class="w">  </span><span class="na">tenant_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-222222222222"</span><span class="w"></span>
<span class="w">  </span><span class="na">client_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"11111111-2222-3333-4444-333333333333"</span><span class="w"></span>
<span class="w">  </span><span class="na">client_secret</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"12345678901234567890"</span><span class="w"></span>
<span class="w">  </span><span class="na">environment</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"AzurePublicCloud"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>subscription_id</code> (<code>string: &lt;required&gt;</code>) - The subscription id for the Azure Active Directory.</p></li>
<li><p><code>use_microsoft_graph_api</code> (<code>bool: &lt;optional&gt;</code>) - Indicates whether the secrets engine should use 
the Microsoft Graph API. This parameter has been deprecated and will be ignored in <code>vault-1.12+</code>. 
For more information, please refer to the <a href="https://developer.hashicorp.com/vault/api-docs/secret/azure#use_microsoft_graph_api">Vault docs</a></p></li>
<li><p><code>tenant_id</code> (<code>string: &lt;required&gt;</code>) - The tenant id for the Azure Active Directory.</p></li>
<li><p><code>client_id</code> (<code>string:""</code>) - The OAuth2 client id to connect to Azure.</p></li>
<li><p><code>client_secret</code> (<code>string:""</code>) - The OAuth2 client secret to connect to Azure.</p></li>
<li><p><code>environment</code> (<code>string:""</code>) - The Azure environment.</p></li>
<li><p><code>path</code> (<code>string: &lt;optional&gt;</code>) - The unique path this backend should be mounted at. Defaults to <code>azure</code>.</p></li>
<li><p><code>identity_token_audience</code> - (Optional) The audience claim value. Requires Vault 1.17+.
<em>Available only for Vault Enterprise</em></p></li>
<li><p><code>identity_token_ttl</code> - (Optional) The TTL of generated identity tokens in seconds. Requires Vault 1.17+.
<em>Available only for Vault Enterprise</em></p></li>
<li><p><code>identity_token_key</code> - (Optional) The key to use for signing identity tokens. Requires Vault 1.17+.
<em>Available only for Vault Enterprise</em></p></li>
<li><p><code>disable_remount</code> - (Optional) If set, opts out of mount migration on path updates.
See here for more info on <a href="https://www.vaultproject.io/docs/concepts/mount-migration">Mount Migration</a></p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>No additional attributes are exported by this resource.</p>

            
        
    </body></html>