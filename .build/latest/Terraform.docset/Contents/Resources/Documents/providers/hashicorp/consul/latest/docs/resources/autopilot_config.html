<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/consul/latest/docs/resources/autopilot_config --><head>
                <title>consul_autopilot_config</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="consul_autopilot_config">consul_autopilot_config</h1>

<p>Provides access to the <a href="https://www.consul.io/docs/guides/autopilot.html">Autopilot Configuration</a>
of Consul to automatically manage Consul servers.</p>

<p>It includes to automatically cleanup dead servers, monitor the status of the Raft
cluster and stable server introduction.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"consul_autopilot_config"</span><span class="w"> </span><span class="nv">"config"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cleanup_dead_servers</span><span class="w">      </span><span class="o">=</span><span class="w">  </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="na">last_contact_threshold</span><span class="w">    </span><span class="o">=</span><span class="w">  </span><span class="s2">"1s"</span><span class="w"></span>
<span class="w">    </span><span class="na">max_trailing_logs</span><span class="w">         </span><span class="o">=</span><span class="w">  </span><span class="m">500</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>datacenter</code> - (Optional) The datacenter to use. This overrides the agent's
default datacenter and the datacenter in the provider setup.</p></li>
<li><p><code>cleanup_dead_servers</code> - (Optional) Whether to remove failing servers when a
replacement comes online. Defaults to true.</p></li>
<li><p><code>last_contact_threshold</code> - (Optional) The time after which a server is
considered as unhealthy and will be removed. Defaults to <code>"200ms"</code>.</p></li>
<li><p><code>max_trailing_logs</code> - (Optional) The maximum number of Raft log entries a
server can trail the leader. Defaults to 250.</p></li>
<li><p><code>server_stabilization_time</code> - (Optional) The period to wait for a server to be
healthy and stable before being promoted to a full, voting member. Defaults to
<code>"10s"</code>.</p></li>
<li><p><code>redundancy_zone_tag</code> - (Optional) The <a href="https://www.consul.io/docs/guides/autopilot.html#redundancy-zones">redundancy zone</a>
tag to use. Consul will try to keep one voting server by zone to take advantage
of isolated failure domains. Defaults to an empty string.</p></li>
<li><p><code>disable_upgrade_migration</code> - (Optional) Whether to disable <a href="https://www.consul.io/docs/guides/autopilot.html#redundancy-zones">upgrade migrations</a>.
Defaults to false.</p></li>
<li><p><code>upgrade_version_tag</code> - (Optional) The tag to override the version information
used during a migration. Defaults to an empty string.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><p><code>datacenter</code> - The datacenter used.</p></li>
<li><p><code>cleanup_dead_servers</code> - Whether to remove failing servers.</p></li>
<li><p><code>last_contact_threshold</code> - The time after which a server is considered as
unhealthy and will be removed.</p></li>
<li><p><code>max_trailing_logs</code> - The maximum number of Raft log entries a server can trail
the leader.</p></li>
<li><p><code>server_stabilization_time</code> - The period to wait for a server to be healthy and
stable before being promoted to a full, voting member.</p></li>
<li><p><code>redundancy_zone_tag</code> - The <a href="https://www.consul.io/docs/guides/autopilot.html#redundancy-zones">redundancy zone</a>
tag used. Consul will try to keep one voting server by zone to take advantage of
isolated failure domains.</p></li>
<li><p><code>disable_upgrade_migration</code> - Whether to disable <a href="https://www.consul.io/docs/guides/autopilot.html#redundancy-zones">upgrade migrations</a>.</p></li>
<li><p><code>upgrade_version_tag</code> - The tag to override the version information used during
a migration.</p></li>
</ul>

            
        
    </body></html>