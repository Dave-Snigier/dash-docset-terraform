<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/elasticloadbalancingv2_trust_store_revocation --><head>
                <title>awscc_elasticloadbalancingv2_trust_store_revocation</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_elasticloadbalancingv2_trust_store_revocation-resource">awscc_elasticloadbalancingv2_trust_store_revocation (Resource)</h1>

<p>Resource Type definition for AWS::ElasticLoadBalancingV2::TrustStoreRevocation</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Configure%20ELB%20Trust%20Store%20Revocation%20with%20CRL"></a><h3 id="configure-elb-trust-store-revocation-with-crl">Configure ELB Trust Store Revocation with CRL</h3>

<p>This example demonstrates how to configure a trust store revocation for Elastic Load Balancer using Certificate Revocation List (CRL), including setup of a private S3 bucket with appropriate permissions to store the revocation lists.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Example configuration for awscc_elasticloadbalancingv2_trust_store_revocation</span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Create an S3 bucket to store CA certificates and revocation lists</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_s3_bucket"</span><span class="w"> </span><span class="nv">"revocations"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-revocations-bucket-${data.aws_caller_identity.current.account_id}"</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create S3 bucket policy to allow ELB to access objects</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_s3_bucket_policy"</span><span class="w"> </span><span class="nv">"allow_elb_access"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.revocations.id</span><span class="w"></span>
<span class="w">  </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Sid</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"AllowELBService"</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">Service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"elasticloadbalancing.amazonaws.com"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:GetBucketLocation"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="nv">aws_s3_bucket.revocations.arn</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"${aws_s3_bucket.revocations.arn}/*"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Configure bucket to be private</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_s3_bucket_public_access_block"</span><span class="w"> </span><span class="nv">"revocations"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.revocations.id</span><span class="w"></span>

<span class="w">  </span><span class="na">block_public_acls</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">block_public_policy</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">ignore_public_acls</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">restrict_public_buckets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Example CRL revocation object</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_s3_object"</span><span class="w"> </span><span class="nv">"revocation_list"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.revocations.id</span><span class="w"></span>
<span class="w">  </span><span class="na">key</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"revocations/example.crl"</span><span class="w"></span>
<span class="w">  </span><span class="na">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"# This is a placeholder. Replace with real CRL content"</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Example awscc_elasticloadbalancingv2_trust_store_revocation resource</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_elasticloadbalancingv2_trust_store_revocation"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">trust_store_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:elasticloadbalancing:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:truststore/example-trust-store"</span><span class="w"></span>
<span class="w">  </span><span class="na">revocation_contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">revocation_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"CRL"</span><span class="w"></span>
<span class="w">    </span><span class="na">s3_bucket</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.revocations.id</span><span class="w"></span>
<span class="w">    </span><span class="na">s3_key</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_object.revocation_list.key</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>revocation_contents</code> (Attributes Set) The attributes required to create a trust store revocation. (see <a href="#nestedatt--revocation_contents">below for nested schema</a>)</li>
<li><code>trust_store_arn</code> (String) The Amazon Resource Name (ARN) of the trust store.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>revocation_id</code> (Number) The ID associated with the revocation.</li>
<li><code>trust_store_revocations</code> (Attributes Set) The data associated with a trust store revocation (see <a href="#nestedatt--trust_store_revocations">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--revocation_contents"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20revocation_contents"></a><h3 id="nested-schema-for-revocation_contents">Nested Schema for <code>revocation_contents</code></h3>

<p>Optional:</p>

<ul>
<li><code>revocation_type</code> (String)</li>
<li><code>s3_bucket</code> (String)</li>
<li><code>s3_key</code> (String)</li>
<li><code>s3_object_version</code> (String)</li>
</ul>

<p><a id="nestedatt--trust_store_revocations"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20trust_store_revocations"></a><h3 id="nested-schema-for-trust_store_revocations">Nested Schema for <code>trust_store_revocations</code></h3>

<p>Read-Only:</p>

<ul>
<li><code>number_of_revoked_entries</code> (Number)</li>
<li><code>revocation_id</code> (String)</li>
<li><code>revocation_type</code> (String)</li>
<li><code>trust_store_arn</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_elasticloadbalancingv2_trust_store_revocation.example <span class="s2">"revocation_id|trust_store_arn"</span>
</code></pre></div>

            
        
    </body></html>