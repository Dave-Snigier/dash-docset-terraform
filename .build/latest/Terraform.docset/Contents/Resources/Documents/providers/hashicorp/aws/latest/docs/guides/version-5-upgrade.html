<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/guides/version-5-upgrade --><head>
                <title>Terraform AWS Provider Version 5 Upgrade Guide</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="terraform-aws-provider-version-5-upgrade-guide">Terraform AWS Provider Version 5 Upgrade Guide</h1>

<p>Version 5.0.0 of the AWS provider for Terraform is a major release and includes changes that you need to consider when upgrading. This guide will help with that process and focuses only on changes from version 4.x to version 5.0.0. See the <a href="../guides/version-4-upgrade.html">Version 4 Upgrade Guide</a> for information on upgrading from 3.x to version 4.0.0.</p>

<p>Upgrade topics:</p>

<!-- TOC depthFrom:2 depthTo:2 -->

<ul>
<li><a href="#provider-version-configuration">Provider Version Configuration</a></li>
<li><a href="#provider-arguments">Provider Arguments</a></li>
<li><a href="#default-tags">Default Tags</a></li>
<li><a href="#ec2-classic-retirement">EC2-Classic Retirement</a></li>
<li><a href="#macie-classic-retirement">Macie Classic Retirement</a></li>
<li><a href="#resourceaws_acmpca_certificate_authority">resource/aws_acmpca_certificate_authority</a></li>
<li><a href="#resourceaws_api_gateway_rest_api">resource/aws_api_gateway_rest_api</a></li>
<li><a href="#resourceaws_autoscaling_attachment">resource/aws_autoscaling_attachment</a></li>
<li><a href="#resourceaws_autoscaling_group">resource/aws_autoscaling_group</a></li>
<li><a href="#resourceaws_budgets_budget">resource/aws_budgets_budget</a></li>
<li><a href="#resourceaws_ce_anomaly_subscription">resource/aws_ce_anomaly_subscription</a></li>
<li><a href="#resourceaws_cloudwatch_event_target">resource/aws_cloudwatch_event_target</a></li>
<li><a href="#resourceaws_codebuild_project">resource/aws_codebuild_project</a></li>
<li><a href="#resourceaws_connect_hours_of_operation">resource/aws_connect_hours_of_operation</a></li>
<li><a href="#resourceaws_connect_queue">resource/aws_connect_queue</a></li>
<li><a href="#resourceaws_connect_routing_profile">resource/aws_connect_routing_profile</a></li>
<li><a href="#resourceaws_db_event_subscription">resource/aws_db_event_subscription</a></li>
<li><a href="#resourceaws_db_instance_role_association">resource/aws_db_instance_role_association</a></li>
<li><a href="#resourceaws_db_instance">resource/aws_db_instance</a></li>
<li><a href="#resourceaws_db_proxy_target">resource/aws_db_proxy_target</a></li>
<li><a href="#resourceaws_db_security_group">resource/aws_db_security_group</a></li>
<li><a href="#resourceaws_db_snapshot">resource/aws_db_snapshot</a></li>
<li><a href="#resourceaws_default_vpc">resource/aws_default_vpc</a></li>
<li><a href="#resourceaws_dms_endpoint">resource/aws_dms_endpoint</a></li>
<li><a href="#resourceaws_docdb_cluster">resource/aws_docdb_cluster</a></li>
<li><a href="#resourceaws_dx_gateway_association">resource/aws_dx_gateway_association</a></li>
<li><a href="#resourceaws_ec2_client_vpn_endpoint">resource/aws_ec2_client_vpn_endpoint</a></li>
<li><a href="#resourceaws_ec2_client_vpn_network_association">resource/aws_ec2_client_vpn_network_association</a></li>
<li><a href="#resourceaws_ecs_cluster">resource/aws_ecs_cluster</a></li>
<li><a href="#resourceaws_eip">resource/aws_eip</a></li>
<li><a href="#resourceaws_eip_association">resource/aws_eip_association</a></li>
<li><a href="#resourceaws_eks_addon">resource/aws_eks_addon</a></li>
<li><a href="#resourceaws_elasticache_cluster">resource/aws_elasticache_cluster</a></li>
<li><a href="#resourceaws_elasticache_replication_group">resource/aws_elasticache_replication_group</a></li>
<li><a href="#resourceaws_elasticache_security_group">resource/aws_elasticache_security_group</a></li>
<li><a href="#resourceaws_flow_log">resource/aws_flow_log</a></li>
<li><a href="#resourceaws_guardduty_organization_configuration">resource/aws_guardduty_organization_configuration</a></li>
<li><a href="#resourceaws_kinesis_firehose_delivery_stream">resource/aws_kinesis_firehose_delivery_stream</a></li>
<li><a href="#resourceaws_launch_configuration">resource/aws_launch_configuration</a></li>
<li><a href="#resourceaws_launch_template">resource/aws_launch_template</a></li>
<li><a href="#resourceaws_lightsail_instance">resource/aws_lightsail_instance</a></li>
<li><a href="#resourceaws_macie_member_account_association">resource/aws_macie_member_account_association</a></li>
<li><a href="#resourceaws_macie_s3_bucket_association">resource/aws_macie_s3_bucket_association</a></li>
<li><a href="#resourceaws_medialive_multiplex_program">resource/aws_medialive_multiplex_program</a></li>
<li><a href="#resourceaws_msk_cluster">resource/aws_msk_cluster</a></li>
<li><a href="#resourceaws_neptune_cluster">resource/aws_neptune_cluster</a></li>
<li><a href="#resourceaws_networkmanager_core_network">resource/aws_networkmanager_core_network</a></li>
<li><a href="#resourceaws_opensearch_domain">resource/aws_opensearch_domain</a></li>
<li><a href="#resourceaws_rds_cluster">resource/aws_rds_cluster</a></li>
<li><a href="#resourceaws_rds_cluster_instance">resource/aws_rds_cluster_instance</a></li>
<li><a href="#resourceaws_redshift_cluster">resource/aws_redshift_cluster</a></li>
<li><a href="#resourceaws_redshift_security_group">resource/aws_redshift_security_group</a></li>
<li><a href="#resourceaws_route">resource/aws_route</a></li>
<li><a href="#resourceaws_route_table">resource/aws_route_table</a></li>
<li><a href="#resourceaws_s3_object">resource/aws_s3_object</a></li>
<li><a href="#resourceaws_s3_object_copy">resource/aws_s3_object_copy</a></li>
<li><a href="#resourceaws_secretsmanager_secret">resource/aws_secretsmanager_secret</a></li>
<li><a href="#resourceaws_security_group">resource/aws_security_group</a></li>
<li><a href="#resourceaws_security_group_rule">resource/aws_security_group_rule</a></li>
<li><a href="#resourceaws_servicecatalog_product">resource/aws_servicecatalog_product</a></li>
<li><a href="#resourceaws_ssm_association">resource/aws_ssm_association</a></li>
<li><a href="#resourceaws_ssm_parameter">resource/aws_ssm_parameter</a></li>
<li><a href="#resourceaws_vpc">resource/aws_vpc</a></li>
<li><a href="#resourceaws_vpc_peering_connection">resource/aws_vpc_peering_connection</a></li>
<li><a href="#resourceaws_vpc_peering_connection_accepter">resource/aws_vpc_peering_connection_accepter</a></li>
<li><a href="#resourceaws_vpc_peering_connection_options">resource/aws_vpc_peering_connection_options</a></li>
<li><a href="#resourceaws_wafv2_web_acl">resource/aws_wafv2_web_acl</a></li>
<li><a href="#resourceaws_wafv2_web_acl_logging_configuration">resource/aws_wafv2_web_acl_logging_configuration</a></li>
<li><a href="#data-sourceaws_api_gateway_rest_api">data-source/aws_api_gateway_rest_api</a></li>
<li><a href="#data-sourceaws_connect_hours_of_operation">data-source/aws_connect_hours_of_operation</a></li>
<li><a href="#data-sourceaws_db_instance">data-source/aws_db_instance</a></li>
<li><a href="#data-sourceaws_elasticache_cluster">data-source/aws_elasticache_cluster</a></li>
<li><a href="#data-sourceaws_elasticache_replication_group">data-source/aws_elasticache_replication_group</a></li>
<li><a href="#data-sourceaws_iam_policy_document">data-source/aws_iam_policy_document</a></li>
<li><a href="#data-sourceaws_identitystore_group">data-source/aws_identitystore_group</a></li>
<li><a href="#data-sourceaws_identitystore_user">data-source/aws_identitystore_user</a></li>
<li><a href="#data-sourceaws_launch_configuration">data-source/aws_launch_configuration</a></li>
<li><a href="#data-sourceaws_opensearch_domain">data-source/aws_opensearch_domain</a></li>
<li><a href="#data-sourceaws_quicksight_data_set">data-source/aws_quicksight_data_set</a></li>
<li><a href="#data-sourceaws_redshift_cluster">data-source/aws_redshift_cluster</a></li>
<li><a href="#data-sourceaws_redshift_service_account">data-source/aws_redshift_service_account</a></li>
<li><a href="#data-sourceaws_secretsmanager_secret">data-source/aws_secretsmanager_secret</a></li>
<li><a href="#data-sourceaws_service_discovery_service">data-source/aws_service_discovery_service</a></li>
<li><a href="#data-sourceaws_subnet_ids">data-source/aws_subnet_ids</a></li>
<li><a href="#data-sourceaws_vpc_peering_connection">data-source/aws_vpc_peering_connection</a></li>
</ul>

<!-- /TOC -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provider%20Version%20Configuration"></a><h2 id="provider-version-configuration">Provider Version Configuration</h2>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Before upgrading to version 5.0.0, upgrade to the most recent 4.X version of the provider and ensure that your environment successfully runs <a href="https://www.terraform.io/docs/commands/plan.html"><code>terraform plan</code></a>. You should not see changes you don't expect or deprecation notices.</p>
</aside>

<p>Use <a href="https://www.terraform.io/docs/configuration/providers.html#provider-versions">version constraints when configuring Terraform providers</a>. If you are following that recommendation, update the version constraints in your Terraform configuration and run <a href="https://www.terraform.io/docs/commands/init.html"><code>terraform init -upgrade</code></a> to download the new version.</p>

<p>For example, given this previous configuration:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">aws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"hashicorp/aws"</span><span class="w"></span>
<span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"~&gt; 4.65"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # Configuration options</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Update to the latest 5.X version:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">aws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"hashicorp/aws"</span><span class="w"></span>
<span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"~&gt; 5.0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # Configuration options</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provider%20Arguments"></a><h2 id="provider-arguments">Provider Arguments</h2>

<p>Version 5.0.0 removes these <code>provider</code> arguments:</p>

<ul>
<li><code>assume_role.duration_seconds</code> - Use <code>assume_role.duration</code> instead</li>
<li><code>assume_role_with_web_identity.duration_seconds</code> - Use <code>assume_role_with_web_identity.duration</code> instead</li>
<li><code>s3_force_path_style</code> - Use <code>s3_use_path_style</code> instead</li>
<li><code>shared_credentials_file</code> - Use <code>shared_credentials_files</code> instead</li>
<li><code>skip_get_ec2_platforms</code> - Removed following the retirement of EC2-Classic</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Default%20Tags"></a><h2 id="default-tags">Default Tags</h2>

<p>The following enhancements are included:</p>

<ul>
<li>Duplicate <code>default_tags</code> can now be included and will be overwritten by resource <code>tags</code>.</li>
<li>Zero value tags, <code>""</code>, can now be included in both <code>default_tags</code> and resource <code>tags</code>.</li>
<li>Tags can now be <code>computed</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/EC2-Classic%20Retirement"></a><h2 id="ec2-classic-retirement">EC2-Classic Retirement</h2>

<p>Following the retirement of EC2-Classic, we removed a number of resources, arguments, and attributes. This list summarizes what we _removed_:</p>

<ul>
<li><code>aws_db_security_group</code> resource</li>
<li><code>aws_elasticache_security_group</code> resource</li>
<li><code>aws_redshift_security_group</code> resource</li>
<li><a href="../resources/db_instance.html"><code>aws_db_instance</code></a> resource's <code>security_group_names</code> argument</li>
<li><a href="../resources/elasticache_cluster.html"><code>aws_elasticache_cluster</code></a> resource's <code>security_group_names</code> argument</li>
<li><a href="../resources/redshift_cluster.html"><code>aws_redshift_cluster</code></a> resource's <code>cluster_security_groups</code> argument</li>
<li><a href="../resources/launch_configuration.html"><code>aws_launch_configuration</code></a> resource's <code>vpc_classic_link_id</code> and <code>vpc_classic_link_security_groups</code> arguments</li>
<li><a href="../resources/vpc.html"><code>aws_vpc</code></a> resource's <code>enable_classiclink</code> and <code>enable_classiclink_dns_support</code> arguments</li>
<li><a href="../resources/default_vpc.html"><code>aws_default_vpc</code></a> resource's <code>enable_classiclink</code> and <code>enable_classiclink_dns_support</code> arguments</li>
<li><a href="../resources/vpc_peering_connection.html"><code>aws_vpc_peering_connection</code></a> resource's <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> arguments</li>
<li><a href="../resources/vpc_peering_connection_accepter.html"><code>aws_vpc_peering_connection_accepter</code></a> resource's <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> arguments</li>
<li><a href="../resources/vpc_peering_connection_options.html"><code>aws_vpc_peering_connection_options</code></a> resource's <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> arguments</li>
<li><a href="../data-sources/db_instance.html"><code>aws_db_instance</code></a> data source's <code>db_security_groups</code> attribute</li>
<li><a href="../data-sources/elasticache_cluster.html"><code>aws_elasticache_cluster</code></a> data source's <code>security_group_names</code> attribute</li>
<li><a href="../data-sources/redshift_cluster.html"><code>aws_redshift_cluster</code></a> data source's <code>cluster_security_groups</code> attribute</li>
<li><a href="../data-sources/launch_configuration.html"><code>aws_launch_configuration</code></a> data source's <code>vpc_classic_link_id</code> and <code>vpc_classic_link_security_groups</code> attributes</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Macie%20Classic%20Retirement"></a><h2 id="macie-classic-retirement">Macie Classic Retirement</h2>

<p>Following the retirement of Amazon Macie Classic, we removed these resources:</p>

<ul>
<li><code>aws_macie_member_account_association</code></li>
<li><code>aws_macie_s3_bucket_association</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_acmpca_certificate_authority"></a><h2 id="resourceaws_acmpca_certificate_authority">resource/aws_acmpca_certificate_authority</h2>

<p>Remove <code>status</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_api_gateway_rest_api"></a><h2 id="resourceaws_api_gateway_rest_api">resource/aws_api_gateway_rest_api</h2>

<p>The <code>minimum_compression_size</code> attribute is now a String type, allowing it to be computed when set via the <code>body</code> attribute. Valid values remain the same.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_autoscaling_attachment"></a><h2 id="resourceaws_autoscaling_attachment">resource/aws_autoscaling_attachment</h2>

<p>Change <code>alb_target_group_arn</code>, which no longer exists, to <code>lb_target_group_arn</code> in configurations.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_autoscaling_group"></a><h2 id="resourceaws_autoscaling_group">resource/aws_autoscaling_group</h2>

<p>Remove <code>tags</code> from configurations as it no longer exists. Use the <code>tag</code> attribute instead. For use cases requiring dynamic tags, see the <a href="../r/autoscaling_group.html.markdown#dynamic-tagging">Dynamic Tagging example</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_budgets_budget"></a><h2 id="resourceaws_budgets_budget">resource/aws_budgets_budget</h2>

<p>Remove <code>cost_filters</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ce_anomaly_subscription"></a><h2 id="resourceaws_ce_anomaly_subscription">resource/aws_ce_anomaly_subscription</h2>

<p>Remove <code>threshold</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_cloudwatch_event_target"></a><h2 id="resourceaws_cloudwatch_event_target">resource/aws_cloudwatch_event_target</h2>

<p>The <code>ecs_target.propagate_tags</code> attribute now has no default value. If no value is specified, the tags are not propagated.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_codebuild_project"></a><h2 id="resourceaws_codebuild_project">resource/aws_codebuild_project</h2>

<p>Remove <code>secondary_sources.auth</code> and <code>source.auth</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_connect_hours_of_operation"></a><h2 id="resourceaws_connect_hours_of_operation">resource/aws_connect_hours_of_operation</h2>

<p>Remove <code>hours_of_operation_arn</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_connect_queue"></a><h2 id="resourceaws_connect_queue">resource/aws_connect_queue</h2>

<p>Remove <code>quick_connect_ids_associated</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_connect_routing_profile"></a><h2 id="resourceaws_connect_routing_profile">resource/aws_connect_routing_profile</h2>

<p>Remove <code>queue_configs_associated</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_event_subscription"></a><h2 id="resourceaws_db_event_subscription">resource/aws_db_event_subscription</h2>

<p>Configurations that define <code>source_ids</code> using the <code>id</code> attribute of <code>aws_db_instance</code> must be updated to use <code>identifier</code> instead. For example, <code>source_ids = [aws_db_instance.example.id]</code> must be updated to <code>source_ids = [aws_db_instance.example.identifier]</code>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_instance"></a><h2 id="resourceaws_db_instance">resource/aws_db_instance</h2>

<p><code>aws_db_instance</code> has had a number of changes:</p>

<ol>
<li><a href="#aws_db_instanceid-is-no-longer-the-identifier"><code>id</code> is no longer the identifier</a></li>
<li><a href="#use-db_name-instead-of-name">Use <code>db_name</code> instead of <code>name</code></a></li>
<li><a href="#remove-db_security_groups">Remove <code>db_security_groups</code></a></li>
</ol>

<a class="dashAnchor" name="//apple_ref/cpp/Section/aws_db_instance.id%20is%20no%20longer%20the%20identifier"></a><h3 id="aws_db_instanceid-is-no-longer-the-identifier">aws_db_instance.id is no longer the identifier</h3>

<p><strong>What <code>id</code> _is_ has changed and can have far-reaching consequences.</strong> Fortunately, fixing configurations is straightforward.</p>

<p><code>id</code> is _now_ the DBI Resource ID (_i.e._, <code>dbi-resource-id</code>), an immutable "identifier" for an instance. <code>id</code> is now the same as the <code>resource_id</code>. (We recommend using <code>resource_id</code> rather than <code>id</code> when you need to refer to the DBI Resource ID.) _Previously_, <code>id</code> was the DB Identifier. Now when you need to refer to the _DB Identifier_, use <code>identifier</code>.</p>

<p>Fixing configurations involves changing any <code>id</code> references to <code>identifier</code>, where the reference expects the DB Identifier. For example, if you're replicating an <code>aws_db_instance</code>, you can no longer use <code>id</code> to define the <code>replicate_source_db</code>.</p>

<p>This configuration will now result in an error since <code>replicate_source_db</code> expects a _DB Identifier_:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_db_instance"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">replicate_source_db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_db_instance.source.id</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>You can fix the configuration like this:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_db_instance"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">replicate_source_db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_db_instance.source.identifier</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Use%20db_name%20instead%20of%20name"></a><h3 id="use-db_name-instead-of-name">Use <code>db_name</code> instead of <code>name</code></h3>

<p>Change <code>name</code> to <code>db_name</code> in configurations as <code>name</code> no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Remove%20db_security_groups"></a><h3 id="remove-db_security_groups">Remove <code>db_security_groups</code></h3>

<p>Remove <code>db_security_groups</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_instance_role_association"></a><h2 id="resourceaws_db_instance_role_association">resource/aws_db_instance_role_association</h2>

<p>Configurations that define <code>db_instance_identifier</code> using the <code>id</code> attribute of <code>aws_db_instance</code> must be updated to use <code>identifier</code> instead. For example, <code>db_instance_identifier = aws_db_instance.example.id</code> must be updated to <code>db_instance_identifier = aws_db_instance.example.identifier</code>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_proxy_target"></a><h2 id="resourceaws_db_proxy_target">resource/aws_db_proxy_target</h2>

<p>Configurations that define <code>db_instance_identifier</code> using the <code>id</code> attribute of <code>aws_db_instance</code> must be updated to use <code>identifier</code> instead. For example, <code>db_instance_identifier = aws_db_instance.example.id</code> must be updated to <code>db_instance_identifier = aws_db_instance.example.identifier</code>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_security_group"></a><h2 id="resourceaws_db_security_group">resource/aws_db_security_group</h2>

<p>We removed this resource as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_db_snapshot"></a><h2 id="resourceaws_db_snapshot">resource/aws_db_snapshot</h2>

<p>Configurations that define <code>db_instance_identifier</code> using the <code>id</code> attribute of <code>aws_db_instance</code> must be updated to use <code>identifier</code> instead. For example, <code>db_instance_identifier = aws_db_instance.example.id</code> must be updated to <code>db_instance_identifier = aws_db_instance.example.identifier</code>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_default_vpc"></a><h2 id="resourceaws_default_vpc">resource/aws_default_vpc</h2>

<p>Remove <code>enable_classiclink</code> and <code>enable_classiclink_dns_support</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_dms_endpoint"></a><h2 id="resourceaws_dms_endpoint">resource/aws_dms_endpoint</h2>

<p>Remove <code>s3_settings.ignore_headers_row</code> from configurations as it no longer exists. <strong>Be careful to not confuse <code>ignore_headers_row</code>, which no longer exists, with <code>ignore_header_rows</code>, which still exists.</strong></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_docdb_cluster"></a><h2 id="resourceaws_docdb_cluster">resource/aws_docdb_cluster</h2>

<p>Changes to the <code>snapshot_identifier</code> attribute will now correctly force re-creation of the resource. Previously, changing this attribute would result in a successful apply, but without the cluster being restored (only the resource state was changed). This change brings behavior of the cluster <code>snapshot_identifier</code> attribute into alignment with other RDS resources, such as <code>aws_db_instance</code>.</p>

<p>Automated snapshots <strong>should not</strong> be used for this attribute, unless from a different cluster. Automated snapshots are deleted as part of cluster destruction when the resource is replaced.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_dx_gateway_association"></a><h2 id="resourceaws_dx_gateway_association">resource/aws_dx_gateway_association</h2>

<p>The <code>vpn_gateway_id</code> attribute has been deprecated. All configurations using <code>vpn_gateway_id</code> should be updated to use the <code>associated_gateway_id</code> attribute instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ec2_client_vpn_endpoint"></a><h2 id="resourceaws_ec2_client_vpn_endpoint">resource/aws_ec2_client_vpn_endpoint</h2>

<p>Remove <code>status</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ec2_client_vpn_network_association"></a><h2 id="resourceaws_ec2_client_vpn_network_association">resource/aws_ec2_client_vpn_network_association</h2>

<p>Remove <code>security_groups</code> and <code>status</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ecs_cluster"></a><h2 id="resourceaws_ecs_cluster">resource/aws_ecs_cluster</h2>

<p>Remove <code>capacity_providers</code> and <code>default_capacity_provider_strategy</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_eip"></a><h2 id="resourceaws_eip">resource/aws_eip</h2>

<ul>
<li>With the retirement of EC2-Classic, the <code>standard</code> domain is no longer supported.</li>
<li>The <code>vpc</code> argument has been deprecated. Use <code>domain</code> argument instead.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_eip_association"></a><h2 id="resourceaws_eip_association">resource/aws_eip_association</h2>

<p>With the retirement of EC2-Classic, the <code>standard</code> domain is no longer supported.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_eks_addon"></a><h2 id="resourceaws_eks_addon">resource/aws_eks_addon</h2>

<p>The <code>resolve_conflicts</code> argument has been deprecated. Use the <code>resolve_conflicts_on_create</code> and/or <code>resolve_conflicts_on_update</code> arguments instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_elasticache_cluster"></a><h2 id="resourceaws_elasticache_cluster">resource/aws_elasticache_cluster</h2>

<p>Remove <code>security_group_names</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_elasticache_replication_group"></a><h2 id="resourceaws_elasticache_replication_group">resource/aws_elasticache_replication_group</h2>

<ul>
<li>Remove the <code>cluster_mode</code> configuration block. Use top-level <code>num_node_groups</code> and <code>replicas_per_node_group</code> instead.</li>
<li>Remove <code>availability_zones</code>, <code>number_cache_clusters</code>, <code>replication_group_description</code> arguments from configurations as they no longer exist.  Use <code>preferred_cache_cluster_azs</code>, <code>num_cache_clusters</code>, and <code>description</code>, respectively, instead.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_elasticache_security_group"></a><h2 id="resourceaws_elasticache_security_group">resource/aws_elasticache_security_group</h2>

<p>We removed this resource as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_flow_log"></a><h2 id="resourceaws_flow_log">resource/aws_flow_log</h2>

<p>The <code>log_group_name</code> attribute has been deprecated. All configurations using <code>log_group_name</code> should be updated to use the <code>log_destination</code> attribute instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_guardduty_organization_configuration"></a><h2 id="resourceaws_guardduty_organization_configuration">resource/aws_guardduty_organization_configuration</h2>

<p>The <code>auto_enable</code> argument has been deprecated. Use the <code>auto_enable_organization_members</code> argument instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_kinesis_firehose_delivery_stream"></a><h2 id="resourceaws_kinesis_firehose_delivery_stream">resource/aws_kinesis_firehose_delivery_stream</h2>

<ul>
<li>Remove the <code>s3_configuration</code> attribute from the root of the resource. <code>s3_configuration</code> is now a part of the following blocks: <code>elasticsearch_configuration</code>, <code>opensearch_configuration</code>, <code>redshift_configuration</code>, <code>splunk_configuration</code>, and <code>http_endpoint_configuration</code>.</li>
<li>Remove <code>s3</code> as an option for <code>destination</code>. Use <code>extended_s3</code> instead</li>
<li>Rename <code>extended_s3_configuration.0.s3_backup_configuration.0.buffer_size</code> and <code>extended_s3_configuration.0.s3_backup_configuration.0.buffer_interval</code> to <code>extended_s3_configuration.0.s3_backup_configuration.0.buffering_size</code> and <code>extended_s3_configuration.0.s3_backup_configuration.0.buffering_interval</code>, respectively.</li>
<li>Rename <code>redshift_configuration.0.s3_backup_configuration.0.buffer_size</code> and <code>redshift_configuration.0.s3_backup_configuration.0.buffer_interval</code> to <code>redshift_configuration.0.s3_backup_configuration.0.buffering_size</code> and <code>redshift_configuration.0.s3_backup_configuration.0.buffering_interval</code>, respectively.</li>
<li>Rename <code>s3_configuration.0.buffer_size</code> and <code>s3_configuration.0.buffer_interval</code> to <code>s3_configuration.0.buffering_size</code> and <code>s3_configuration.0.buffering_interval</code>, respectively.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_launch_configuration"></a><h2 id="resourceaws_launch_configuration">resource/aws_launch_configuration</h2>

<p>Remove <code>vpc_classic_link_id</code> and <code>vpc_classic_link_security_groups</code> from configurations as they no longer exist. We removed them as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_launch_template"></a><h2 id="resourceaws_launch_template">resource/aws_launch_template</h2>

<p>We removed defaults from <code>metatadata_options</code>. Launch template metadata options will now default to unset values, which is the AWS default behavior.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_lightsail_instance"></a><h2 id="resourceaws_lightsail_instance">resource/aws_lightsail_instance</h2>

<p>Remove <code>ipv6_address</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_macie_member_account_association"></a><h2 id="resourceaws_macie_member_account_association">resource/aws_macie_member_account_association</h2>

<p>We removed this resource as part of the Macie Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_macie_s3_bucket_association"></a><h2 id="resourceaws_macie_s3_bucket_association">resource/aws_macie_s3_bucket_association</h2>

<p>We removed this resource as part of the Macie Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_medialive_multiplex_program"></a><h2 id="resourceaws_medialive_multiplex_program">resource/aws_medialive_multiplex_program</h2>

<p>Change <code>statemux_settings</code>, which no longer exists, to <code>statmux_settings</code> in configurations.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_msk_cluster"></a><h2 id="resourceaws_msk_cluster">resource/aws_msk_cluster</h2>

<p>Remove <code>broker_node_group_info.ebs_volume_size</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_neptune_cluster"></a><h2 id="resourceaws_neptune_cluster">resource/aws_neptune_cluster</h2>

<p>Changes to the <code>snapshot_identifier</code> attribute will now correctly force re-creation of the resource. Previously, changing this attribute would result in a successful apply, but without the cluster being restored (only the resource state was changed). This change brings behavior of the cluster <code>snapshot_identifier</code> attribute into alignment with other RDS resources, such as <code>aws_db_instance</code>.</p>

<p>Automated snapshots <strong>should not</strong> be used for this attribute, unless from a different cluster. Automated snapshots are deleted as part of cluster destruction when the resource is replaced.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_networkmanager_core_network"></a><h2 id="resourceaws_networkmanager_core_network">resource/aws_networkmanager_core_network</h2>

<p>Remove <code>policy_document</code> from configurations as it no longer exists. Use the <code>aws_networkmanager_core_network_policy_attachment</code> resource instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_opensearch_domain"></a><h2 id="resourceaws_opensearch_domain">resource/aws_opensearch_domain</h2>

<ul>
<li>The <code>kibana_endpoint</code> attribute has been deprecated. All configurations using <code>kibana_endpoint</code> should be updated to use the <code>dashboard_endpoint</code> attribute instead.</li>
<li>The <code>engine_version</code> attribute no longer has a default value. Omitting this attribute will now create a domain with the latest OpenSearch version, consistent with the behavior of the AWS API.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_rds_cluster"></a><h2 id="resourceaws_rds_cluster">resource/aws_rds_cluster</h2>

<ul>
<li>Update configurations to always include <code>engine</code> since it is now required and has no default. Previously, not including <code>engine</code> was equivalent to <code>engine = "aurora"</code> and created a MySQL-5.6-compatible cluster.</li>
<li>Changes to the <code>snapshot_identifier</code> attribute will now correctly force re-creation of the resource. Previously, changing this attribute would result in a successful apply, but without the cluster being restored (only the resource state was changed). This change brings behavior of the cluster <code>snapshot_identifier</code> attribute into alignment with other RDS resources, such as <code>aws_db_instance</code>. <strong>NOTE:</strong> Automated snapshots <strong>should not</strong> be used for this attribute, unless from a different cluster. Automated snapshots are deleted as part of cluster destruction when the resource is replaced.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_rds_cluster_instance"></a><h2 id="resourceaws_rds_cluster_instance">resource/aws_rds_cluster_instance</h2>

<p>Update configurations to always include <code>engine</code> since it is now required and has no default. Previously, not including <code>engine</code> was equivalent to <code>engine = "aurora"</code> and created a MySQL-5.6-compatible cluster.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_redshift_cluster"></a><h2 id="resourceaws_redshift_cluster">resource/aws_redshift_cluster</h2>

<p>Remove <code>cluster_security_groups</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_redshift_security_group"></a><h2 id="resourceaws_redshift_security_group">resource/aws_redshift_security_group</h2>

<p>We removed this resource as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_route"></a><h2 id="resourceaws_route">resource/aws_route</h2>

<p>Update configurations to use <code>network_interface_id</code> rather than <code>instance_id</code>, which no longer exists.</p>

<p>For example, this configuration is _no longer valid_:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.example.id</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>One possible way to fix this configuration involves referring to the <code>primary_network_interface_id</code> of an instance:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.example.primary_network_interface_id</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Another fix is to use an ENI:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_network_interface"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_instance"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_network_interface.example.id</span><span class="c1"></span>
<span class="c1">    # ...other configuration...</span>
<span class="w">  </span><span class="p">}</span><span class="c1"></span>

<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_network_interface.example.id</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>

<span class="c1">  # Wait for the ENI attachment</span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">aws_instance.example</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_route_table"></a><h2 id="resourceaws_route_table">resource/aws_route_table</h2>

<p>Update configurations to use <code>route.*.network_interface_id</code> rather than <code>route.*.instance_id</code>, which no longer exists.</p>

<p>For example, this configuration is _no longer valid_:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route_table"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">route</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">instance_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.example.id</span><span class="c1"></span>
<span class="c1">    # ...other configuration...</span>
<span class="w">  </span><span class="p">}</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>One possible way to fix this configuration involves referring to the <code>primary_network_interface_id</code> of an instance:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route_table"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">route</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_instance.example.primary_network_interface_id</span><span class="c1"></span>
<span class="c1">    # ...other configuration...</span>
<span class="w">  </span><span class="p">}</span><span class="c1"></span>

<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Another fix is to use an ENI:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_network_interface"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_instance"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_interface</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_network_interface.example.id</span><span class="c1"></span>
<span class="c1">    # ...other configuration...</span>
<span class="w">  </span><span class="p">}</span><span class="c1"></span>

<span class="c1">  # ...other configuration...</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route_table"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">route</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network_interface_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_network_interface.example.id</span><span class="c1"></span>
<span class="c1">    # ...other configuration...</span>
<span class="w">  </span><span class="p">}</span><span class="c1"></span>

<span class="c1">  # ...other configuration...</span>

<span class="c1">  # Wait for the ENI attachment</span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">aws_instance.example</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_s3_object"></a><h2 id="resourceaws_s3_object">resource/aws_s3_object</h2>

<p>The <code>acl</code> attribute no longer has a default value. Previously this was set to <code>private</code> when omitted. Objects requiring a private ACL should now explicitly set this attribute.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_s3_object_copy"></a><h2 id="resourceaws_s3_object_copy">resource/aws_s3_object_copy</h2>

<p>The <code>acl</code> attribute no longer has a default value. Previously this was set to <code>private</code> when omitted. Object copies requiring a private ACL should now explicitly set this attribute.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_secretsmanager_secret"></a><h2 id="resourceaws_secretsmanager_secret">resource/aws_secretsmanager_secret</h2>

<p>Remove <code>rotation_enabled</code>, <code>rotation_lambda_arn</code> and <code>rotation_rules</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_security_group"></a><h2 id="resourceaws_security_group">resource/aws_security_group</h2>

<p>With the retirement of EC2-Classic, non-VPC security groups are no longer supported.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_security_group_rule"></a><h2 id="resourceaws_security_group_rule">resource/aws_security_group_rule</h2>

<p>With the retirement of EC2-Classic, non-VPC security groups are no longer supported.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_servicecatalog_product"></a><h2 id="resourceaws_servicecatalog_product">resource/aws_servicecatalog_product</h2>

<p>Changes to any <code>provisioning_artifact_parameters</code> arguments now properly trigger a replacement. This fixes incorrect behavior, but may technically be breaking for configurations expecting non-functional in-place updates.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ssm_association"></a><h2 id="resourceaws_ssm_association">resource/aws_ssm_association</h2>

<p>The <code>instance_id</code> attribute has been deprecated. All configurations using <code>instance_id</code> should be updated to use the <code>targets</code> attribute instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_ssm_parameter"></a><h2 id="resourceaws_ssm_parameter">resource/aws_ssm_parameter</h2>

<p>The <code>overwrite</code> attribute has been deprecated. Existing parameters should be explicitly imported rather than relying on the "import on create" behavior previously enabled by setting <code>overwrite = true</code>. In a future major version the <code>overwrite</code> attribute will be removed and attempting to create a parameter that already exists will fail.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_vpc"></a><h2 id="resourceaws_vpc">resource/aws_vpc</h2>

<p>Remove <code>enable_classiclink</code> and <code>enable_classiclink_dns_support</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_vpc_peering_connection"></a><h2 id="resourceaws_vpc_peering_connection">resource/aws_vpc_peering_connection</h2>

<p>Remove <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_vpc_peering_connection_accepter"></a><h2 id="resourceaws_vpc_peering_connection_accepter">resource/aws_vpc_peering_connection_accepter</h2>

<p>Remove <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_vpc_peering_connection_options"></a><h2 id="resourceaws_vpc_peering_connection_options">resource/aws_vpc_peering_connection_options</h2>

<p>Remove <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_wafv2_web_acl"></a><h2 id="resourceaws_wafv2_web_acl">resource/aws_wafv2_web_acl</h2>

<ul>
<li>Remove <code>statement.managed_rule_group_statement.excluded_rule</code> and <code>statement.rule_group_reference_statement.excluded_rule</code> from configurations as they no longer exist.</li>
<li>The <code>statement.rule_group_reference_statement.rule_action_override</code> attribute has been added.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/resource/aws_wafv2_web_acl_logging_configuration"></a><h2 id="resourceaws_wafv2_web_acl_logging_configuration">resource/aws_wafv2_web_acl_logging_configuration</h2>

<p>Remove <code>redacted_fields.all_query_arguments</code>, <code>redacted_fields.body</code> and <code>redacted_fields.single_query_argument</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_api_gateway_rest_api"></a><h2 id="data-sourceaws_api_gateway_rest_api">data-source/aws_api_gateway_rest_api</h2>

<p>The <code>minimum_compression_size</code> attribute is now a String type, allowing it to be computed when set via the <code>body</code> attribute.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_connect_hours_of_operation"></a><h2 id="data-sourceaws_connect_hours_of_operation">data-source/aws_connect_hours_of_operation</h2>

<p>Remove <code>hours_of_operation_arn</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_db_instance"></a><h2 id="data-sourceaws_db_instance">data-source/aws_db_instance</h2>

<p>Remove <code>db_security_groups</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_elasticache_cluster"></a><h2 id="data-sourceaws_elasticache_cluster">data-source/aws_elasticache_cluster</h2>

<p>Remove <code>security_group_names</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_elasticache_replication_group"></a><h2 id="data-sourceaws_elasticache_replication_group">data-source/aws_elasticache_replication_group</h2>

<p>Rename <code>number_cache_clusters</code> and <code>replication_group_description</code>, which no longer exist, to <code>num_cache_clusters</code>, and <code>description</code>, respectively.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_iam_policy_document"></a><h2 id="data-sourceaws_iam_policy_document">data-source/aws_iam_policy_document</h2>

<ul>
<li>Remove <code>source_json</code> and <code>override_json</code> from configurations. Use <code>source_policy_documents</code> and <code>override_policy_documents</code>, respectively, instead.</li>
<li>Don't add empty <code>statement.sid</code> values to <code>json</code> attribute value.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_identitystore_group"></a><h2 id="data-sourceaws_identitystore_group">data-source/aws_identitystore_group</h2>

<p>Remove <code>filter</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_identitystore_user"></a><h2 id="data-sourceaws_identitystore_user">data-source/aws_identitystore_user</h2>

<p>Remove <code>filter</code> from configurations as it no longer exists.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_launch_configuration"></a><h2 id="data-sourceaws_launch_configuration">data-source/aws_launch_configuration</h2>

<p>Remove <code>vpc_classic_link_id</code> and <code>vpc_classic_link_security_groups</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_opensearch_domain"></a><h2 id="data-sourceaws_opensearch_domain">data-source/aws_opensearch_domain</h2>

<p>The <code>kibana_endpoint</code> attribute has been deprecated. All configurations using <code>kibana_endpoint</code> should be updated to use the <code>dashboard_endpoint</code> attribute instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_quicksight_data_set"></a><h2 id="data-sourceaws_quicksight_data_set">data-source/aws_quicksight_data_set</h2>

<p>The <code>tags_all</code> attribute has been deprecated and will be removed in a future version.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_redshift_cluster"></a><h2 id="data-sourceaws_redshift_cluster">data-source/aws_redshift_cluster</h2>

<p>Remove <code>cluster_security_groups</code> from configurations as it no longer exists. We removed it as part of the EC2-Classic retirement.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_redshift_service_account"></a><h2 id="data-sourceaws_redshift_service_account">data-source/aws_redshift_service_account</h2>

<p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/db-auditing.html#db-auditing-bucket-permissions">AWS document</a> that <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_principal.html#principal-services">a service principal name</a> be used instead of AWS account ID in any relevant IAM policy.
The <a href="../data-sources/redshift_service_account.html"><code>aws_redshift_service_account</code></a> data source should now be considered deprecated and will be removed in a future version.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_service_discovery_service"></a><h2 id="data-sourceaws_service_discovery_service">data-source/aws_service_discovery_service</h2>

<p>The <code>tags_all</code> attribute has been deprecated and will be removed in a future version.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_secretsmanager_secret"></a><h2 id="data-sourceaws_secretsmanager_secret">data-source/aws_secretsmanager_secret</h2>

<p>Remove <code>rotation_enabled</code>, <code>rotation_lambda_arn</code> and <code>rotation_rules</code> from configurations as they no longer exist.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_subnet_ids"></a><h2 id="data-sourceaws_subnet_ids">data-source/aws_subnet_ids</h2>

<p>We removed the <code>aws_subnet_ids</code> data source. Use the <a href="../data-sources/subnets.html"><code>aws_subnets</code></a> data source instead.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/data-source/aws_vpc_peering_connection"></a><h2 id="data-sourceaws_vpc_peering_connection">data-source/aws_vpc_peering_connection</h2>

<p>Remove <code>allow_classic_link_to_remote_vpc</code> and <code>allow_vpc_to_remote_classic_link</code> from configurations as they no longer exist. They were part of the EC2-Classic retirement.</p>

            
        
    </body></html>