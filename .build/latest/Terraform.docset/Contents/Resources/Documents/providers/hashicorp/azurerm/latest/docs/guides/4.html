<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/guides/4 --><head>
                <title>Version 4.0 of the Azure Provider</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="version-40-of-the-azure-provider">Version 4.0 of the Azure Provider</h1>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Since this documentation is versioned, we recommend checking <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/guides/4.0-overview">the latest version of this document</a>.</p>
</aside>

<p>Version 4.0 of the Azure Provider is a major release. It has introduced breaking changes as required, in addition to new functionality and bug fixes.</p>

<p>During the development of version 2.0 as well as 3.0 of the Azure Provider we made use of Feature Toggling to gradually add support for the new functionality. This allows users to try out the next major release of the provider in non-production environments, to get a sense of the upcoming changes that will be required in their configuration and to provide invaluable feedback on the changes.</p>

<p>We have used the same approach for version 4.0 of the Azure Provider too, providing an opt-in Beta for the changes coming in version 4.0 whilst using 3.x versions of the Azure Provider.</p>

<p>An upgrade guide containing the detailed changes coming in version 4.0 of the Azure Provider has been made available and can be found <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/guides/4.0-upgrade-guide">here</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Disclaimer"></a><h2 id="disclaimer">Disclaimer</h2>

<p>Important to note is that the activation of the Beta should <strong>only be done in non-production environments</strong> and the <strong>activation is non-reversible</strong> since the changes in 4.0 will affect the Terraform state. We recommend making backups of the environment and state files that you will be testing the beta in, in case a rollback is required.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Pinning%20to%20a%203.x%20version%20of%20the%20Azure%20Provider"></a><h2 id="pinning-to-a-3x-version-of-the-azure-provider">Pinning to a 3.x version of the Azure Provider</h2>

<p>We recommend pinning the version of each Provider you use in Terraform, for example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">azurerm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"hashicorp/azurerm"</span><span class="w"></span>
<span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"=3.112.0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Configure the Microsoft Azure Provider</span>
<span class="kr">provider</span><span class="w"> </span><span class="nv">"azurerm"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">features</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/What%27s%20available%20in%20Version%204.0%20of%20the%20Azure%20Provider%3F"></a><h2 id="whats-available-in-version-40-of-the-azure-provider">What's available in Version 4.0 of the Azure Provider?</h2>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Since new functionality is being added iteratively, this page will be updated as new functionality is added to the 4.0 Beta</p>
</aside>

<p>Version 4.0 of the Azure Provider is now released.</p>

<p>Below is a brief overview of the biggest changes and new features coming in 4.0. For more details on these please see the <a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/guides/4.0-upgrade-guide">4.0 upgrade guide</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Improved%20Resource%20Provider%20Registration"></a><h3 id="improved-resource-provider-registration">Improved Resource Provider Registration</h3>

<p>Resource Provider Registration within the provider will be defined with better clarity and gives users more control over which resource providers to automatically register.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Provider%20Functions"></a><h3 id="provider-functions">Provider Functions</h3>

<p>With the introduction of provider functions in Terraform 1.8, we'll be introducing two new Azure specific provider functions for Azure Resource IDs in 4.0.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Additional%20Configuration%20Options%20for%20Subnets%20defined%20in%20the%20Virtual%20Network%20Resource"></a><h3 id="additional-configuration-options-for-subnets-defined-in-the-virtual-network-resource">Additional Configuration Options for Subnets defined in the Virtual Network Resource</h3>

<p>We've extended the <code>subnet</code> block within the <code>azurerm_virtual_network</code> resource to allow creation of subnets with delegations and route tables, among other options.</p>

            
        
    </body></html>