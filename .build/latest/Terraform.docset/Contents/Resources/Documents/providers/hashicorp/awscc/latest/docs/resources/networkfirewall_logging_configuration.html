<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/networkfirewall_logging_configuration --><head>
                <title>awscc_networkfirewall_logging_configuration</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_networkfirewall_logging_configuration-resource">awscc_networkfirewall_logging_configuration (Resource)</h1>

<p>Resource type definition for AWS::NetworkFirewall::LoggingConfiguration</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Network%20Firewall%20Logging%20to%20S3"></a><h3 id="network-firewall-logging-to-s3">Network Firewall Logging to S3</h3>

<p>Configure Network Firewall logging to store ALERT logs in an S3 bucket, with the necessary infrastructure including VPC, subnet, firewall policy, and appropriate S3 bucket permissions.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get the current AWS region</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Get the current AWS account ID</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Create VPC</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_vpc"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create subnets</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_subnet"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.1.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">availability_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_region.current.name}a"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># S3 bucket for logging</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_s3_bucket"</span><span class="w"> </span><span class="nv">"logging"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-firewall-logs-${data.aws_caller_identity.current.account_id}"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Bucket policy for Network Firewall logging</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_s3_bucket_policy"</span><span class="w"> </span><span class="nv">"logging"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_s3_bucket.logging.id</span><span class="w"></span>
<span class="w">  </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Sid</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"AllowNetworkFirewallLogging"</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">Service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-firewall.amazonaws.com"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:PutObject"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"${awscc_s3_bucket.logging.arn}/*"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Network Firewall Policy</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkfirewall_firewall_policy"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_policy_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-policy"</span><span class="w"></span>
<span class="w">  </span><span class="nb">firewall_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">stateless_default_actions</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"aws:forward_to_sfe"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">stateless_fragment_default_actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"aws:forward_to_sfe"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">stateful_rule_group_reference</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">    </span><span class="na">stateless_rule_group_reference</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Local values for ARNs</span>
<span class="nb">locals</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_arn</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:network-firewall:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:firewall-policy/example-policy"</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:network-firewall:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:firewall/example-firewall"</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Network Firewall</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkfirewall_firewall"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-firewall"</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_policy_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">local.policy_arn</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">subnet_mappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">subnet_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_subnet.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Network Firewall Logging Configuration</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkfirewall_logging_configuration"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_arn</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">local.firewall_arn</span><span class="w"></span>
<span class="w">  </span><span class="na">firewall_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-firewall"</span><span class="w"></span>
<span class="w">  </span><span class="nb">logging_configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">log_destination_configs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">log_destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">bucketName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_s3_bucket.logging.id</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="na">log_destination_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"S3"</span><span class="w"></span>
<span class="w">        </span><span class="na">log_type</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"ALERT"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>firewall_arn</code> (String) A resource ARN.</li>
<li><code>logging_configuration</code> (Attributes) (see <a href="#nestedatt--logging_configuration">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>firewall_name</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
</ul>

<p><a id="nestedatt--logging_configuration"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20logging_configuration"></a><h3 id="nested-schema-for-logging_configuration">Nested Schema for <code>logging_configuration</code></h3>

<p>Required:</p>

<ul>
<li><code>log_destination_configs</code> (Attributes List) (see <a href="#nestedatt--logging_configuration--log_destination_configs">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--logging_configuration--log_destination_configs"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20logging_configuration.log_destination_configs"></a><h3 id="nested-schema-for-logging_configurationlog_destination_configs">Nested Schema for <code>logging_configuration.log_destination_configs</code></h3>

<p>Required:</p>

<ul>
<li><code>log_destination</code> (Map of String) A key-value pair to configure the logDestinations.</li>
<li><code>log_destination_type</code> (String)</li>
<li><code>log_type</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_networkfirewall_logging_configuration.example <span class="s2">"firewall_arn"</span>
</code></pre></div>

            
        
    </body></html>