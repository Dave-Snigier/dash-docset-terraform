<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/datazone_subscription_target --><head>
                <title>awscc_datazone_subscription_target</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_datazone_subscription_target-resource">awscc_datazone_subscription_target (Resource)</h1>

<p>Subscription targets enables one to access the data to which you have subscribed in your projects.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Configure%20DataZone%20S3%20Subscription%20Target"></a><h3 id="configure-datazone-s3-subscription-target">Configure DataZone S3 Subscription Target</h3>

<p>Creates a DataZone subscription target for S3 with required IAM roles and policies, enabling secure data access and management within an AWS DataZone environment.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Data sources to get current AWS region and account ID</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># IAM Role for DataZone subscription target</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_iam_role"</span><span class="w"> </span><span class="nv">"datazone_subscription_target"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DataZoneSubscriptionTargetRole"</span><span class="w"></span>
<span class="w">  </span><span class="na">assume_role_policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">Service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"datazone.amazonaws.com"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"sts:AssumeRole"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_iam_role_policy"</span><span class="w"> </span><span class="nv">"datazone_subscription_target"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DataZoneSubscriptionTargetPolicy"</span><span class="w"></span>
<span class="w">  </span><span class="na">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_iam_role.datazone_subscription_target.id</span><span class="w"></span>

<span class="w">  </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:PutObject"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:DeleteObject"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"s3:ListBucket"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"arn:aws:s3:::datazone-subscription-*"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"arn:aws:s3:::datazone-subscription-*/*"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># DataZone Subscription Target</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_datazone_subscription_target"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-subscription-target"</span><span class="w"></span>
<span class="w">  </span><span class="na">domain_identifier</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"dzd_example123456"</span><span class="c1"> # Replace with actual domain ID</span>
<span class="w">  </span><span class="na">environment_identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"env-example123456"</span><span class="c1"> # Replace with actual environment ID</span>
<span class="w">  </span><span class="na">type</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"S3"</span><span class="w"></span>
<span class="w">  </span><span class="na">provider_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS"</span><span class="w"></span>

<span class="w">  </span><span class="na">applicable_asset_types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"DATA_CATALOG"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">authorized_principals</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">data.aws_caller_identity.current.arn</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">manage_access_role</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_iam_role.datazone_subscription_target.arn</span><span class="w"></span>

<span class="w">  </span><span class="na">subscription_target_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">form_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_S3_CONFIGURATION"</span><span class="w"></span>
<span class="w">      </span><span class="na">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"datazone-subscription-${data.aws_caller_identity.current.account_id}"</span><span class="w"></span>
<span class="w">        </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="w"></span>
<span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>applicable_asset_types</code> (List of String) The asset types that can be included in the subscription target.</li>
<li><code>authorized_principals</code> (List of String) The authorized principals of the subscription target.</li>
<li><code>domain_identifier</code> (String) The ID of the Amazon DataZone domain in which subscription target would be created.</li>
<li><code>environment_identifier</code> (String) The ID of the environment in which subscription target would be created.</li>
<li><code>name</code> (String) The name of the subscription target.</li>
<li><code>subscription_target_config</code> (Attributes List) The configuration of the subscription target. (see <a href="#nestedatt--subscription_target_config">below for nested schema</a>)</li>
<li><code>type</code> (String) The type of the subscription target.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>manage_access_role</code> (String) The manage access role that is used to create the subscription target.</li>
<li><code>provider_name</code> (String) The provider of the subscription target.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>created_at</code> (String) The timestamp of when the subscription target was created.</li>
<li><code>created_by</code> (String) The Amazon DataZone user who created the subscription target.</li>
<li><code>domain_id</code> (String) The ID of the Amazon DataZone domain in which subscription target is created.</li>
<li><code>environment_id</code> (String) The ID of the environment in which subscription target is created.</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>project_id</code> (String) The identifier of the project specified in the subscription target.</li>
<li><code>subscription_target_id</code> (String) The ID of the subscription target.</li>
<li><code>updated_at</code> (String) The timestamp of when the subscription target was updated.</li>
<li><code>updated_by</code> (String) The Amazon DataZone user who updated the subscription target.</li>
</ul>

<p><a id="nestedatt--subscription_target_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20subscription_target_config"></a><h3 id="nested-schema-for-subscription_target_config">Nested Schema for <code>subscription_target_config</code></h3>

<p>Required:</p>

<ul>
<li><code>content</code> (String) The content of the subscription target configuration.</li>
<li><code>form_name</code> (String) The form name included in the subscription target configuration.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_datazone_subscription_target.example <span class="s2">"domain_id|environment_id|id"</span>
</code></pre></div>

            
        
    </body></html>