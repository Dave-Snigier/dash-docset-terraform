<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/ecr_replication_configuration --><head>
                <title>awscc_ecr_replication_configuration</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_ecr_replication_configuration-resource">awscc_ecr_replication_configuration (Resource)</h1>

<p>The AWS::ECR::ReplicationConfiguration resource configures the replication destinations for an Amazon Elastic Container Registry (Amazon Private ECR). For more information, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/replication.html</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Cross-Region%20ECR%20Repository%20Replication"></a><h3 id="cross-region-ecr-repository-replication">Cross-Region ECR Repository Replication</h3>

<p>Configure ECR repository replication across multiple AWS regions for repositories with 'prod-' prefix, enabling image replication to two destination regions for enhanced availability and disaster recovery.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get current AWS account and region</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Create cross region replication configuration</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ecr_replication_configuration"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">replication_configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">destinations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="na">region</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">data.aws_region.current.name</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s2">"eu-west-1" ? "us-west-2" : "eu-west-1"</span><span class="p">)</span><span class="c1"> # Primary replication region</span>
<span class="w">            </span><span class="na">registry_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="na">region</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"ap-southeast-1"</span><span class="c1"> # Secondary replication region</span>
<span class="w">            </span><span class="na">registry_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">repository_filters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="na">filter</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"prod-"</span><span class="w"></span>
<span class="w">            </span><span class="na">filter_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PREFIX_MATCH"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>replication_configuration</code> (Attributes) An object representing the replication configuration for a registry. (see <a href="#nestedatt--replication_configuration">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>registry_id</code> (String) The RegistryId associated with the aws account.</li>
</ul>

<p><a id="nestedatt--replication_configuration"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20replication_configuration"></a><h3 id="nested-schema-for-replication_configuration">Nested Schema for <code>replication_configuration</code></h3>

<p>Required:</p>

<ul>
<li><code>rules</code> (Attributes List) An array of objects representing the replication rules for a replication configuration. A replication configuration may contain a maximum of 10 rules. (see <a href="#nestedatt--replication_configuration--rules">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--replication_configuration--rules"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20replication_configuration.rules"></a><h3 id="nested-schema-for-replication_configurationrules">Nested Schema for <code>replication_configuration.rules</code></h3>

<p>Required:</p>

<ul>
<li><code>destinations</code> (Attributes List) An array of objects representing the details of a replication destination. (see <a href="#nestedatt--replication_configuration--rules--destinations">below for nested schema</a>)</li>
</ul>

<p>Optional:</p>

<ul>
<li><code>repository_filters</code> (Attributes List) An array of objects representing the details of a repository filter. (see <a href="#nestedatt--replication_configuration--rules--repository_filters">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--replication_configuration--rules--destinations"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20replication_configuration.rules.destinations"></a><h3 id="nested-schema-for-replication_configurationrulesdestinations">Nested Schema for <code>replication_configuration.rules.destinations</code></h3>

<p>Required:</p>

<ul>
<li><code>region</code> (String) A Region to replicate to.</li>
<li><code>registry_id</code> (String) The account ID of the destination registry to replicate to.</li>
</ul>

<p><a id="nestedatt--replication_configuration--rules--repository_filters"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20replication_configuration.rules.repository_filters"></a><h3 id="nested-schema-for-replication_configurationrulesrepository_filters">Nested Schema for <code>replication_configuration.rules.repository_filters</code></h3>

<p>Optional:</p>

<ul>
<li><code>filter</code> (String) The repository filter to be applied for replication.</li>
<li><code>filter_type</code> (String) Type of repository filter</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_ecr_replication_configuration.example <span class="s2">"registry_id"</span>
</code></pre></div>

            
        
    </body></html>