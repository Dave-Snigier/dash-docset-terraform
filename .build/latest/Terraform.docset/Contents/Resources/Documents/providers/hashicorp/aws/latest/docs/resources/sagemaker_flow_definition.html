<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/sagemaker_flow_definition --><head>
                <title>aws_sagemaker_flow_definition</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_sagemaker_flow_definition">Resource: aws_sagemaker_flow_definition</h1>

<p>Provides a SageMaker Flow Definition resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Usage"></a><h3 id="basic-usage">Basic Usage</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_sagemaker_flow_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">flow_definition_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>

<span class="w">  </span><span class="nb">human_loop_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">human_task_ui_arn</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_human_task_ui.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="na">task_availability_lifetime_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_count</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_description</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">task_title</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">workteam_arn</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_workteam.example.arn</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">output_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">s3_output_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://${aws_s3_bucket.example.bucket}/"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Public%20Workteam%20Usage"></a><h3 id="public-workteam-usage">Public Workteam Usage</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_sagemaker_flow_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">flow_definition_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>

<span class="w">  </span><span class="nb">human_loop_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">human_task_ui_arn</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_human_task_ui.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="na">task_availability_lifetime_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_count</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_description</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">task_title</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">workteam_arn</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:sagemaker:${data.aws_region.current.name}:394669845002:workteam/public-crowd/default"</span><span class="w"></span>

<span class="w">    </span><span class="nb">public_workforce_task_price</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">amount_in_usd</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">cents</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">        </span><span class="na">tenth_fractions_of_a_cent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">output_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">s3_output_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://${aws_s3_bucket.example.bucket}/"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Human%20Loop%20Activation%20Config%20Usage"></a><h3 id="human-loop-activation-config-usage">Human Loop Activation Config Usage</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_sagemaker_flow_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">flow_definition_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>

<span class="w">  </span><span class="nb">human_loop_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">human_task_ui_arn</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_human_task_ui.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="na">task_availability_lifetime_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_count</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">task_description</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">task_title</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="na">workteam_arn</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_workteam.example.arn</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">human_loop_request_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">aws_managed_human_loop_request_source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS/Textract/AnalyzeDocument/Forms/V1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">human_loop_activation_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">human_loop_activation_conditions_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">human_loop_activation_conditions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="err">        {</span>
<span class="err">            "Conditions": [</span>
<span class="err">              {</span>
<span class="err">                "ConditionType": "Sampling",</span>
<span class="err">                "ConditionParameters": {</span>
<span class="err">                  "RandomSamplingPercentage": 5</span>
<span class="err">                }</span>
<span class="err">              }</span>
<span class="err">            ]</span>
<span class="err">        }</span>
<span class="err">        EOF</span>
<span class="err">    }</span>
<span class="err">  }</span>

<span class="err">  output_config {</span>
<span class="err">    s3_output_path = "s3://${aws_s3_bucket.example.bucket}/"</span>
<span class="err">  }</span>
<span class="err">}</span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="s2">"Conditions"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">              </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="s2">"ConditionType"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Sampling"</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="s2">"ConditionParameters"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                  </span><span class="s2">"RandomSamplingPercentage"</span><span class="o">:</span><span class="w"> </span><span class="m">5</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">              </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="err">EOF</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">output_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">s3_output_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://${aws_s3_bucket.example.bucket}/"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>This resource supports the following arguments:</p>

<ul>
<li><code>flow_definition_name</code> - (Required) The name of your flow definition.</li>
<li><code>human_loop_config</code> - (Required)  An object containing information about the tasks the human reviewers will perform. See <a href="#human-loop-config">Human Loop Config</a> details below.</li>
<li><code>role_arn</code> - (Required) The Amazon Resource Name (ARN) of the role needed to call other services on your behalf.</li>
<li><code>output_config</code> - (Required) An object containing information about where the human review results will be uploaded. See <a href="#output-config">Output Config</a> details below.</li>
<li><code>human_loop_activation_config</code> - (Optional) An object containing information about the events that trigger a human workflow. See <a href="#human-loop-activation-config">Human Loop Activation Config</a> details below.</li>
<li><code>human_loop_request_source</code> - (Optional) Container for configuring the source of human task requests. Use to specify if Amazon Rekognition or Amazon Textract is used as an integration source. See <a href="#human-loop-request-source">Human Loop Request Source</a> details below.</li>
<li><code>tags</code> - (Optional) A map of tags to assign to the resource. If configured with a provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Human%20Loop%20Config"></a><h3 id="human-loop-config">Human Loop Config</h3>

<ul>
<li><code>human_task_ui_arn</code> - (Required) The Amazon Resource Name (ARN) of the human task user interface.</li>
<li><code>public_workforce_task_price</code> - (Optional) Defines the amount of money paid to an Amazon Mechanical Turk worker for each task performed. See <a href="#public-workforce-task-price">Public Workforce Task Price</a> details below.</li>
<li><code>task_availability_lifetime_in_seconds</code> - (Required) The length of time that a task remains available for review by human workers. Valid value range between <code>1</code> and <code>864000</code>.</li>
<li><code>task_count</code> - (Required) The number of distinct workers who will perform the same task on each object. Valid value range between <code>1</code> and <code>3</code>.</li>
<li><code>task_description</code> - (Required) A description for the human worker task.</li>
<li><code>task_keywords</code> - (Optional) An array of keywords used to describe the task so that workers can discover the task.</li>
<li><code>task_time_limit_in_seconds</code> - (Optional) The amount of time that a worker has to complete a task. The default value is <code>3600</code> seconds.</li>
<li><code>task_title</code> - (Required) A title for the human worker task.</li>
<li><code>workteam_arn</code> - (Required) The Amazon Resource Name (ARN) of the human task user interface. Amazon Resource Name (ARN) of a team of workers. For Public workforces see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sms-workforce-management-public.html">AWS Docs</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Public%20Workforce%20Task%20Price"></a><h4 id="public-workforce-task-price">Public Workforce Task Price</h4>

<ul>
<li><code>amount_in_usd</code> - (Optional) Defines the amount of money paid to an Amazon Mechanical Turk worker in United States dollars. See <a href="#amount-in-usd">Amount In Usd</a> details below.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Amount%20In%20Usd"></a><h5 id="amount-in-usd">Amount In Usd</h5>

<ul>
<li><code>cents</code> - (Optional) The fractional portion, in cents, of the amount. Valid value range between <code>0</code> and <code>99</code>.</li>
<li><code>dollars</code> - (Optional) The whole number of dollars in the amount. Valid value range between <code>0</code> and <code>2</code>.</li>
<li><code>tenth_fractions_of_a_cent</code> - (Optional) Fractions of a cent, in tenths. Valid value range between <code>0</code> and <code>9</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Human%20Loop%20Activation%20Config"></a><h3 id="human-loop-activation-config">Human Loop Activation Config</h3>

<ul>
<li><code>human_loop_activation_conditions_config</code> - (Required) defines under what conditions SageMaker creates a human loop. See <a href="#human-loop-activation-conditions-config">Human Loop Activation Conditions Config</a> details below.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Human%20Loop%20Activation%20Conditions%20Config"></a><h4 id="human-loop-activation-conditions-config">Human Loop Activation Conditions Config</h4>

<ul>
<li><code>human_loop_activation_conditions</code> - (Required) A JSON expressing use-case specific conditions declaratively. If any condition is matched, atomic tasks are created against the configured work team. For more information about how to structure the JSON, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/a2i-human-fallback-conditions-json-schema.html">JSON Schema for Human Loop Activation Conditions in Amazon Augmented AI</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Human%20Loop%20Request%20Source"></a><h3 id="human-loop-request-source">Human Loop Request Source</h3>

<ul>
<li><code>aws_managed_human_loop_request_source</code> - (Required) Specifies whether Amazon Rekognition or Amazon Textract are used as the integration source. Valid values are: <code>AWS/Rekognition/DetectModerationLabels/Image/V3</code> and <code>AWS/Textract/AnalyzeDocument/Forms/V1</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Output%20Config"></a><h3 id="output-config">Output Config</h3>

<ul>
<li><code>s3_output_path</code> - (Required) The Amazon S3 path where the object containing human output will be made available.</li>
<li><code>kms_key_id</code> - (Optional) The Amazon Key Management Service (KMS) key ARN for server-side encryption.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>arn</code> - The Amazon Resource Name (ARN) assigned by AWS to this Flow Definition.</li>
<li><code>id</code> - The name of the Flow Definition.</li>
<li><code>tags_all</code> - A map of tags assigned to the resource, including those inherited from the provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import SageMaker Flow Definitions using the <code>flow_definition_name</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_sagemaker_flow_definition.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import SageMaker Flow Definitions using the <code>flow_definition_name</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_sagemaker_flow_definition.example example
</code></pre></div>

            
        
    </body></html>