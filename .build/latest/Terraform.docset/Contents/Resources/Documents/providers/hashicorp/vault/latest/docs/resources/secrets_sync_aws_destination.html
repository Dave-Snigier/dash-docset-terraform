<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/secrets_sync_aws_destination --><head>
                <title>vault_secrets_sync_aws_destination</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_secrets_sync_aws_destination">vault_secrets_sync_aws_destination</h1>

<p>Creates an AWS destination to synchronize secrets in Vault. Requires Vault 1.16+.
<em>Available only for Vault Enterprise</em>.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<p>For more information on syncing secrets with AWS, please refer to the Vault
<a href="https://developer.hashicorp.com/vault/docs/sync/awssm">documentation</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_secrets_sync_aws_destination"</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"aws-dest"</span><span class="w"></span>
<span class="w">  </span><span class="na">access_key_id</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">var.access_key_id</span><span class="w"></span>
<span class="w">  </span><span class="na">secret_access_key</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">var.secret_access_key</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-east-1"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"role-arn"</span><span class="w"></span>
<span class="w">  </span><span class="na">external_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"external-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">secret_name_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"vault_{{ .MountAccessor | lowercase }}_{{ .SecretPath | lowercase }}"</span><span class="w"></span>
<span class="w">  </span><span class="nb">custom_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"foo"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.</p></li>
<li><p><code>name</code> - (Required) Unique name of the AWS destination.</p></li>
<li><p><code>access_key_id</code> - (Optional) Access key id to authenticate against the AWS secrets manager.
Can be omitted and directly provided to Vault using the <code>AWS_ACCESS_KEY_ID</code> environment
variable.</p></li>
<li><p><code>secret_access_key</code> - (Optional) Secret access key to authenticate against the AWS secrets manager.
Can be omitted and directly provided to Vault using the <code>AWS_SECRET_ACCESS_KEY</code> environment
variable.</p></li>
<li><p><code>region</code> - (Optional) Region where to manage the secrets manager entries.
Can be omitted and directly provided to Vault using the <code>AWS_REGION</code> environment
variable.</p></li>
<li><p><code>custom_tags</code> - (Optional) Custom tags to set on the secret managed at the destination.</p></li>
<li><p><code>secret_name_template</code> - (Optional) Template describing how to generate external secret names.
Supports a subset of the Go Template syntax.</p></li>
<li><p><code>granularity</code> - (Optional) Determines what level of information is synced as a distinct resource 
at the destination. Supports <code>secret-path</code> and <code>secret-key</code>.</p></li>
<li><p><code>role_arn</code> - (Optional) Specifies a role to assume when connecting to AWS. When assuming a role, 
Vault uses temporary STS credentials to authenticate. An initial session with the proper trust relationship must 
exist for Vault to be able to assume this role. The role can be in a different account. 
The value is mutable as long as the new role targets the same AWS account ID. If not, the BE will return an error. 
It is possible to provide both an access key pair and a role to assume.</p></li>
<li><p><code>external_id</code> - (Optional) Optional extra protection that must match the trust policy granting access to the
AWS IAM role ARN. We recommend using a different random UUID per destination. The value is generated by users. 
The field is mutable with no special condition, but users must be careful that the new value fits with the trust
relationship condition they set on AWS otherwise sync operations will start to fail due to client-side access 
denied errors. Ignored if the <code>role_arn</code> field is empty.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported in addition to the above:</p>

<ul>
<li><code>type</code> - The type of the secrets destination (<code>aws-sm</code>).</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>AWS Secrets sync destinations can be imported using the <code>name</code>, e.g.</p>

<pre><code>$ terraform import vault_secrets_sync_aws_destination.aws aws-dest
</code></pre>

            
        
    </body></html>