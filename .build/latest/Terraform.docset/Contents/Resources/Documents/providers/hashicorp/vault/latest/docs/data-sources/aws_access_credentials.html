<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/data-sources/aws_access_credentials --><head>
                <title>vault_aws_access_credentials</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_aws_access_credentials">vault_aws_access_credentials</h1>

<p>Reads AWS credentials from an AWS secret backend in Vault.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data retrieved from Vault will be written in cleartext to state file generated by Terraform, will appear in the console output when Terraform runs, and may be included in plan files if secrets are interpolated into any resource attributes. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>When using the outputs of this data source to authenticate with the <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs">Terraform Provider for AWS</a> or the <a href="https://registry.terraform.io/providers/hashicorp/awscc/latest/docs">Terraform Provider for AWS Cloud Control</a>, the credentials leased from Vault cannnot be renewed. Ensure that the lease is long enough for Terraform to complete.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_aws_secret_backend"</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AKIA....."</span><span class="w"></span>
<span class="w">  </span><span class="na">secret_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SECRETKEYFROMAWS"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_aws_secret_backend_role"</span><span class="w"> </span><span class="nv">"role"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_aws_secret_backend.aws.path</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="w"></span>

<span class="w">  </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="sh">{</span>
<span class="sh">  "Version": "2012-10-17",</span>
<span class="sh">  "Statement": [</span>
<span class="sh">    {</span>
<span class="sh">      "Effect": "Allow",</span>
<span class="sh">      "Action": "iam:*",</span>
<span class="sh">      "Resource": "*"</span>
<span class="sh">    }</span>
<span class="sh">  ]</span>
<span class="sh">}</span>
<span class="dl">EOT</span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># generally, these blocks would be in a different module</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"vault_aws_access_credentials"</span><span class="w"> </span><span class="nv">"creds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_aws_secret_backend.aws.path</span><span class="w"></span>
<span class="w">  </span><span class="na">role</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_aws_secret_backend_role.role.name</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"aws"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.vault_aws_access_credentials.creds.access_key</span><span class="w"></span>
<span class="w">  </span><span class="na">secret_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.vault_aws_access_credentials.creds.secret_key</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace of the target resource.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>backend</code> - (Required) The path to the AWS secret backend to
read credentials from, with no leading or trailing <code>/</code>s.</p></li>
<li><p><code>role</code> - (Required) The name of the AWS secret backend role to read
credentials from, with no leading or trailing <code>/</code>s.</p></li>
<li><p><code>type</code> - (Optional) The type of credentials to read. Defaults
to <code>"creds"</code>, which just returns an AWS Access Key ID and Secret
Key. Can also be set to <code>"sts"</code>, which will return a security token
in addition to the keys.</p></li>
<li><p><code>role_arn</code> - (Required if role has multiple ARNs) The specific AWS ARN to use
from the configured role. If the role does not have multiple ARNs, this does
not need to be specified.</p></li>
<li><p><code>region</code> - (Required when reading from AWS GovCloud) The region the read credentials belong to.</p></li>
<li><p><code>ttl</code> - (Optional) Specifies the TTL for the use of the STS token. This
is specified as a string with a duration suffix. Valid only when
<code>credential_type</code> of the connected <code>vault_aws_secret_backend_role</code> resource is <code>assumed_role</code> or <code>federation_token</code></p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments above, the following attributes are exported:</p>

<ul>
<li><p><code>access_key</code> - The AWS Access Key ID returned by Vault.</p></li>
<li><p><code>secret_key</code> - The AWS Secret Key returned by Vault.</p></li>
<li><p><code>security_token</code> - The STS token returned by Vault, if any.</p></li>
<li><p><code>lease_id</code> - The lease identifier assigned by Vault.</p></li>
<li><p><code>lease_duration</code> - The duration of the secret lease, in seconds relative
to the time the data was requested. Once this time has passed any plan
generated with this data may fail to apply.</p></li>
<li><p><code>lease_start_time</code> - As a convenience, this records the current time
on the computer where Terraform is running when the data is requested.
This can be used to approximate the absolute time represented by
<code>lease_duration</code>, though users must allow for any clock drift and response
latency relative to the Vault server.</p></li>
<li><p><code>lease_renewable</code> - <code>true</code> if the lease can be renewed using Vault's
<code>sys/renew/{lease-id}</code> endpoint. Terraform does not currently support lease
renewal, and so it will request a new lease each time this data source is
refreshed.</p></li>
</ul>

            
        
    </body></html>