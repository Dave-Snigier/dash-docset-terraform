<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/fms_policy --><head>
                <title>awscc_fms_policy</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_fms_policy-resource">awscc_fms_policy (Resource)</h1>

<p>Creates an AWS Firewall Manager policy.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/WAF%20Security%20Policy%20with%20Firewall%20Manager"></a><h3 id="waf-security-policy-with-firewall-manager">WAF Security Policy with Firewall Manager</h3>

<p>Creates an AWS Firewall Manager security policy that applies WAF rules to Application Load Balancers, with a default BLOCK action while counting matches from the default rule group.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Prerequisites:</span>
<span class="c1"># 1. AWS Organizations must be enabled for your AWS account</span>
<span class="c1"># 2. AWS Firewall Manager must be enabled in your organization</span>
<span class="c1"># 3. AWS Firewall Manager administrator account must be designated</span>

<span class="c1"># Get current AWS region</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Get current AWS account ID</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Example FMS Security Policy</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_fms_policy"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-fms-policy"</span><span class="w"></span>
<span class="w">  </span><span class="na">remediation_enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">exclude_resource_tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>

<span class="w">  </span><span class="nb">security_service_policy_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WAF"</span><span class="w"></span>
<span class="w">    </span><span class="na">managed_service_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">      </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WAF"</span><span class="w"></span>
<span class="w">      </span><span class="na">ruleGroups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">        </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"default"</span><span class="w"></span>
<span class="w">        </span><span class="nb">overrideAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"COUNT"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}]</span><span class="w"></span>
<span class="w">      </span><span class="nb">defaultAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"BLOCK"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="na">overrideCustomerWebACLAssociation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS::ElasticLoadBalancingV2::LoadBalancer"</span><span class="w"></span>

<span class="w">  </span><span class="na">policy_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example FMS WAF Policy"</span><span class="c1"></span>

<span class="c1">  # Example include map - you can include specific accounts or OUs</span>
<span class="w">  </span><span class="nb">include_map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"ModifiedBy"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>exclude_resource_tags</code> (Boolean)</li>
<li><code>policy_name</code> (String)</li>
<li><code>remediation_enabled</code> (Boolean)</li>
<li><code>security_service_policy_data</code> (Attributes) Firewall security service policy data. (see <a href="#nestedatt--security_service_policy_data">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>delete_all_policy_resources</code> (Boolean)</li>
<li><code>exclude_map</code> (Attributes) An FMS includeMap or excludeMap. (see <a href="#nestedatt--exclude_map">below for nested schema</a>)</li>
<li><code>include_map</code> (Attributes) An FMS includeMap or excludeMap. (see <a href="#nestedatt--include_map">below for nested schema</a>)</li>
<li><code>policy_description</code> (String)</li>
<li><code>resource_set_ids</code> (List of String)</li>
<li><code>resource_tag_logical_operator</code> (String)</li>
<li><code>resource_tags</code> (Attributes List) (see <a href="#nestedatt--resource_tags">below for nested schema</a>)</li>
<li><code>resource_type</code> (String) An AWS resource type</li>
<li><code>resource_type_list</code> (List of String)</li>
<li><code>resources_clean_up</code> (Boolean)</li>
<li><code>tags</code> (Attributes List) (see <a href="#nestedatt--tags">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>arn</code> (String) A resource ARN.</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>policy_id</code> (String)</li>
</ul>

<p><a id="nestedatt--security_service_policy_data"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data"></a><h3 id="nested-schema-for-security_service_policy_data">Nested Schema for <code>security_service_policy_data</code></h3>

<p>Required:</p>

<ul>
<li><code>type</code> (String) Firewall policy type.</li>
</ul>

<p>Optional:</p>

<ul>
<li><code>managed_service_data</code> (String) Firewall managed service data.</li>
<li><code>policy_option</code> (Attributes) Firewall policy option. (see <a href="#nestedatt--security_service_policy_data--policy_option">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_option">Nested Schema for <code>security_service_policy_data.policy_option</code></h3>

<p>Optional:</p>

<ul>
<li><code>network_acl_common_policy</code> (Attributes) Network ACL common policy. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy">below for nested schema</a>)</li>
<li><code>network_firewall_policy</code> (Attributes) Network firewall policy. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_firewall_policy">below for nested schema</a>)</li>
<li><code>third_party_firewall_policy</code> (Attributes) Third party firewall policy. (see <a href="#nestedatt--security_service_policy_data--policy_option--third_party_firewall_policy">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policy">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy</code></h3>

<p>Optional:</p>

<ul>
<li><code>network_acl_entry_set</code> (Attributes) Network ACL entry set. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_set">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set</code></h3>

<p>Optional:</p>

<ul>
<li><code>first_entries</code> (Attributes List) NetworkAcl entry list. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries">below for nested schema</a>)</li>
<li><code>force_remediate_for_first_entries</code> (Boolean)</li>
<li><code>force_remediate_for_last_entries</code> (Boolean)</li>
<li><code>last_entries</code> (Attributes List) NetworkAcl entry list. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setfirst_entries">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries</code></h3>

<p>Optional:</p>

<ul>
<li><code>cidr_block</code> (String) CIDR block.</li>
<li><code>egress</code> (Boolean) Whether the entry is an egress entry.</li>
<li><code>icmp_type_code</code> (Attributes) ICMP type and code. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries--icmp_type_code">below for nested schema</a>)</li>
<li><code>ipv_6_cidr_block</code> (String) IPv6 CIDR block.</li>
<li><code>port_range</code> (Attributes) Port range. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries--port_range">below for nested schema</a>)</li>
<li><code>protocol</code> (String) Protocol.</li>
<li><code>rule_action</code> (String) Rule Action.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries--icmp_type_code"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries.icmp_type_code"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setfirst_entriesicmp_type_code">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries.icmp_type_code</code></h3>

<p>Optional:</p>

<ul>
<li><code>code</code> (Number) Code.</li>
<li><code>type</code> (Number) Type.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--first_entries--port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries.port_range"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setfirst_entriesport_range">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.first_entries.port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from</code> (Number) From Port.</li>
<li><code>to</code> (Number) To Port.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setlast_entries">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries</code></h3>

<p>Optional:</p>

<ul>
<li><code>cidr_block</code> (String) CIDR block.</li>
<li><code>egress</code> (Boolean) Whether the entry is an egress entry.</li>
<li><code>icmp_type_code</code> (Attributes) ICMP type and code. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries--icmp_type_code">below for nested schema</a>)</li>
<li><code>ipv_6_cidr_block</code> (String) IPv6 CIDR block.</li>
<li><code>port_range</code> (Attributes) Port range. (see <a href="#nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries--port_range">below for nested schema</a>)</li>
<li><code>protocol</code> (String) Protocol.</li>
<li><code>rule_action</code> (String) Rule Action.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries--icmp_type_code"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries.icmp_type_code"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setlast_entriesicmp_type_code">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries.icmp_type_code</code></h3>

<p>Optional:</p>

<ul>
<li><code>code</code> (Number) Code.</li>
<li><code>type</code> (Number) Type.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_acl_common_policy--network_acl_entry_set--last_entries--port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries.port_range"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_acl_common_policynetwork_acl_entry_setlast_entriesport_range">Nested Schema for <code>security_service_policy_data.policy_option.network_acl_common_policy.network_acl_entry_set.last_entries.port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from</code> (Number) From Port.</li>
<li><code>to</code> (Number) To Port.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--network_firewall_policy"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.network_firewall_policy"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionnetwork_firewall_policy">Nested Schema for <code>security_service_policy_data.policy_option.network_firewall_policy</code></h3>

<p>Optional:</p>

<ul>
<li><code>firewall_deployment_model</code> (String) Firewall deployment mode.</li>
</ul>

<p><a id="nestedatt--security_service_policy_data--policy_option--third_party_firewall_policy"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20security_service_policy_data.policy_option.third_party_firewall_policy"></a><h3 id="nested-schema-for-security_service_policy_datapolicy_optionthird_party_firewall_policy">Nested Schema for <code>security_service_policy_data.policy_option.third_party_firewall_policy</code></h3>

<p>Optional:</p>

<ul>
<li><code>firewall_deployment_model</code> (String) Firewall deployment mode.</li>
</ul>

<p><a id="nestedatt--exclude_map"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20exclude_map"></a><h3 id="nested-schema-for-exclude_map">Nested Schema for <code>exclude_map</code></h3>

<p>Optional:</p>

<ul>
<li><code>account</code> (List of String)</li>
<li><code>orgunit</code> (List of String)</li>
</ul>

<p><a id="nestedatt--include_map"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20include_map"></a><h3 id="nested-schema-for-include_map">Nested Schema for <code>include_map</code></h3>

<p>Optional:</p>

<ul>
<li><code>account</code> (List of String)</li>
<li><code>orgunit</code> (List of String)</li>
</ul>

<p><a id="nestedatt--resource_tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20resource_tags"></a><h3 id="nested-schema-for-resource_tags">Nested Schema for <code>resource_tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String)</li>
<li><code>value</code> (String)</li>
</ul>

<p><a id="nestedatt--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20tags"></a><h3 id="nested-schema-for-tags">Nested Schema for <code>tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String)</li>
<li><code>value</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_fms_policy.example <span class="s2">"id"</span>
</code></pre></div>

            
        
    </body></html>