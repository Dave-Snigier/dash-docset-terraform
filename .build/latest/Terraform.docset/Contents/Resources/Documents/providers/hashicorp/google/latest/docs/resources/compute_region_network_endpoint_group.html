<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_region_network_endpoint_group --><head>
                <title>google_compute_region_network_endpoint_group</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_compute_region_network_endpoint_group">google_compute_region_network_endpoint_group</h1>

<p>A regional NEG that can support Serverless Products, proxying traffic to
external backends and providing traffic to the PSC port mapping endpoints.</p>

<p>Recreating a region network endpoint group that's in use by another resource will give a
<code>resourceInUseByAnotherResource</code> error. Use <code>lifecycle.create_before_destroy</code>
to avoid this type of error.</p>

<p>To get more information about RegionNetworkEndpointGroup, see:</p>

<ul>
<li><a href="https://cloud.google.com/compute/docs/reference/rest/beta/regionNetworkEndpointGroups">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/load-balancing/docs/negs/internet-neg-concepts">Internet NEGs Official Documentation</a></li>
<li><a href="https://cloud.google.com/load-balancing/docs/negs/serverless-neg-concepts">Serverless NEGs Official Documentation</a></li>
</ul></li>
</ul>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_functions&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Functions"></a><h2 id="example-usage-region-network-endpoint-group-functions">Example Usage - Region Network Endpoint Group Functions</h2>

<div class="codehilite"><pre><span></span><code><span class="c1">// Cloud Functions Example</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"function_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"function-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SERVERLESS"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">cloud_function</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_cloudfunctions_function.function_neg.name</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_cloudfunctions_function"</span><span class="w"> </span><span class="nv">"function_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"function-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"My function"</span><span class="w"></span>
<span class="w">  </span><span class="na">runtime</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"nodejs10"</span><span class="w"></span>

<span class="w">  </span><span class="na">available_memory_mb</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">128</span><span class="w"></span>
<span class="w">  </span><span class="na">source_archive_bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_storage_bucket.bucket.name</span><span class="w"></span>
<span class="w">  </span><span class="na">source_archive_object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_storage_bucket_object.archive.name</span><span class="w"></span>
<span class="w">  </span><span class="na">trigger_http</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">timeout</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">60</span><span class="w"></span>
<span class="w">  </span><span class="na">entry_point</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"helloGET"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_storage_bucket"</span><span class="w"> </span><span class="nv">"bucket"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloudfunctions-function-example-bucket"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_storage_bucket_object"</span><span class="w"> </span><span class="nv">"archive"</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"index.zip"</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_storage_bucket.bucket.name</span><span class="w"></span>
<span class="w">  </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"path/to/index.zip"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_cloudrun&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Cloudrun"></a><h2 id="example-usage-region-network-endpoint-group-cloudrun">Example Usage - Region Network Endpoint Group Cloudrun</h2>

<div class="codehilite"><pre><span></span><code><span class="c1">// Cloud Run Example</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"cloudrun_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloudrun-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SERVERLESS"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">cloud_run</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_cloud_run_service.cloudrun_neg.name</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_cloud_run_service"</span><span class="w"> </span><span class="nv">"cloudrun_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloudrun-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>

<span class="w">  </span><span class="nb">template</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">spec</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">containers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-docker.pkg.dev/cloudrun/container/hello"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">traffic</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">percent</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="w"></span>
<span class="w">    </span><span class="na">latest_revision</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_appengine&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Appengine"></a><h2 id="example-usage-region-network-endpoint-group-appengine">Example Usage - Region Network Endpoint Group Appengine</h2>

<div class="codehilite"><pre><span></span><code><span class="c1">// App Engine Example</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"appengine_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"appengine-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SERVERLESS"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">app_engine</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_app_engine_flexible_app_version.appengine_neg.service</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_app_engine_flexible_app_version.appengine_neg.version_id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_app_engine_flexible_app_version"</span><span class="w"> </span><span class="nv">"appengine_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">version_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"v1"</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"appengine-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">runtime</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"nodejs"</span><span class="w"></span>
<span class="w">  </span><span class="nb">flexible_runtime_settings</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">operating_system</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ubuntu22"</span><span class="w"></span>
<span class="w">    </span><span class="na">runtime_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"20"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">entrypoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">shell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"node ./app.js"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">deployment</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">zip</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">source_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://storage.googleapis.com/${google_storage_bucket.appengine_neg.name}/${google_storage_bucket_object.appengine_neg.name}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">liveness_check</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">readiness_check</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">env_variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"8080"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">handlers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">url_regex</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">".*\\/my-path\\/*"</span><span class="w"></span>
<span class="w">    </span><span class="na">security_level</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"SECURE_ALWAYS"</span><span class="w"></span>
<span class="w">    </span><span class="na">login</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"LOGIN_REQUIRED"</span><span class="w"></span>
<span class="w">    </span><span class="na">auth_fail_action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AUTH_FAIL_ACTION_REDIRECT"</span><span class="w"></span>

<span class="w">    </span><span class="nb">static_files</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-other-path"</span><span class="w"></span>
<span class="w">      </span><span class="na">upload_path_regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">".*\\/my-path\\/*"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">automatic_scaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cool_down_period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"120s"</span><span class="w"></span>
<span class="w">    </span><span class="nb">cpu_utilization</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">target_utilization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">0.5</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">delete_service_on_destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_storage_bucket"</span><span class="w"> </span><span class="nv">"appengine_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"appengine-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="w">  </span><span class="na">uniform_bucket_level_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_storage_bucket_object"</span><span class="w"> </span><span class="nv">"appengine_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"hello-world.zip"</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_storage_bucket.appengine_neg.name</span><span class="w"></span>
<span class="w">  </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"./test-fixtures/hello-world.zip"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_appengine_empty&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Appengine%20Empty"></a><h2 id="example-usage-region-network-endpoint-group-appengine-empty">Example Usage - Region Network Endpoint Group Appengine Empty</h2>

<div class="codehilite"><pre><span></span><code><span class="c1">// App Engine Example</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"appengine_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"appengine-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SERVERLESS"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">app_engine</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_psc&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Psc"></a><h2 id="example-usage-region-network-endpoint-group-psc">Example Usage - Region Network Endpoint Group Psc</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"psc_neg"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"asia-northeast3"</span><span class="w"></span>

<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PRIVATE_SERVICE_CONNECT"</span><span class="w"></span>
<span class="w">  </span><span class="na">psc_target_service</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"asia-northeast3-cloudkms.googleapis.com"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_psc_service_attachment&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Psc%20Service%20Attachment"></a><h2 id="example-usage-region-network-endpoint-group-psc-service-attachment">Example Usage - Region Network Endpoint Group Psc Service Attachment</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_subnetwork"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-subnetwork"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_cidr_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_subnetwork"</span><span class="w"> </span><span class="nv">"psc_subnetwork"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-subnetwork-nat"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_cidr_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.1.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>
<span class="w">  </span><span class="na">purpose</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"PRIVATE_SERVICE_CONNECT"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_health_check"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-healthcheck"</span><span class="w"></span>

<span class="w">  </span><span class="na">check_interval_sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">timeout_sec</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="nb">tcp_health_check</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"80"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_backend_service"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-backend"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>

<span class="w">  </span><span class="na">health_checks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_compute_health_check.default.id</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-forwarding-rule"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>

<span class="w">  </span><span class="na">load_balancing_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="w"></span>
<span class="w">  </span><span class="na">backend_service</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_region_backend_service.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">ports</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"80", "88", "443"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.name</span><span class="w"></span>
<span class="w">  </span><span class="na">subnetwork</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.default.name</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_service_attachment"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-service-attachment"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"A service attachment configured with Terraform"</span><span class="w"></span>

<span class="w">  </span><span class="na">enable_proxy_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">connection_preference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ACCEPT_AUTOMATIC"</span><span class="w"></span>
<span class="w">  </span><span class="na">nat_subnets</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_compute_subnetwork.psc_subnetwork.self_link</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">target_service</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_forwarding_rule.default.self_link</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"psc_neg_service_attachment"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"psc-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"europe-west4"</span><span class="w"></span>

<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PRIVATE_SERVICE_CONNECT"</span><span class="w"></span>
<span class="w">  </span><span class="na">psc_target_service</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_service_attachment.default.self_link</span><span class="w"></span>
<span class="w">  </span><span class="nb">psc_data</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">producer_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"88"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.self_link</span><span class="w"></span>
<span class="w">  </span><span class="na">subnetwork</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.default.self_link</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_internet_ip_port&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Internet%20Ip%20Port"></a><h2 id="example-usage-region-network-endpoint-group-internet-ip-port">Example Usage - Region Network Endpoint Group Internet Ip Port</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"region_network_endpoint_group_internet_ip_port"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"ip-port-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>

<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERNET_IP_PORT"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_internet_fqdn_port&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Internet%20Fqdn%20Port"></a><h2 id="example-usage-region-network-endpoint-group-internet-fqdn-port">Example Usage - Region Network Endpoint Group Internet Fqdn Port</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"region_network_endpoint_group_internet_fqdn_port"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"ip-port-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>

<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERNET_FQDN_PORT"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=region_network_endpoint_group_portmap&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Network%20Endpoint%20Group%20Portmap"></a><h2 id="example-usage-region-network-endpoint-group-portmap">Example Usage - Region Network Endpoint Group Portmap</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_region_network_endpoint_group"</span><span class="w"> </span><span class="nv">"region_network_endpoint_group_portmap"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"portmap-neg"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">subnetwork</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.default.id</span><span class="w"></span>

<span class="w">  </span><span class="na">network_endpoint_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"GCE_VM_IP_PORTMAP"</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network"</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_subnetwork"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"subnetwork"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_cidr_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>name</code> -
(Required)
Name of the resource; provided by the client when the resource is
created. The name must be 1-63 characters long, and comply with
RFC1035. Specifically, the name must be 1-63 characters long and match
the regular expression <code>[a-z]([-a-z0-9]*[a-z0-9])?</code> which means the
first character must be a lowercase letter, and all following
characters must be a dash, lowercase letter, or digit, except the last
character, which cannot be a dash.</p></li>
<li><p><code>region</code> -
(Required)
A reference to the region where the regional NEGs reside.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>description</code> -
(Optional)
An optional description of this resource. Provide this property when
you create the resource.</p></li>
<li><p><code>network_endpoint_type</code> -
(Optional)
Type of network endpoints in this network endpoint group. Defaults to SERVERLESS.
Default value is <code>SERVERLESS</code>.
Possible values are: <code>SERVERLESS</code>, <code>PRIVATE_SERVICE_CONNECT</code>, <code>INTERNET_IP_PORT</code>, <code>INTERNET_FQDN_PORT</code>, <code>GCE_VM_IP_PORTMAP</code>.</p></li>
<li><p><code>psc_target_service</code> -
(Optional)
This field is only used for PSC and INTERNET NEGs.
The target service url used to set up private service connection to
a Google API or a PSC Producer Service Attachment.</p></li>
<li><p><code>network</code> -
(Optional)
This field is only used for PSC and INTERNET NEGs.
The URL of the network to which all network endpoints in the NEG belong. Uses
"default" project network if unspecified.</p></li>
<li><p><code>subnetwork</code> -
(Optional)
This field is only used for PSC NEGs.
Optional URL of the subnetwork to which all network endpoints in the NEG belong.</p></li>
<li><p><code>psc_data</code> -
(Optional)
This field is only used for PSC NEGs.
Structure is <a href="#nested_psc_data">documented below</a>.</p></li>
<li><p><code>cloud_run</code> -
(Optional)
This field is only used for SERVERLESS NEGs.
Only one of cloud_run, app_engine, cloud_function or serverless_deployment may be set.
Structure is <a href="#nested_cloud_run">documented below</a>.</p></li>
<li><p><code>app_engine</code> -
(Optional)
This field is only used for SERVERLESS NEGs.
Only one of cloud_run, app_engine, cloud_function or serverless_deployment may be set.
Structure is <a href="#nested_app_engine">documented below</a>.</p></li>
<li><p><code>cloud_function</code> -
(Optional)
This field is only used for SERVERLESS NEGs.
Only one of cloud_run, app_engine, cloud_function or serverless_deployment may be set.
Structure is <a href="#nested_cloud_function">documented below</a>.</p></li>
<li><p><code>serverless_deployment</code> -
(Optional, <a href="https://terraform.io/docs/providers/google/guides/provider_versions.html">Beta</a>)
This field is only used for SERVERLESS NEGs.
Only one of cloudRun, appEngine, cloudFunction or serverlessDeployment may be set.
Structure is <a href="#nested_serverless_deployment">documented below</a>.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<p><a name="nested_psc_data"></a>The <code>psc_data</code> block supports:</p>

<ul>
<li><code>producer_port</code> -
(Optional)
The PSC producer port to use when consumer PSC NEG connects to a producer. If
this flag isn't specified for a PSC NEG with endpoint type
private-service-connect, then PSC NEG will be connected to a first port in the
available PSC producer port range.</li>
</ul>

<p><a name="nested_cloud_run"></a>The <code>cloud_run</code> block supports:</p>

<ul>
<li><p><code>service</code> -
(Optional)
Cloud Run service is the main resource of Cloud Run.
The service must be 1-63 characters long, and comply with RFC1035.
Example value: "run-service".</p></li>
<li><p><code>tag</code> -
(Optional)
Cloud Run tag represents the "named-revision" to provide
additional fine-grained traffic routing information.
The tag must be 1-63 characters long, and comply with RFC1035.
Example value: "revision-0010".</p></li>
<li><p><code>url_mask</code> -
(Optional)
A template to parse service and tag fields from a request URL.
URL mask allows for routing to multiple Run services without having
to create multiple network endpoint groups and backend services.
For example, request URLs "foo1.domain.com/bar1" and "foo1.domain.com/bar2"
an be backed by the same Serverless Network Endpoint Group (NEG) with
URL mask ".domain.com/". The URL mask will parse them to { service="bar1", tag="foo1" }
and { service="bar2", tag="foo2" } respectively.</p></li>
</ul>

<p><a name="nested_app_engine"></a>The <code>app_engine</code> block supports:</p>

<ul>
<li><p><code>service</code> -
(Optional)
Optional serving service.
The service name must be 1-63 characters long, and comply with RFC1035.
Example value: "default", "my-service".</p></li>
<li><p><code>version</code> -
(Optional)
Optional serving version.
The version must be 1-63 characters long, and comply with RFC1035.
Example value: "v1", "v2".</p></li>
<li><p><code>url_mask</code> -
(Optional)
A template to parse service and version fields from a request URL.
URL mask allows for routing to multiple App Engine services without
having to create multiple Network Endpoint Groups and backend services.
For example, the request URLs "foo1-dot-appname.appspot.com/v1" and
"foo1-dot-appname.appspot.com/v2" can be backed by the same Serverless NEG with
URL mask "-dot-appname.appspot.com/". The URL mask will parse
them to { service = "foo1", version = "v1" } and { service = "foo1", version = "v2" } respectively.</p></li>
</ul>

<p><a name="nested_cloud_function"></a>The <code>cloud_function</code> block supports:</p>

<ul>
<li><p><code>function</code> -
(Optional)
A user-defined name of the Cloud Function.
The function name is case-sensitive and must be 1-63 characters long.
Example value: "func1".</p></li>
<li><p><code>url_mask</code> -
(Optional)
A template to parse function field from a request URL. URL mask allows
for routing to multiple Cloud Functions without having to create
multiple Network Endpoint Groups and backend services.
For example, request URLs "mydomain.com/function1" and "mydomain.com/function2"
can be backed by the same Serverless NEG with URL mask "/". The URL mask
will parse them to { function = "function1" } and { function = "function2" } respectively.</p></li>
</ul>

<p><a name="nested_serverless_deployment"></a>The <code>serverless_deployment</code> block supports:</p>

<ul>
<li><p><code>platform</code> -
(Required)
The platform of the NEG backend target(s). Possible values:
API Gateway: apigateway.googleapis.com</p></li>
<li><p><code>resource</code> -
(Optional)
The user-defined name of the workload/instance. This value must be provided explicitly or in the urlMask.
The resource identified by this value is platform-specific and is as follows: API Gateway: The gateway ID, App Engine: The service name,
Cloud Functions: The function name, Cloud Run: The service name</p></li>
<li><p><code>version</code> -
(Optional)
The optional resource version. The version identified by this value is platform-specific and is follows:
API Gateway: Unused, App Engine: The service version, Cloud Functions: Unused, Cloud Run: The service tag</p></li>
<li><p><code>url_mask</code> -
(Optional)
A template to parse platform-specific fields from a request URL. URL mask allows for routing to multiple resources
on the same serverless platform without having to create multiple Network Endpoint Groups and backend resources.
The fields parsed by this template are platform-specific and are as follows: API Gateway: The gateway ID,
App Engine: The service and version, Cloud Functions: The function name, Cloud Run: The service and tag</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/regions/{{region}}/networkEndpointGroups/{{name}}</code></li>
<li><code>self_link</code> - The URI of the created resource.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>RegionNetworkEndpointGroup can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/regions/{{region}}/networkEndpointGroups/{{name}}</code></li>
<li><code>{{project}}/{{region}}/{{name}}</code></li>
<li><code>{{region}}/{{name}}</code></li>
<li><code>{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import RegionNetworkEndpointGroup using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/regions/{{region}}/networkEndpointGroups/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_region_network_endpoint_group.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, RegionNetworkEndpointGroup can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_compute_region_network_endpoint_group.default projects/{{project}}/regions/{{region}}/networkEndpointGroups/{{name}}
$ terraform import google_compute_region_network_endpoint_group.default {{project}}/{{region}}/{{name}}
$ terraform import google_compute_region_network_endpoint_group.default {{region}}/{{name}}
$ terraform import google_compute_region_network_endpoint_group.default {{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>