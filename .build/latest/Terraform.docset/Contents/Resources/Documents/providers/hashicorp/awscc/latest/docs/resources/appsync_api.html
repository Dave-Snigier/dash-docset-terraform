<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/appsync_api --><head>
                <title>awscc_appsync_api</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_appsync_api-resource">awscc_appsync_api (Resource)</h1>

<p>Resource schema for AppSync Api</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AppSync%20API%20with%20CloudWatch%20Logging"></a><h3 id="appsync-api-with-cloudwatch-logging">AppSync API with CloudWatch Logging</h3>

<p>Creates an AppSync API with API key authentication and CloudWatch logging configuration, supported by an IAM role that enables logging capabilities.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get current AWS region</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Get current AWS account ID</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># IAM role for CloudWatch logging</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_iam_role"</span><span class="w"> </span><span class="nv">"appsync_logs"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync-logs-role"</span><span class="w"></span>
<span class="w">  </span><span class="na">assume_role_policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"sts:AssumeRole"</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">Service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync.amazonaws.com"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>

<span class="w">  </span><span class="na">policies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">policy_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync-cloudwatch-logs"</span><span class="w"></span>
<span class="w">      </span><span class="na">policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">        </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">            </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">              </span><span class="s2">"logs:CreateLogGroup"</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="s2">"logs:CreateLogStream"</span><span class="p">,</span><span class="w"></span>
<span class="w">              </span><span class="s2">"logs:PutLogEvents"</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">            </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">              </span><span class="s2">"arn:aws:logs:${data.aws_region.current.name}:${data.aws_caller_identity.current.account_id}:log-group:/aws/appsync/*:*"</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># AppSync API</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_appsync_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-event-api"</span><span class="w"></span>

<span class="w">  </span><span class="nb">event_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">log_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">cloudwatch_logs_role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_iam_role.appsync_logs.arn</span><span class="w"></span>
<span class="w">      </span><span class="na">log_level</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"INFO"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">auth_providers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">auth_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">connection_auth_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">auth_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">default_publish_auth_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">auth_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">default_subscribe_auth_modes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">auth_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Output the AppSync API ID and ARN</span>
<span class="kr">output</span><span class="w"> </span><span class="nv">"api_id"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_appsync_api.example.api_id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">output</span><span class="w"> </span><span class="nv">"api_arn"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_appsync_api.example.api_arn</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>name</code> (String) The name of the AppSync API.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>event_config</code> (Attributes) The configuration for an Event Api (see <a href="#nestedatt--event_config">below for nested schema</a>)</li>
<li><code>owner_contact</code> (String) The owner contact information for an API resource.</li>
<li><code>tags</code> (Attributes Set) An arbitrary set of tags (key-value pairs) for this AppSync API. (see <a href="#nestedatt--tags">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>api_arn</code> (String) The Amazon Resource Name (ARN) of the AppSync Api</li>
<li><code>api_id</code> (String) The unique identifier for the AppSync Api generated by the service</li>
<li><code>dns</code> (Attributes) A map of DNS names for the AppSync API. (see <a href="#nestedatt--dns">below for nested schema</a>)</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
</ul>

<p><a id="nestedatt--event_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config"></a><h3 id="nested-schema-for-event_config">Nested Schema for <code>event_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_providers</code> (Attributes List) A list of auth providers for the AppSync API. (see <a href="#nestedatt--event_config--auth_providers">below for nested schema</a>)</li>
<li><code>connection_auth_modes</code> (Attributes List) A list of auth modes for the AppSync API. (see <a href="#nestedatt--event_config--connection_auth_modes">below for nested schema</a>)</li>
<li><code>default_publish_auth_modes</code> (Attributes List) A list of auth modes for the AppSync API. (see <a href="#nestedatt--event_config--default_publish_auth_modes">below for nested schema</a>)</li>
<li><code>default_subscribe_auth_modes</code> (Attributes List) A list of auth modes for the AppSync API. (see <a href="#nestedatt--event_config--default_subscribe_auth_modes">below for nested schema</a>)</li>
<li><code>log_config</code> (Attributes) The log config for the AppSync API. (see <a href="#nestedatt--event_config--log_config">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--event_config--auth_providers"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.auth_providers"></a><h3 id="nested-schema-for-event_configauth_providers">Nested Schema for <code>event_config.auth_providers</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_type</code> (String) Security configuration for your AppSync API.</li>
<li><code>cognito_config</code> (Attributes) Optional authorization configuration for using Amazon Cognito user pools with your API endpoint. (see <a href="#nestedatt--event_config--auth_providers--cognito_config">below for nested schema</a>)</li>
<li><code>lambda_authorizer_config</code> (Attributes) A LambdaAuthorizerConfig holds configuration on how to authorize AWS AppSync API access when using the AWS_LAMBDA authorizer mode. Be aware that an AWS AppSync API may have only one Lambda authorizer configured at a time. (see <a href="#nestedatt--event_config--auth_providers--lambda_authorizer_config">below for nested schema</a>)</li>
<li><code>open_id_connect_config</code> (Attributes) The OpenID Connect configuration. (see <a href="#nestedatt--event_config--auth_providers--open_id_connect_config">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--event_config--auth_providers--cognito_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.auth_providers.cognito_config"></a><h3 id="nested-schema-for-event_configauth_providerscognito_config">Nested Schema for <code>event_config.auth_providers.cognito_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>app_id_client_regex</code> (String)</li>
<li><code>aws_region</code> (String)</li>
<li><code>user_pool_id</code> (String)</li>
</ul>

<p><a id="nestedatt--event_config--auth_providers--lambda_authorizer_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.auth_providers.lambda_authorizer_config"></a><h3 id="nested-schema-for-event_configauth_providerslambda_authorizer_config">Nested Schema for <code>event_config.auth_providers.lambda_authorizer_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>authorizer_result_ttl_in_seconds</code> (Number)</li>
<li><code>authorizer_uri</code> (String)</li>
<li><code>identity_validation_expression</code> (String)</li>
</ul>

<p><a id="nestedatt--event_config--auth_providers--open_id_connect_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.auth_providers.open_id_connect_config"></a><h3 id="nested-schema-for-event_configauth_providersopen_id_connect_config">Nested Schema for <code>event_config.auth_providers.open_id_connect_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_ttl</code> (Number)</li>
<li><code>client_id</code> (String)</li>
<li><code>iat_ttl</code> (Number)</li>
<li><code>issuer</code> (String)</li>
</ul>

<p><a id="nestedatt--event_config--connection_auth_modes"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.connection_auth_modes"></a><h3 id="nested-schema-for-event_configconnection_auth_modes">Nested Schema for <code>event_config.connection_auth_modes</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_type</code> (String) Security configuration for your AppSync API.</li>
</ul>

<p><a id="nestedatt--event_config--default_publish_auth_modes"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.default_publish_auth_modes"></a><h3 id="nested-schema-for-event_configdefault_publish_auth_modes">Nested Schema for <code>event_config.default_publish_auth_modes</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_type</code> (String) Security configuration for your AppSync API.</li>
</ul>

<p><a id="nestedatt--event_config--default_subscribe_auth_modes"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.default_subscribe_auth_modes"></a><h3 id="nested-schema-for-event_configdefault_subscribe_auth_modes">Nested Schema for <code>event_config.default_subscribe_auth_modes</code></h3>

<p>Optional:</p>

<ul>
<li><code>auth_type</code> (String) Security configuration for your AppSync API.</li>
</ul>

<p><a id="nestedatt--event_config--log_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20event_config.log_config"></a><h3 id="nested-schema-for-event_configlog_config">Nested Schema for <code>event_config.log_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>cloudwatch_logs_role_arn</code> (String)</li>
<li><code>log_level</code> (String) Logging level for the AppSync API.</li>
</ul>

<p><a id="nestedatt--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20tags"></a><h3 id="nested-schema-for-tags">Nested Schema for <code>tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String) A string used to identify this tag. You can specify a maximum of 128 characters for a tag key.</li>
<li><code>value</code> (String) A string containing the value for this tag. You can specify a maximum of 256 characters for a tag value.</li>
</ul>

<p><a id="nestedatt--dns"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20dns"></a><h3 id="nested-schema-for-dns">Nested Schema for <code>dns</code></h3>

<p>Read-Only:</p>

<ul>
<li><code>http</code> (String)</li>
<li><code>realtime</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_appsync_api.example <span class="s2">"api_arn"</span>
</code></pre></div>

            
        
    </body></html>