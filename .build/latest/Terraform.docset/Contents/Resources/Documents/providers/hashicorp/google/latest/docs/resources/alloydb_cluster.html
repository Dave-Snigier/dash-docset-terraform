<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/alloydb_cluster --><head>
                <title>google_alloydb_cluster</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_alloydb_cluster">google_alloydb_cluster</h1>

<p>A managed alloydb cluster.</p>

<p>To get more information about Cluster, see:</p>

<ul>
<li><a href="https://cloud.google.com/alloydb/docs/reference/rest/v1/projects.locations.clusters/create">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/alloydb/docs/">AlloyDB</a></li>
</ul></li>
</ul>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>Users can promote a secondary cluster to a primary cluster with the help of <code>cluster_type</code>. To promote, users have to set the <code>cluster_type</code> property as <code>PRIMARY</code> and remove the <code>secondary_config</code> field from cluster configuration. <a href="https://github.com/hashicorp/terraform-provider-google/pull/16413">See Example</a>.</p>
</aside>

<p>Switchover is supported in terraform by refreshing the state of the terraform configurations.
The switchover operation still needs to be called outside of terraform.
After the switchover operation is completed successfully:</p>

<ol>
<li>Refresh the state of the AlloyDB resources by running <code>terraform apply -refresh-only --auto-approve</code> .</li>
<li>Manually update the terraform configuration file(s) to match the actual state of the resources by modifying the <code>cluster_type</code> and <code>secondary_config</code> fields.</li>
<li>Verify the sync of terraform state by running <code>terraform plan</code> and ensure that the infrastructure matches the configuration and no changes are required.</li>
</ol>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Warning</em>
    <p>All arguments including the following potentially sensitive values will be stored in the raw state as plain text: <code>initial_user.password</code>. <a href="https://www.terraform.io/language/state/sensitive-data">Read more about sensitive data in state</a>.</p>
</aside>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=alloydb_cluster_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Alloydb%20Cluster%20Basic"></a><h2 id="example-usage-alloydb-cluster-basic">Example Usage - Alloydb Cluster Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=alloydb_cluster_full&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Alloydb%20Cluster%20Full"></a><h2 id="example-usage-alloydb-cluster-full">Example Usage - Alloydb Cluster Full</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"full"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">database_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"POSTGRES_15"</span><span class="w"></span>

<span class="w">  </span><span class="nb">initial_user</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">user</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="w">    </span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">continuous_backup_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">recovery_window_days</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">14</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">automated_backup_policy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">    </span><span class="na">backup_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1800s"</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">    </span><span class="nb">weekly_schedule</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">days_of_week</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"MONDAY"</span><span class="p">]</span><span class="w"></span>

<span class="w">      </span><span class="nb">start_times</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">hours</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">23</span><span class="w"></span>
<span class="w">        </span><span class="na">minutes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"></span>
<span class="w">        </span><span class="na">seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"></span>
<span class="w">        </span><span class="na">nanos</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">quantity_based_retention</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-cluster-full"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Alloydb%20Cluster%20Restore"></a><h2 id="example-usage-alloydb-cluster-restore">Example Usage - Alloydb Cluster Restore</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-source-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_compute_network.default.id</span><span class="w"></span>

<span class="w">  </span><span class="nb">initial_user</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-source-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_instance"</span><span class="w"> </span><span class="nv">"source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.source.name</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PRIMARY"</span><span class="w"></span>

<span class="w">  </span><span class="nb">machine_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cpu_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_service_networking_connection.vpc_connection</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_backup"</span><span class="w"> </span><span class="nv">"source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backup_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-backup"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.source.name</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_alloydb_instance.source</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"restored_from_backup"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-backup-restored"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">restore_backup_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">backup_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_backup.source.name</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"restored_via_pitr"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-pitr-restored"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">restore_continuous_backup_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.source.name</span><span class="w"></span>
<span class="w">    </span><span class="na">point_in_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2023-08-03T19:19:00.094Z"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_global_address"</span><span class="w"> </span><span class="nv">"private_ip_alloc"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w">  </span><span class="s2">"alloydb-source-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">address_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="w"></span>
<span class="w">  </span><span class="na">purpose</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC_PEERING"</span><span class="w"></span>
<span class="w">  </span><span class="na">prefix_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_compute_network.default.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_networking_connection"</span><span class="w"> </span><span class="nv">"vpc_connection"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"servicenetworking.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">reserved_peering_ranges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_compute_global_address.private_ip_alloc.name</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Alloydb%20Secondary%20Cluster%20Basic"></a><h2 id="example-usage-alloydb-secondary-cluster-basic">Example Usage - Alloydb Secondary Cluster Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"primary"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-primary-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_instance"</span><span class="w"> </span><span class="nv">"primary"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.primary.name</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-primary-instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PRIMARY"</span><span class="w"></span>

<span class="w">  </span><span class="nb">machine_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cpu_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_service_networking_connection.vpc_connection</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_alloydb_cluster"</span><span class="w"> </span><span class="nv">"secondary"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-secondary-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-east1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">network_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SECONDARY"</span><span class="w"></span>

<span class="w">  </span><span class="nb">continuous_backup_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">secondary_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">primary_cluster_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.primary.name</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_alloydb_instance.primary</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"alloydb-secondary-cluster"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_global_address"</span><span class="w"> </span><span class="nv">"private_ip_alloc"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w">  </span><span class="s2">"alloydb-secondary-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">address_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERNAL"</span><span class="w"></span>
<span class="w">  </span><span class="na">purpose</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC_PEERING"</span><span class="w"></span>
<span class="w">  </span><span class="na">prefix_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_networking_connection"</span><span class="w"> </span><span class="nv">"vpc_connection"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"servicenetworking.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">reserved_peering_ranges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_compute_global_address.private_ip_alloc.name</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>cluster_id</code> -
(Required)
The ID of the alloydb cluster.</p></li>
<li><p><code>location</code> -
(Required)
The location where the alloydb cluster should reside.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>labels</code> -
(Optional)
User-defined labels for the alloydb cluster.
<strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>encryption_config</code> -
(Optional)
EncryptionConfig describes the encryption config of a cluster or a backup that is encrypted with a CMEK (customer-managed encryption key).
Structure is <a href="#nested_encryption_config">documented below</a>.</p></li>
<li><p><code>network_config</code> -
(Optional)
Metadata related to network configuration.
Structure is <a href="#nested_network_config">documented below</a>.</p></li>
<li><p><code>display_name</code> -
(Optional)
User-settable and human-readable display name for the Cluster.</p></li>
<li><p><code>etag</code> -
(Optional)
For Resource freshness validation (https://google.aip.dev/154)</p></li>
<li><p><code>annotations</code> -
(Optional)
Annotations to allow client tools to store small amount of arbitrary data. This is distinct from labels. https://google.aip.dev/128
An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.</p>

<p><strong>Note</strong>: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field <code>effective_annotations</code> for all of the annotations present on the resource.</p></li>
<li><p><code>database_version</code> -
(Optional)
The database engine major version. This is an optional field and it's populated at the Cluster creation time.
Note: Changing this field to a higer version results in upgrading the AlloyDB cluster which is an irreversible change.</p></li>
<li><p><code>psc_config</code> -
(Optional)
Configuration for Private Service Connect (PSC) for the cluster.
Structure is <a href="#nested_psc_config">documented below</a>.</p></li>
<li><p><code>initial_user</code> -
(Optional)
Initial user to setup during cluster creation.
Structure is <a href="#nested_initial_user">documented below</a>.</p></li>
<li><p><code>restore_backup_source</code> -
(Optional)
The source when restoring from a backup. Conflicts with 'restore_continuous_backup_source', both can't be set together.
Structure is <a href="#nested_restore_backup_source">documented below</a>.</p></li>
<li><p><code>restore_continuous_backup_source</code> -
(Optional)
The source when restoring via point in time recovery (PITR). Conflicts with 'restore_backup_source', both can't be set together.
Structure is <a href="#nested_restore_continuous_backup_source">documented below</a>.</p></li>
<li><p><code>continuous_backup_config</code> -
(Optional)
The continuous backup config for this cluster.
If no policy is provided then the default policy will be used. The default policy takes one backup a day and retains backups for 14 days.
Structure is <a href="#nested_continuous_backup_config">documented below</a>.</p></li>
<li><p><code>automated_backup_policy</code> -
(Optional)
The automated backup policy for this cluster. AutomatedBackupPolicy is disabled by default.
Structure is <a href="#nested_automated_backup_policy">documented below</a>.</p></li>
<li><p><code>cluster_type</code> -
(Optional)
The type of cluster. If not set, defaults to PRIMARY.
Default value is <code>PRIMARY</code>.
Possible values are: <code>PRIMARY</code>, <code>SECONDARY</code>.</p></li>
<li><p><code>secondary_config</code> -
(Optional)
Configuration of the secondary cluster for Cross Region Replication. This should be set if and only if the cluster is of type SECONDARY.
Structure is <a href="#nested_secondary_config">documented below</a>.</p></li>
<li><p><code>maintenance_update_policy</code> -
(Optional)
MaintenanceUpdatePolicy defines the policy for system updates.
Structure is <a href="#nested_maintenance_update_policy">documented below</a>.</p></li>
<li><p><code>subscription_type</code> -
(Optional)
The subscrition type of cluster.
Possible values are: <code>TRIAL</code>, <code>STANDARD</code>.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
<li><p><code>deletion_policy</code> - (Optional) Policy to determine if the cluster should be deleted forcefully.
Deleting a cluster forcefully, deletes the cluster and all its associated instances within the cluster.
Deleting a Secondary cluster with a secondary instance REQUIRES setting deletion_policy = "FORCE" otherwise an error is returned. This is needed as there is no support to delete just the secondary instance, and the only way to delete secondary instance is to delete the associated secondary cluster forcefully which also deletes the secondary instance.
Possible values: DEFAULT, FORCE</p></li>
<li><p><code>skip_await_major_version_upgrade</code> - (Optional) Set to true to skip awaiting on the major version upgrade of the cluster.
Possible values: true, false
Default value: "true"</p></li>
</ul>

<p><a name="nested_encryption_config"></a>The <code>encryption_config</code> block supports:</p>

<ul>
<li><code>kms_key_name</code> -
(Optional)
The fully-qualified resource name of the KMS key. Each Cloud KMS key is regionalized and has the following format: projects/[PROJECT]/locations/[REGION]/keyRings/[RING]/cryptoKeys/[KEY_NAME].</li>
</ul>

<p><a name="nested_network_config"></a>The <code>network_config</code> block supports:</p>

<ul>
<li><p><code>network</code> -
(Optional)
The resource link for the VPC network in which cluster resources are created and from which they are accessible via Private IP. The network must belong to the same project as the cluster.
It is specified in the form: "projects/{projectNumber}/global/networks/{network_id}".</p></li>
<li><p><code>allocated_ip_range</code> -
(Optional)
The name of the allocated IP range for the private IP AlloyDB cluster. For example: "google-managed-services-default".
If set, the instance IPs for this cluster will be created in the allocated range.</p></li>
</ul>

<p><a name="nested_psc_config"></a>The <code>psc_config</code> block supports:</p>

<ul>
<li><code>psc_enabled</code> -
(Optional)
Create an instance that allows connections from Private Service Connect endpoints to the instance.</li>
</ul>

<p><a name="nested_initial_user"></a>The <code>initial_user</code> block supports:</p>

<ul>
<li><p><code>user</code> -
(Optional)
The database username.</p></li>
<li><p><code>password</code> -
(Required)
The initial password for the user.
<strong>Note</strong>: This property is sensitive and will not be displayed in the plan.</p></li>
</ul>

<p><a name="nested_restore_backup_source"></a>The <code>restore_backup_source</code> block supports:</p>

<ul>
<li><code>backup_name</code> -
(Required)
The name of the backup that this cluster is restored from.</li>
</ul>

<p><a name="nested_restore_continuous_backup_source"></a>The <code>restore_continuous_backup_source</code> block supports:</p>

<ul>
<li><p><code>cluster</code> -
(Required)
The name of the source cluster that this cluster is restored from.</p></li>
<li><p><code>point_in_time</code> -
(Required)
The point in time that this cluster is restored to, in RFC 3339 format.</p></li>
</ul>

<p><a name="nested_continuous_backup_config"></a>The <code>continuous_backup_config</code> block supports:</p>

<ul>
<li><p><code>enabled</code> -
(Optional)
Whether continuous backup recovery is enabled. If not set, defaults to true.</p></li>
<li><p><code>recovery_window_days</code> -
(Optional)
The numbers of days that are eligible to restore from using PITR. To support the entire recovery window, backups and logs are retained for one day more than the recovery window.
If not set, defaults to 14 days.</p></li>
<li><p><code>encryption_config</code> -
(Optional)
EncryptionConfig describes the encryption config of a cluster or a backup that is encrypted with a CMEK (customer-managed encryption key).
Structure is <a href="#nested_continuous_backup_config_encryption_config">documented below</a>.</p></li>
</ul>

<p><a name="nested_continuous_backup_config_encryption_config"></a>The <code>encryption_config</code> block supports:</p>

<ul>
<li><code>kms_key_name</code> -
(Optional)
The fully-qualified resource name of the KMS key. Each Cloud KMS key is regionalized and has the following format: projects/[PROJECT]/locations/[REGION]/keyRings/[RING]/cryptoKeys/[KEY_NAME].</li>
</ul>

<p><a name="nested_automated_backup_policy"></a>The <code>automated_backup_policy</code> block supports:</p>

<ul>
<li><p><code>backup_window</code> -
(Optional)
The length of the time window during which a backup can be taken. If a backup does not succeed within this time window, it will be canceled and considered failed.
The backup window must be at least 5 minutes long. There is no upper bound on the window. If not set, it will default to 1 hour.
A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".</p></li>
<li><p><code>location</code> -
(Optional)
The location where the backup will be stored. Currently, the only supported option is to store the backup in the same region as the cluster.</p></li>
<li><p><code>labels</code> -
(Optional)
Labels to apply to backups created using this configuration.</p></li>
<li><p><code>encryption_config</code> -
(Optional)
EncryptionConfig describes the encryption config of a cluster or a backup that is encrypted with a CMEK (customer-managed encryption key).
Structure is <a href="#nested_automated_backup_policy_encryption_config">documented below</a>.</p></li>
<li><p><code>weekly_schedule</code> -
(Optional)
Weekly schedule for the Backup.
Structure is <a href="#nested_automated_backup_policy_weekly_schedule">documented below</a>.</p></li>
<li><p><code>time_based_retention</code> -
(Optional)
Time-based Backup retention policy. Conflicts with 'quantity_based_retention', both can't be set together.
Structure is <a href="#nested_automated_backup_policy_time_based_retention">documented below</a>.</p></li>
<li><p><code>quantity_based_retention</code> -
(Optional)
Quantity-based Backup retention policy to retain recent backups. Conflicts with 'time_based_retention', both can't be set together.
Structure is <a href="#nested_automated_backup_policy_quantity_based_retention">documented below</a>.</p></li>
<li><p><code>enabled</code> -
(Optional)
Whether automated backups are enabled.</p></li>
</ul>

<p><a name="nested_automated_backup_policy_encryption_config"></a>The <code>encryption_config</code> block supports:</p>

<ul>
<li><code>kms_key_name</code> -
(Optional)
The fully-qualified resource name of the KMS key. Each Cloud KMS key is regionalized and has the following format: projects/[PROJECT]/locations/[REGION]/keyRings/[RING]/cryptoKeys/[KEY_NAME].</li>
</ul>

<p><a name="nested_automated_backup_policy_weekly_schedule"></a>The <code>weekly_schedule</code> block supports:</p>

<ul>
<li><p><code>days_of_week</code> -
(Optional)
The days of the week to perform a backup. At least one day of the week must be provided.
Each value may be one of: <code>MONDAY</code>, <code>TUESDAY</code>, <code>WEDNESDAY</code>, <code>THURSDAY</code>, <code>FRIDAY</code>, <code>SATURDAY</code>, <code>SUNDAY</code>.</p></li>
<li><p><code>start_times</code> -
(Required)
The times during the day to start a backup. At least one start time must be provided. The start times are assumed to be in UTC and to be an exact hour (e.g., 04:00:00).
Structure is <a href="#nested_automated_backup_policy_weekly_schedule_start_times">documented below</a>.</p></li>
</ul>

<p><a name="nested_automated_backup_policy_weekly_schedule_start_times"></a>The <code>start_times</code> block supports:</p>

<ul>
<li><p><code>hours</code> -
(Optional)
Hours of day in 24 hour format. Should be from 0 to 23. An API may choose to allow the value "24:00:00" for scenarios like business closing time.</p></li>
<li><p><code>minutes</code> -
(Optional)
Minutes of hour of day. Currently, only the value 0 is supported.</p></li>
<li><p><code>seconds</code> -
(Optional)
Seconds of minutes of the time. Currently, only the value 0 is supported.</p></li>
<li><p><code>nanos</code> -
(Optional)
Fractions of seconds in nanoseconds. Currently, only the value 0 is supported.</p></li>
</ul>

<p><a name="nested_automated_backup_policy_time_based_retention"></a>The <code>time_based_retention</code> block supports:</p>

<ul>
<li><code>retention_period</code> -
(Optional)
The retention period.
A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".</li>
</ul>

<p><a name="nested_automated_backup_policy_quantity_based_retention"></a>The <code>quantity_based_retention</code> block supports:</p>

<ul>
<li><code>count</code> -
(Optional)
The number of backups to retain.</li>
</ul>

<p><a name="nested_secondary_config"></a>The <code>secondary_config</code> block supports:</p>

<ul>
<li><code>primary_cluster_name</code> -
(Required)
Name of the primary cluster must be in the format
'projects/{project}/locations/{location}/clusters/{cluster_id}'</li>
</ul>

<p><a name="nested_maintenance_update_policy"></a>The <code>maintenance_update_policy</code> block supports:</p>

<ul>
<li><code>maintenance_windows</code> -
(Optional)
Preferred windows to perform maintenance. Currently limited to 1.
Structure is <a href="#nested_maintenance_update_policy_maintenance_windows">documented below</a>.</li>
</ul>

<p><a name="nested_maintenance_update_policy_maintenance_windows"></a>The <code>maintenance_windows</code> block supports:</p>

<ul>
<li><p><code>day</code> -
(Required)
Preferred day of the week for maintenance, e.g. MONDAY, TUESDAY, etc.
Possible values are: <code>MONDAY</code>, <code>TUESDAY</code>, <code>WEDNESDAY</code>, <code>THURSDAY</code>, <code>FRIDAY</code>, <code>SATURDAY</code>, <code>SUNDAY</code>.</p></li>
<li><p><code>start_time</code> -
(Required)
Preferred time to start the maintenance operation on the specified day. Maintenance will start within 1 hour of this time.
Structure is <a href="#nested_maintenance_update_policy_maintenance_windows_maintenance_windows_start_time">documented below</a>.</p></li>
</ul>

<p><a name="nested_maintenance_update_policy_maintenance_windows_maintenance_windows_start_time"></a>The <code>start_time</code> block supports:</p>

<ul>
<li><p><code>hours</code> -
(Required)
Hours of day in 24 hour format. Should be from 0 to 23.</p></li>
<li><p><code>minutes</code> -
(Optional)
Minutes of hour of day. Currently, only the value 0 is supported.</p></li>
<li><p><code>seconds</code> -
(Optional)
Seconds of minutes of the time. Currently, only the value 0 is supported.</p></li>
<li><p><code>nanos</code> -
(Optional)
Fractions of seconds in nanoseconds. Currently, only the value 0 is supported.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}</code></p></li>
<li><p><code>name</code> -
The name of the cluster resource.</p></li>
<li><p><code>uid</code> -
The system-generated UID of the resource.</p></li>
<li><p><code>encryption_info</code> -
EncryptionInfo describes the encryption information of a cluster or a backup.
Structure is <a href="#nested_encryption_info">documented below</a>.</p></li>
<li><p><code>continuous_backup_info</code> -
ContinuousBackupInfo describes the continuous backup properties of a cluster.
Structure is <a href="#nested_continuous_backup_info">documented below</a>.</p></li>
<li><p><code>reconciling</code> -
Output only. Reconciling (https://google.aip.dev/128#reconciliation).
Set to true if the current state of Cluster does not match the user's intended state, and the service is actively updating the resource to reconcile them.
This can happen due to user-triggered updates or system actions like failover or maintenance.</p></li>
<li><p><code>state</code> -
Output only. The current serving state of the cluster.</p></li>
<li><p><code>backup_source</code> -
Cluster created from backup.
Structure is <a href="#nested_backup_source">documented below</a>.</p></li>
<li><p><code>migration_source</code> -
Cluster created via DMS migration.
Structure is <a href="#nested_migration_source">documented below</a>.</p></li>
<li><p><code>trial_metadata</code> -
Contains information and all metadata related to TRIAL clusters.
Structure is <a href="#nested_trial_metadata">documented below</a>.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
<li><p><code>effective_annotations</code> -
All of annotations (key/value pairs) present on the resource in GCP, including the annotations configured through Terraform, other clients and services.</p></li>
</ul>

<p><a name="nested_encryption_info"></a>The <code>encryption_info</code> block contains:</p>

<ul>
<li><p><code>encryption_type</code> -
(Output)
Output only. Type of encryption.</p></li>
<li><p><code>kms_key_versions</code> -
(Output)
Output only. Cloud KMS key versions that are being used to protect the database or the backup.</p></li>
</ul>

<p><a name="nested_continuous_backup_info"></a>The <code>continuous_backup_info</code> block contains:</p>

<ul>
<li><p><code>enabled_time</code> -
(Output)
When ContinuousBackup was most recently enabled. Set to null if ContinuousBackup is not enabled.</p></li>
<li><p><code>schedule</code> -
(Output)
Days of the week on which a continuous backup is taken. Output only field. Ignored if passed into the request.</p></li>
<li><p><code>earliest_restorable_time</code> -
(Output)
The earliest restorable time that can be restored to. Output only field.</p></li>
<li><p><code>encryption_info</code> -
(Output)
Output only. The encryption information for the WALs and backups required for ContinuousBackup.
Structure is <a href="#nested_continuous_backup_info_encryption_info">documented below</a>.</p></li>
</ul>

<p><a name="nested_continuous_backup_info_encryption_info"></a>The <code>encryption_info</code> block contains:</p>

<ul>
<li><p><code>encryption_type</code> -
(Output)
Output only. Type of encryption.</p></li>
<li><p><code>kms_key_versions</code> -
(Output)
Output only. Cloud KMS key versions that are being used to protect the database or the backup.</p></li>
</ul>

<p><a name="nested_backup_source"></a>The <code>backup_source</code> block contains:</p>

<ul>
<li><code>backup_name</code> -
(Optional)
The name of the backup resource.</li>
</ul>

<p><a name="nested_migration_source"></a>The <code>migration_source</code> block contains:</p>

<ul>
<li><p><code>host_port</code> -
(Optional)
The host and port of the on-premises instance in host:port format</p></li>
<li><p><code>reference_id</code> -
(Optional)
Place holder for the external source identifier(e.g DMS job name) that created the cluster.</p></li>
<li><p><code>source_type</code> -
(Optional)
Type of migration source.</p></li>
</ul>

<p><a name="nested_trial_metadata"></a>The <code>trial_metadata</code> block contains:</p>

<ul>
<li><p><code>start_time</code> -
(Optional)
Start time of the trial cluster.</p></li>
<li><p><code>end_time</code> -
(Optional)
End time of the trial cluster.</p></li>
<li><p><code>upgrade_time</code> -
(Optional)
Upgrade time of the trial cluster to standard cluster.</p></li>
<li><p><code>grace_end_time</code> -
(Optional)
Grace end time of the trial cluster.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 120 minutes.</li>
<li><code>update</code> - Default is 120 minutes.</li>
<li><code>delete</code> - Default is 120 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Cluster can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}</code></li>
<li><code>{{project}}/{{location}}/{{cluster_id}}</code></li>
<li><code>{{location}}/{{cluster_id}}</code></li>
<li><code>{{cluster_id}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Cluster using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_alloydb_cluster.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, Cluster can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_alloydb_cluster.default projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}
$ terraform import google_alloydb_cluster.default {{project}}/{{location}}/{{cluster_id}}
$ terraform import google_alloydb_cluster.default {{location}}/{{cluster_id}}
$ terraform import google_alloydb_cluster.default {{cluster_id}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>