<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/ad_secret_backend --><head>
                <title>vault_ad_secret_backend</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_ad_secret_backend">vault_ad_secret_backend</h1>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This resource is replaced by "vault_ldap_secret_backend" and will be removed in the next major release.</p>
</aside>

<p>Creates an Active Directory Secret Backend for Vault. Active Directory secret backend
rotates existing Active Directory service account passwords based on the TTL of the role.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_ad_secret_backend"</span><span class="w"> </span><span class="nv">"config"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">backend</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"ad"</span><span class="w"></span>
<span class="w">    </span><span class="na">binddn</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"CN=Administrator,CN=Users,DC=corp,DC=example,DC=net"</span><span class="w"></span>
<span class="w">    </span><span class="na">bindpass</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"SuperSecretPassw0rd"</span><span class="w"></span>
<span class="w">    </span><span class="na">url</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"ldaps://ad"</span><span class="w"></span>
<span class="w">    </span><span class="na">insecure_tls</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">    </span><span class="na">userdn</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"CN=Users,DC=corp,DC=example,DC=net"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>backend</code> - (Optional) The unique path this backend should be mounted at. Must
not begin or end with a <code>/</code>. Defaults to <code>ad</code>.</p></li>
<li><p><code>disable_remount</code> - (Optional) If set, opts out of mount migration on path updates.
See here for more info on <a href="https://www.vaultproject.io/docs/concepts/mount-migration">Mount Migration</a></p></li>
<li><p><code>anonymous_group_search</code> - (Optional) Use anonymous binds when performing LDAP group searches
(if true the initial credentials will still be used for the initial connection test).</p></li>
<li><p><code>binddn</code> - (Required) Distinguished name of object to bind when performing user and group search.</p></li>
<li><p><code>bindpass</code> - (Required) Password to use along with binddn when performing user search.</p></li>
<li><p><code>case_sensitive_names</code> - (Optional)  If set, user and group names assigned to policies within the
backend will be case sensitive. Otherwise, names will be normalized to lower case.</p></li>
<li><p><code>certificate</code> - (Optional) CA certificate to use when verifying LDAP server certificate, must be
x509 PEM encoded.</p></li>
<li><p><code>client_tls_cert</code> - (Optional) Client certificate to provide to the LDAP server, must be x509 PEM encoded.</p></li>
<li><p><code>client_tls_key</code> - (Optional) Client certificate key to provide to the LDAP server, must be x509 PEM encoded.</p></li>
<li><p><code>default_lease_ttl_seconds</code> - (Optional) Default lease duration for secrets in seconds.</p></li>
<li><p><code>deny_null_bind</code> - (Optional) Denies an unauthenticated LDAP bind request if the user's password is empty;
defaults to true.</p></li>
<li><p><code>description</code> - (Optional) Human-friendly description of the mount for the Active Directory backend.</p></li>
<li><p><code>discoverdn</code> - (Optional) Use anonymous bind to discover the bind Distinguished Name of a user.</p></li>
<li><p><code>groupattr</code> - (Optional) LDAP attribute to follow on objects returned by <groupfilter> in order to enumerate
user group membership. Examples: <code>cn</code> or <code>memberOf</code>, etc. Defaults to <code>cn</code>.</groupfilter></p></li>
<li><p><code>groupdn</code> - (Optional) LDAP search base to use for group membership search (eg: ou=Groups,dc=example,dc=org).</p></li>
<li><p><code>groupfilter</code> - (Optional) Go template for querying group membership of user (optional) The template can access
the following context variables: UserDN, Username. Defaults to <code>(|(memberUid={{.Username}})(member={{.UserDN}})(uniqueMember={{.UserDN}}))</code></p></li>
<li><p><code>insecure_tls</code> - (Optional) Skip LDAP server SSL Certificate verification. This is not recommended for production.
Defaults to <code>false</code>.</p></li>
<li><p><code>last_rotation_tolerance</code> - (Optional) The number of seconds after a Vault rotation where, if Active Directory
shows a later rotation, it should be considered out-of-band</p></li>
<li><p><code>local</code> - (Optional) Mark the secrets engine as local-only. Local engines are not replicated or removed by
replication.Tolerance duration to use when checking the last rotation time.</p></li>
<li><p><code>max_lease_ttl_seconds</code> - (Optional) Maximum possible lease duration for secrets in seconds.</p></li>
<li><p><code>max_ttl</code> - (Optional) In seconds, the maximum password time-to-live.</p></li>
<li><p><code>password_policy</code> - (Optional) Name of the password policy to use to generate passwords.</p></li>
<li><p><code>request_timeout</code> - (Optional) Timeout, in seconds, for the connection when making requests against the server
before returning back an error.</p></li>
<li><p><code>starttls</code> - (Optional) Issue a StartTLS command after establishing unencrypted connection.</p></li>
<li><p><code>tls_max_version</code> - (Optional) Maximum TLS version to use. Accepted values are <code>tls10</code>, <code>tls11</code>,
<code>tls12</code> or <code>tls13</code>. Defaults to <code>tls12</code>.</p></li>
<li><p><code>tls_min_version</code> - (Optional)  Minimum TLS version to use. Accepted values are <code>tls10</code>, <code>tls11</code>,
<code>tls12</code> or <code>tls13</code>. Defaults to <code>tls12</code>.</p></li>
<li><p><code>ttl</code> - (Optional) In seconds, the default password time-to-live.</p></li>
<li><p><code>upndomain</code> - (Optional) Enables userPrincipalDomain login with [username]@UPNDomain.</p></li>
<li><p><code>url</code> - (Required) LDAP URL to connect to. Multiple URLs can be specified by concatenating
them with commas; they will be tried in-order. Defaults to <code>ldap://127.0.0.1</code>.</p></li>
<li><p><code>use_pre111_group_cn_behavior</code> - (Optional) In Vault 1.1.1 a fix for handling group CN values of
different cases unfortunately introduced a regression that could cause previously defined groups
to not be found due to a change in the resulting name. If set true, the pre-1.1.1 behavior for
matching group CNs will be used. This is only needed in some upgrade scenarios for backwards
compatibility. It is enabled by default if the config is upgraded but disabled by default on
new configurations.</p></li>
<li><p><code>use_token_groups</code> - (Optional) If true, use the Active Directory tokenGroups constructed attribute of the
user to find the group memberships. This will find all security groups including nested ones.</p></li>
<li><p><code>userattr</code> - (Optional) Attribute used when searching users. Defaults to <code>cn</code>.</p></li>
<li><p><code>userdn</code> - (Optional) LDAP domain to use for users (eg: ou=People,dc=example,dc=org)`.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>No additional attributes are exported by this resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>AD secret backend can be imported using the <code>backend</code>, e.g.</p>

<pre><code>$ terraform import vault_ad_secret_backend.ad ad
</code></pre>

            
        
    </body></html>