<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/dataproc_cluster --><head>
                <title>google_dataproc_cluster</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_dataproc_cluster">google_dataproc_cluster</h1>

<p>Manages a Cloud Dataproc cluster resource within GCP.</p>

<ul>
<li><a href="https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.clusters">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/dataproc/docs">Official Documentation</a></li>
</ul></li>
</ul>

<aside class="admonition danger">
    <strong>danger</strong>
    <em>Warning</em>
    <p>Due to limitations of the API, all arguments except <code>labels</code>,<code>cluster_config.worker_config.num_instances</code> and <code>cluster_config.preemptible_worker_config.num_instances</code> are non-updatable. Changing <code>cluster_config.worker_config.min_num_instances</code> will be ignored. Changing others will cause recreation of the whole cluster!</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Basic"></a><h2 id="example-usage-basic">Example Usage - Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_cluster"</span><span class="w"> </span><span class="nv">"simplecluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"simplecluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Advanced"></a><h2 id="example-usage-advanced">Example Usage - Advanced</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_account"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">account_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"service-account-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Service Account"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_cluster"</span><span class="w"> </span><span class="nv">"mycluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"mycluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">graceful_decommission_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"120s"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">staging_bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"dataproc-staging-bucket"</span><span class="w"></span>

<span class="w">    </span><span class="nb">master_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">num_instances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="na">machine_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"e2-medium"</span><span class="w"></span>
<span class="w">      </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">boot_disk_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"pd-ssd"</span><span class="w"></span>
<span class="w">        </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">worker_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">num_instances</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">machine_type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"e2-medium"</span><span class="w"></span>
<span class="w">      </span><span class="na">min_cpu_platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Intel Skylake"</span><span class="w"></span>
<span class="w">      </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">        </span><span class="na">num_local_ssds</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">preemptible_worker_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">num_instances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="c1"></span>

<span class="c1">    # Override or set some custom properties</span>
<span class="w">    </span><span class="nb">software_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">image_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2.0.35-debian10"</span><span class="w"></span>
<span class="w">      </span><span class="nb">override_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">"dataproc:dataproc.allow.zero.workers"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">gce_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"foo", "bar"</span><span class="p">]</span><span class="c1"></span>
<span class="c1">      # Google recommends custom service accounts that have cloud-platform scope and permissions granted via IAM Roles.</span>
<span class="w">      </span><span class="na">service_account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_service_account.default.email</span><span class="w"></span>
<span class="w">      </span><span class="na">service_account_scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">"cloud-platform"</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="c1"></span>

<span class="c1">    # You can define multiple initialization_action blocks</span>
<span class="w">    </span><span class="nb">initialization_action</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">script</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"gs://dataproc-initialization-actions/stackdriver/stackdriver.sh"</span><span class="w"></span>
<span class="w">      </span><span class="na">timeout_sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">500</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Using%20a%20GPU%20accelerator"></a><h2 id="example-usage-using-a-gpu-accelerator">Example Usage - Using a GPU accelerator</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dataproc_cluster"</span><span class="w"> </span><span class="nv">"accelerated_cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster-with-gpu"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>

<span class="w">  </span><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gce_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">master_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">accelerators</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">accelerator_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"nvidia-tesla-k80"</span><span class="w"></span>
<span class="w">        </span><span class="na">accelerator_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<ul>
<li><code>name</code> - (Required) The name of the cluster, unique within the project and
zone.</li>
</ul>

<hr/>

<ul>
<li><p><code>project</code> - (Optional) The ID of the project in which the <code>cluster</code> will exist. If it
is not provided, the provider project is used.</p></li>
<li><p><code>region</code> - (Optional) The region in which the cluster and associated nodes will be created in.
Defaults to <code>global</code>.</p></li>
<li><p><code>labels</code> - (Optional) The list of labels (key/value pairs) configured on the resource through Terraform and to be applied to
instances in the cluster.
<strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration. Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> - (Computed) The list of labels (key/value pairs) to be applied to
instances in the cluster. GCP generates some itself including <code>goog-dataproc-cluster-name</code>
which is the name of the cluster.</p></li>
<li><p><code>virtual_cluster_config</code> - (Optional) Allows you to configure a virtual Dataproc on GKE cluster.
Structure <a href="#nested_virtual_cluster_config">defined below</a>.</p></li>
<li><p><code>cluster_config</code> - (Optional) Allows you to configure various aspects of the cluster.
Structure <a href="#nested_cluster_config">defined below</a>.</p></li>
<li><p><code>graceful_decommission_timeout</code> - (Optional) Allows graceful decomissioning when you change the number of worker nodes directly through a terraform apply.
  Does not affect auto scaling decomissioning from an autoscaling policy.
  Graceful decommissioning allows removing nodes from the cluster without interrupting jobs in progress.
  Timeout specifies how long to wait for jobs in progress to finish before forcefully removing nodes (and potentially interrupting jobs).
  Default timeout is 0 (for forceful decommission), and the maximum allowed timeout is 1 day. (see JSON representation of
  <a href="https://developers.google.com/protocol-buffers/docs/proto3#json">Duration</a>).
  Only supported on Dataproc image versions 1.2 and higher.
  For more context see the <a href="https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.clusters/patch#query-parameters">docs</a></p></li>
</ul>

<hr/>

<p><a name="nested_virtual_cluster_config"></a>The <code>virtual_cluster_config</code> block supports:
    </p><div class="codehilite"><pre><span></span><code><span class="nb">virtual_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="nb">auxiliary_services_config</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">kubernetes_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
    </code></pre></div><p></p>

<ul>
<li><p><code>staging_bucket</code> - (Optional) The Cloud Storage staging bucket used to stage files,
such as Hadoop jars, between client machines and the cluster.
Note: If you don't explicitly specify a <code>staging_bucket</code>
then GCP will auto create / assign one for you. However, you are not guaranteed
an auto generated bucket which is solely dedicated to your cluster; it may be shared
with other clusters in the same region/zone also choosing to use the auto generation
option.</p></li>
<li><p><code>auxiliary_services_config</code> (Optional) Configuration of auxiliary services used by this cluster. 
Structure <a href="#nested_auxiliary_services_config">defined below</a>.</p></li>
<li><p><code>kubernetes_cluster_config</code> (Required) The configuration for running the Dataproc cluster on Kubernetes.
Structure <a href="#nested_kubernetes_cluster_config">defined below</a>.</p></li>
</ul>

<hr/>

<p><a name="nested_auxiliary_services_config"></a>The <code>auxiliary_services_config</code> block supports:
    </p><div class="codehilite"><pre><span></span><code><span class="nb">virtual_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">  </span><span class="nb">auxiliary_services_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="nb">metastore_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">      </span><span class="na">dataproc_metastore_service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dataproc_metastore_service.metastore_service.id</span><span class="w"></span>
    <span class="w">    </span><span class="p">}</span><span class="w"></span>
 <br/>
    <span class="w">    </span><span class="nb">spark_history_server_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">      </span><span class="na">dataproc_cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dataproc_cluster.dataproc_cluster.id</span><span class="w"></span>
    <span class="w">    </span><span class="p">}</span><span class="w"></span>
    <span class="w">  </span><span class="p">}</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
    </code></pre></div><p></p>

<ul>
<li><p><code>metastore_config</code> (Optional) The Hive Metastore configuration for this workload. </p>

<ul>
<li><code>dataproc_metastore_service</code> (Required) Resource name of an existing Dataproc Metastore service.</li>
</ul></li>
<li><p><code>spark_history_server_config</code> (Optional) The Spark History Server configuration for the workload.</p>

<ul>
<li><code>dataproc_cluster</code> (Optional) Resource name of an existing Dataproc Cluster to act as a Spark History Server for the workload.</li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_kubernetes_cluster_config"></a>The <code>kubernetes_cluster_config</code> block supports:
    </p><div class="codehilite"><pre><span></span><code><span class="nb">virtual_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">  </span><span class="nb">kubernetes_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="na">kubernetes_namespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foobar"</span><span class="w"></span>
 <br/>
    <span class="w">    </span><span class="nb">kubernetes_software_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">      </span><span class="nb">component_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">        </span><span class="s2">"SPARK"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"3.5-dataproc-17"</span><span class="w"></span>
    <span class="w">      </span><span class="p">}</span><span class="w"></span>
 <br/>
    <span class="w">      </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">        </span><span class="s2">"spark:spark.eventLog.enabled"</span><span class="o">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
    <span class="w">      </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="p">}</span><span class="w"></span>
 <br/>
    <span class="w">    </span><span class="nb">gke_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">      </span><span class="na">gke_cluster_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_container_cluster.primary.id</span><span class="w"></span>
 <br/>
    <span class="w">      </span><span class="nb">node_pool_target</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">        </span><span class="na">node_pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"dpgke"</span><span class="w"></span>
    <span class="w">        </span><span class="na">roles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"DEFAULT"</span><span class="p">]</span><span class="w"></span>
 <br/>
    <span class="w">        </span><span class="nb">node_pool_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">          </span><span class="nb">autoscaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">            </span><span class="na">min_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
    <span class="w">            </span><span class="na">max_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="w"></span>
    <span class="w">          </span><span class="p">}</span><span class="w"></span>
 <br/>
    <span class="w">          </span><span class="nb">config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">            </span><span class="na">machine_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"n1-standard-4"</span><span class="w"></span>
    <span class="w">            </span><span class="na">preemptible</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
    <span class="w">            </span><span class="na">local_ssd_count</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
    <span class="w">            </span><span class="na">min_cpu_platform</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Intel Sandy Bridge"</span><span class="w"></span>
    <span class="w">          </span><span class="p">}</span><span class="w"></span>
 <br/>
    <span class="w">          </span><span class="na">locations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"us-central1-c"</span><span class="p">]</span><span class="w"></span>
    <span class="w">        </span><span class="p">}</span><span class="w"></span>
    <span class="w">      </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="p">}</span><span class="w"></span>
    <span class="w">  </span><span class="p">}</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
    </code></pre></div><p></p>

<ul>
<li><p><code>kubernetes_namespace</code> (Optional) A namespace within the Kubernetes cluster to deploy into. 
If this namespace does not exist, it is created. 
If it  exists, Dataproc verifies that another Dataproc VirtualCluster is not installed into it. 
If not specified, the name of the Dataproc Cluster is used.</p></li>
<li><p><code>kubernetes_software_config</code> (Required) The software configuration for this Dataproc cluster running on Kubernetes.</p>

<ul>
<li><code>component_version</code> (Required) The components that should be installed in this Dataproc cluster. The key must be a string from the <br/>
KubernetesComponent enumeration. The value is the version of the software to be installed. At least one entry must be specified.</li>
<li><p><strong>NOTE</strong> : <code>component_version[SPARK]</code> is mandatory to set, or the creation of the cluster will fail.</p></li>
<li><p><code>properties</code> (Optional) The properties to set on daemon config files. Property keys are specified in prefix:property format, 
for example spark:spark.kubernetes.container.image.</p></li>
</ul></li>
<li><p><code>gke_cluster_config</code> (Required) The configuration for running the Dataproc cluster on GKE.</p>

<ul>
<li><p><code>gke_cluster_target</code> (Optional) A target GKE cluster to deploy to. It must be in the same project and region as the Dataproc cluster 
(the GKE cluster can be zonal or regional)</p></li>
<li><p><code>node_pool_target</code> (Optional) GKE node pools where workloads will be scheduled. At least one node pool must be assigned the <code>DEFAULT</code> 
GkeNodePoolTarget.Role. If a GkeNodePoolTarget is not specified, Dataproc constructs a <code>DEFAULT</code> GkeNodePoolTarget. 
Each role can be given to only one GkeNodePoolTarget. All node pools must have the same location settings.</p></li>
<li><p><code>node_pool</code> (Required) The target GKE node pool.</p></li>
<li><p><code>roles</code> (Required) The roles associated with the GKE node pool. 
One of <code>"DEFAULT"</code>, <code>"CONTROLLER"</code>, <code>"SPARK_DRIVER"</code> or <code>"SPARK_EXECUTOR"</code>.</p></li>
<li><p><code>node_pool_config</code> (Input only) The configuration for the GKE node pool. 
If specified, Dataproc attempts to create a node pool with the specified shape. 
If one with the same name already exists, it is verified against all specified fields. 
If a field differs, the virtual cluster creation will fail.</p>

<ul>
<li><p><code>autoscaling</code> (Optional) The autoscaler configuration for this node pool. 
The autoscaler is enabled only when a valid configuration is present.</p></li>
<li><p><code>min_node_count</code> (Optional) The minimum number of nodes in the node pool. Must be &gt;= 0 and &lt;= maxNodeCount.</p></li>
<li><p><code>max_node_count</code> (Optional) The maximum number of nodes in the node pool. Must be &gt;= minNodeCount, and must be &gt; 0.</p></li>
<li><p><code>config</code> (Optional) The node pool configuration.</p></li>
<li><p><code>machine_type</code> (Optional) The name of a Compute Engine machine type.</p></li>
<li><p><code>local_ssd_count</code> (Optional) The number of local SSD disks to attach to the node, 
which is limited by the maximum number of disks allowable per zone.</p></li>
<li><p><code>preemptible</code> (Optional) Whether the nodes are created as preemptible VM instances. 
Preemptible nodes cannot be used in a node pool with the CONTROLLER role or in the DEFAULT node pool if the 
CONTROLLER role is not assigned (the DEFAULT node pool will assume the CONTROLLER role).</p></li>
<li><p><code>min_cpu_platform</code> (Optional) Minimum CPU platform to be used by this instance. 
The instance may be scheduled on the specified or a newer CPU platform. 
Specify the friendly names of CPU platforms, such as "Intel Haswell" or "Intel Sandy Bridge".</p></li>
<li><p><code>spot</code> (Optional) Spot flag for enabling Spot VM, which is a rebrand of the existing preemptible flag.</p></li>
<li><p><code>locations</code> (Optional) The list of Compute Engine zones where node pool nodes associated 
with a Dataproc on GKE virtual cluster will be located.</p></li>
</ul></li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_cluster_config"></a>The <code>cluster_config</code> block supports:
    </p><div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="nb">gce_cluster_config</span><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">master_config</span><span class="w">             </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">worker_config</span><span class="w">             </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">preemptible_worker_config</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">software_config</span><span class="w">           </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="c1"></span>
 <br/>
    <span class="c1">    # You can define multiple initialization_action blocks</span>
    <span class="w">    </span><span class="nb">initialization_action</span><span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">encryption_config</span><span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">endpoint_config</span><span class="w">           </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="w">    </span><span class="nb">metastore_config</span><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
    </code></pre></div><p></p>

<ul>
<li><p><code>staging_bucket</code> - (Optional) The Cloud Storage staging bucket used to stage files,
such as Hadoop jars, between client machines and the cluster.
Note: If you don't explicitly specify a <code>staging_bucket</code>
then GCP will auto create / assign one for you. However, you are not guaranteed
an auto generated bucket which is solely dedicated to your cluster; it may be shared
with other clusters in the same region/zone also choosing to use the auto generation
option.</p></li>
<li><p><code>temp_bucket</code> - (Optional) The Cloud Storage temp bucket used to store ephemeral cluster
and jobs data, such as Spark and MapReduce history files.
Note: If you don't explicitly specify a <code>temp_bucket</code> then GCP will auto create / assign one for you.</p></li>
<li><p><code>gce_cluster_config</code> (Optional) Common config settings for resources of Google Compute Engine cluster
instances, applicable to all instances in the cluster. Structure <a href="#nested_gce_cluster_config">defined below</a>.</p></li>
<li><p><code>master_config</code> (Optional) The Google Compute Engine config settings for the master instances
in a cluster. Structure <a href="#nested_master_config">defined below</a>.</p></li>
<li><p><code>worker_config</code> (Optional) The Google Compute Engine config settings for the worker instances
in a cluster. Structure <a href="#nested_worker_config">defined below</a>.</p></li>
<li><p><code>preemptible_worker_config</code> (Optional) The Google Compute Engine config settings for the additional
instances in a cluster. Structure <a href="#nested_preemptible_worker_config">defined below</a>.</p>

<ul>
<li><strong>NOTE</strong> : <code>preemptible_worker_config</code> is
an alias for the api's <a href="https://cloud.google.com/dataproc/docs/reference/rest/v1/ClusterConfig#InstanceGroupConfig">secondaryWorkerConfig</a>. The name doesn't necessarily mean it is preemptible and is named as
such for legacy/compatibility reasons.</li>
</ul></li>
<li><p><code>software_config</code> (Optional) The config settings for software inside the cluster.
Structure <a href="#nested_software_config">defined below</a>.</p></li>
<li><p><code>security_config</code> (Optional) Security related configuration. Structure <a href="#nested_security_config">defined below</a>.</p></li>
<li><p><code>autoscaling_config</code> (Optional)  The autoscaling policy config associated with the cluster.
Note that once set, if <code>autoscaling_config</code> is the only field set in <code>cluster_config</code>, it can
only be removed by setting <code>policy_uri = ""</code>, rather than removing the whole block.
Structure <a href="#nested_autoscaling_config">defined below</a>.</p></li>
<li><p><code>initialization_action</code> (Optional) Commands to execute on each node after config is completed.
You can specify multiple versions of these. Structure <a href="#nested_initialization_action">defined below</a>.</p></li>
<li><p><code>encryption_config</code> (Optional) The Customer managed encryption keys settings for the cluster.
Structure <a href="#nested_encryption_config">defined below</a>.</p></li>
<li><p><code>lifecycle_config</code> (Optional) The settings for auto deletion cluster schedule.
Structure <a href="#nested_lifecycle_config">defined below</a>.</p></li>
<li><p><code>endpoint_config</code> (Optional) The config settings for port access on the cluster.
Structure <a href="#nested_endpoint_config">defined below</a>.</p></li>
<li><p><code>dataproc_metric_config</code> (Optional) The Compute Engine accelerator (GPU) configuration for these instances. Can be specified multiple times.
Structure <a href="#nested_dataproc_metric_config">defined below</a>.</p></li>
<li><p><code>auxiliary_node_groups</code> (Optional) A Dataproc NodeGroup resource is a group of Dataproc cluster nodes that execute an assigned role. 
Structure <a href="#nested_auxiliary_node_groups">defined below</a>.</p></li>
<li><p><code>metastore_config</code> (Optional) The config setting for metastore service with the cluster.
Structure <a href="#nested_metastore_config">defined below</a>.</p></li>
</ul>

<hr/>

<p><a name="nested_gce_cluster_config"></a>The <code>cluster_config.gce_cluster_config</code> block supports:
  </p><div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
  <span class="w">  </span><span class="nb">gce_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
  <span class="w">    </span><span class="na">zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="c1"></span>
 <br/>
  <span class="c1">    # One of the below to hook into a custom network / subnetwork</span>
  <span class="w">    </span><span class="na">network</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.dataproc_network.name</span><span class="w"></span>
  <span class="w">    </span><span class="na">subnetwork</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.dataproc_subnetwork.name</span><span class="w"></span>
 <br/>
  <span class="w">    </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"foo", "bar"</span><span class="p">]</span><span class="w"></span>
  <span class="w">  </span><span class="p">}</span><span class="w"></span>
  <span class="p">}</span><span class="w"></span>
  </code></pre></div><p></p>

<ul>
<li><p><code>zone</code> - (Optional, Computed) The GCP zone where your data is stored and used (i.e. where
the master and the worker nodes will be created in). If <code>region</code> is set to 'global' (default)
then <code>zone</code> is mandatory, otherwise GCP is able to make use of <a href="https://cloud.google.com/dataproc/docs/concepts/auto-zone">Auto Zone Placement</a>
to determine this automatically for you.
Note: This setting additionally determines and restricts
which computing resources are available for use with other configs such as
<code>cluster_config.master_config.machine_type</code> and <code>cluster_config.worker_config.machine_type</code>.</p></li>
<li><p><code>network</code> - (Optional, Computed) The name or self_link of the Google Compute Engine
network to the cluster will be part of. Conflicts with <code>subnetwork</code>.
If neither is specified, this defaults to the "default" network.</p></li>
<li><p><code>subnetwork</code> - (Optional) The name or self_link of the Google Compute Engine
subnetwork the cluster will be part of. Conflicts with <code>network</code>.</p></li>
<li><p><code>service_account</code> - (Optional) The service account to be used by the Node VMs.
If not specified, the "default" service account is used.</p></li>
<li><p><code>service_account_scopes</code> - (Optional, Computed) The set of Google API scopes
to be made available on all of the node VMs under the <code>service_account</code>
specified. Both OAuth2 URLs and gcloud
short names are supported. To allow full access to all Cloud APIs, use the
<code>cloud-platform</code> scope. See a complete list of scopes <a href="https://cloud.google.com/sdk/gcloud/reference/alpha/compute/instances/set-scopes#--scopes">here</a>.</p></li>
<li><p><code>tags</code> - (Optional) The list of instance tags applied to instances in the cluster.
Tags are used to identify valid sources or targets for network firewalls.</p></li>
<li><p><code>internal_ip_only</code> - (Optional) By default, clusters are not restricted to internal IP addresses,
and will have ephemeral external IP addresses assigned to each instance. If set to true, all
instances in the cluster will only have internal IP addresses. Note: Private Google Access
(also known as <code>privateIpGoogleAccess</code>) must be enabled on the subnetwork that the cluster
will be launched in.</p></li>
<li><p><code>metadata</code> - (Optional) A map of the Compute Engine metadata entries to add to all instances
(see <a href="https://cloud.google.com/compute/docs/storing-retrieving-metadata#project_and_instance_metadata">Project and instance metadata</a>).</p></li>
<li><p><code>reservation_affinity</code> - (Optional) Reservation Affinity for consuming zonal reservation.</p>

<ul>
<li><code>consume_reservation_type</code> - (Optional) Corresponds to the type of reservation consumption.</li>
<li><code>key</code> - (Optional) Corresponds to the label key of reservation resource.</li>
<li><code>values</code> - (Optional) Corresponds to the label values of reservation resource.</li>
</ul></li>
<li><p><code>node_group_affinity</code> - (Optional) Node Group Affinity for sole-tenant clusters.</p>

<ul>
<li><code>node_group_uri</code> - (Required) The URI of a sole-tenant node group resource that the cluster will be created on.</li>
</ul></li>
<li><p><code>confidential_instance_config</code> - (Optional) Confidential Instance Config for clusters using <a href="https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/confidential-compute">Confidential VMs</a></p>

<ul>
<li><code>enable_confidential_compute</code> - (Optional) Defines whether the instance should have confidential compute enabled.</li>
</ul></li>
<li><p><code>shielded_instance_config</code> (Optional) Shielded Instance Config for clusters using <a href="https://cloud.google.com/security/shielded-cloud/shielded-vm">Compute Engine Shielded VMs</a>.</p></li>
</ul>

<hr/>

<p>The <code>cluster_config.gce_cluster_config.shielded_instance_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">gce_cluster_config</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">shielded_instance_config</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enable_secure_boot</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="na">enable_vtpm</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="na">enable_integrity_monitoring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>enable_secure_boot</code> - (Optional) Defines whether instances have Secure Boot enabled.</p></li>
<li><p><code>enable_vtpm</code> - (Optional) Defines whether instances have the <a href="https://cloud.google.com/security/shielded-cloud/shielded-vm#vtpm">vTPM</a> enabled.</p></li>
<li><p><code>enable_integrity_monitoring</code> - (Optional) Defines whether instances have integrity monitoring enabled.</p></li>
</ul>

<hr/>

<p><a name="nested_master_config"></a>The <code>cluster_config.master_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">master_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">num_instances</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">machine_type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"e2-medium"</span><span class="w"></span>
<span class="w">    </span><span class="na">min_cpu_platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Intel Skylake"</span><span class="w"></span>

<span class="w">    </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"pd-ssd"</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">      </span><span class="na">num_local_ssds</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>num_instances</code>- (Optional, Computed) Specifies the number of master nodes to create.
If not specified, GCP will default to a predetermined computed value (currently 1).</p></li>
<li><p><code>machine_type</code> - (Optional, Computed) The name of a Google Compute Engine machine type
to create for the master. If not specified, GCP will default to a predetermined
computed value (currently <code>n1-standard-4</code>).</p></li>
<li><p><code>min_cpu_platform</code> - (Optional, Computed) The name of a minimum generation of CPU family
for the master. If not specified, GCP will default to a predetermined computed value
for each zone. See <a href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform">the guide</a>
for details about which CPU families are available (and defaulted) for each zone.</p></li>
<li><p><code>image_uri</code> (Optional) The URI for the image to use for this worker.  See <a href="https://cloud.google.com/dataproc/docs/guides/dataproc-images">the guide</a>
for more information.</p></li>
<li><p><code>disk_config</code> (Optional) Disk Config</p>

<ul>
<li><p><code>boot_disk_type</code> - (Optional) The disk type of the primary disk attached to each node.
One of <code>"pd-ssd"</code> or <code>"pd-standard"</code>. Defaults to <code>"pd-standard"</code>.</p></li>
<li><p><code>boot_disk_size_gb</code> - (Optional, Computed) Size of the primary disk attached to each node, specified
in GB. The primary disk contains the boot volume and system libraries, and the
smallest allowed disk size is 10GB. GCP will default to a predetermined
computed value if not set (currently 500GB). Note: If SSDs are not
attached, it also contains the HDFS data blocks and Hadoop working directories.</p></li>
<li><p><code>num_local_ssds</code> - (Optional) The amount of local SSD disks that will be
attached to each master cluster node. Defaults to 0.</p></li>
<li><p><code>local_ssd_interface</code> - Optional. Interface type of local SSDs (default is "scsi").
Valid values: "scsi" (Small Computer System Interface), "nvme" (Non-Volatile
Memory Express). See
<a href="https://cloud.google.com/compute/docs/disks/local-ssd#performance">local SSD performance</a>.</p></li>
</ul></li>
<li><p><code>accelerators</code> (Optional) The Compute Engine accelerator (GPU) configuration for these instances. Can be specified multiple times.</p>

<ul>
<li><p><code>accelerator_type</code> - (Required) The short name of the accelerator type to expose to this instance. For example, <code>nvidia-tesla-k80</code>.</p></li>
<li><p><code>accelerator_count</code> - (Required) The number of the accelerator cards of this type exposed to this instance. Often restricted to one of <code>1</code>, <code>2</code>, <code>4</code>, or <code>8</code>.</p></li>
</ul></li>
</ul>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>The Cloud Dataproc API can return unintuitive error messages when using accelerators; even when you have defined an accelerator, Auto Zone Placement does not exclusively select zones that have that accelerator available. If you get a 400 error that the accelerator can't be found, this is a likely cause. Make sure you check <a href="https://cloud.google.com/compute/docs/reference/rest/v1/acceleratorTypes/list">accelerator availability by zone</a> if you are trying to use accelerators in a given zone.</p>
</aside>

<hr/>

<p><a name="nested_worker_config"></a>The <code>cluster_config.worker_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">worker_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">num_instances</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">    </span><span class="na">machine_type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"e2-medium"</span><span class="w"></span>
<span class="w">    </span><span class="na">min_cpu_platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Intel Skylake"</span><span class="w"></span>
<span class="w">    </span><span class="na">min_num_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">    </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"pd-standard"</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">      </span><span class="na">num_local_ssds</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>num_instances</code>- (Optional, Computed) Specifies the number of worker nodes to create.
If not specified, GCP will default to a predetermined computed value (currently 2).
There is currently a beta feature which allows you to run a
<a href="https://cloud.google.com/dataproc/docs/concepts/single-node-clusters">Single Node Cluster</a>.
In order to take advantage of this you need to set
<code>"dataproc:dataproc.allow.zero.workers" = "true"</code> in
<code>cluster_config.software_config.properties</code></p></li>
<li><p><code>machine_type</code> - (Optional, Computed) The name of a Google Compute Engine machine type
to create for the worker nodes. If not specified, GCP will default to a predetermined
computed value (currently <code>n1-standard-4</code>).</p></li>
<li><p><code>min_cpu_platform</code> - (Optional, Computed) The name of a minimum generation of CPU family
for the master. If not specified, GCP will default to a predetermined computed value
for each zone. See <a href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform">the guide</a>
for details about which CPU families are available (and defaulted) for each zone.</p></li>
<li><p><code>disk_config</code> (Optional) Disk Config</p>

<ul>
<li><p><code>boot_disk_type</code> - (Optional) The disk type of the primary disk attached to each node.
One of <code>"pd-ssd"</code> or <code>"pd-standard"</code>. Defaults to <code>"pd-standard"</code>.</p></li>
<li><p><code>boot_disk_size_gb</code> - (Optional, Computed) Size of the primary disk attached to each worker node, specified
in GB. The smallest allowed disk size is 10GB. GCP will default to a predetermined
computed value if not set (currently 500GB). Note: If SSDs are not
attached, it also contains the HDFS data blocks and Hadoop working directories.</p></li>
<li><p><code>num_local_ssds</code> - (Optional) The amount of local SSD disks that will be
attached to each worker cluster node. Defaults to 0.</p></li>
</ul></li>
<li><p><code>image_uri</code> (Optional) The URI for the image to use for this worker.  See <a href="https://cloud.google.com/dataproc/docs/guides/dataproc-images">the guide</a>
for more information.</p></li>
<li><p><code>min_num_instances</code> (Optional) The minimum number of primary worker instances to create.  If <code>min_num_instances</code> is set, cluster creation will succeed if the number of primary workers created is at least equal to the <code>min_num_instances</code> number.</p></li>
<li><p><code>accelerators</code> (Optional) The Compute Engine accelerator configuration for these instances. Can be specified multiple times.</p>

<ul>
<li><p><code>accelerator_type</code> - (Required) The short name of the accelerator type to expose to this instance. For example, <code>nvidia-tesla-k80</code>.</p></li>
<li><p><code>accelerator_count</code> - (Required) The number of the accelerator cards of this type exposed to this instance. Often restricted to one of <code>1</code>, <code>2</code>, <code>4</code>, or <code>8</code>.</p></li>
</ul></li>
</ul>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>The Cloud Dataproc API can return unintuitive error messages when using accelerators; even when you have defined an accelerator, Auto Zone Placement does not exclusively select zones that have that accelerator available. If you get a 400 error that the accelerator can't be found, this is a likely cause. Make sure you check <a href="https://cloud.google.com/compute/docs/reference/rest/v1/acceleratorTypes/list">accelerator availability by zone</a> if you are trying to use accelerators in a given zone.</p>
</aside>

<hr/>

<p><a name="nested_preemptible_worker_config"></a>The <code>cluster_config.preemptible_worker_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">preemptible_worker_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">num_instances</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>

<span class="w">    </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"pd-standard"</span><span class="w"></span>
<span class="w">      </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">      </span><span class="na">num_local_ssds</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">instance_flexibility_policy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">instance_selection_list</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">machine_types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"n2-standard-2","n1-standard-2"</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">rank</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="nb">instance_selection_list</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">machine_types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"n2d-standard-2"</span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">rank</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Note: Unlike <code>worker_config</code>, you cannot set the <code>machine_type</code> value directly. This
will be set for you based on whatever was set for the <code>worker_config.machine_type</code> value.</p>

<ul>
<li><p><code>num_instances</code>- (Optional) Specifies the number of preemptible nodes to create.
Defaults to 0.</p></li>
<li><p><code>preemptibility</code>- (Optional) Specifies the preemptibility of the secondary workers. The default value is <code>PREEMPTIBLE</code>
Accepted values are:</p>

<ul>
<li>PREEMPTIBILITY_UNSPECIFIED</li>
<li>NON_PREEMPTIBLE</li>
<li>PREEMPTIBLE</li>
<li>SPOT</li>
</ul></li>
<li><p><code>disk_config</code> (Optional) Disk Config</p>

<ul>
<li><p><code>boot_disk_type</code> - (Optional) The disk type of the primary disk attached to each preemptible worker node.
One of <code>"pd-ssd"</code> or <code>"pd-standard"</code>. Defaults to <code>"pd-standard"</code>.</p></li>
<li><p><code>boot_disk_size_gb</code> - (Optional, Computed) Size of the primary disk attached to each preemptible worker node, specified
in GB. The smallest allowed disk size is 10GB. GCP will default to a predetermined
computed value if not set (currently 500GB). Note: If SSDs are not
attached, it also contains the HDFS data blocks and Hadoop working directories.</p></li>
<li><p><code>num_local_ssds</code> - (Optional) The amount of local SSD disks that will be
attached to each preemptible worker node. Defaults to 0.</p></li>
</ul></li>
<li><p><code>instance_flexibility_policy</code> (Optional) Instance flexibility Policy allowing a mixture of VM shapes and provisioning models.</p>

<ul>
<li><p><code>instance_selection_list</code> - (Optional) List of instance selection options that the group will use when creating new VMs.</p>

<ul>
<li><p><code>machine_types</code> - (Optional) Full machine-type names, e.g. <code>"n1-standard-16"</code>.</p></li>
<li><p><code>rank</code> - (Optional) Preference of this instance selection. A lower number means higher preference. Dataproc will first try to create a VM based on the machine-type with priority rank and fallback to next rank based on availability. Machine types and instance selections with the same priority have the same preference.</p></li>
</ul></li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_software_config"></a>The <code>cluster_config.software_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # Override or set some custom properties</span>
<span class="w">  </span><span class="nb">software_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">image_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2.0.35-debian10"</span><span class="w"></span>

<span class="w">    </span><span class="nb">override_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"dataproc:dataproc.allow.zero.workers"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>image_version</code> - (Optional, Computed) The Cloud Dataproc image version to use
for the cluster - this controls the sets of software versions
installed onto the nodes when you create clusters. If not specified, defaults to the
latest version. For a list of valid versions see
<a href="https://cloud.google.com/dataproc/docs/concepts/dataproc-versions">Cloud Dataproc versions</a></p></li>
<li><p><code>override_properties</code> - (Optional) A list of override and additional properties (key/value pairs)
used to modify various aspects of the common configuration files used when creating
a cluster. For a list of valid properties please see
<a href="https://cloud.google.com/dataproc/docs/concepts/cluster-properties">Cluster properties</a></p></li>
<li><p><code>optional_components</code> - (Optional) The set of optional components to activate on the cluster. See <a href="https://cloud.google.com/dataproc/docs/concepts/components/overview#available_optional_components">Available Optional Components</a>.</p></li>
</ul>

<hr/>

<p><a name="nested_security_config"></a>The <code>cluster_config.security_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # Override or set some custom properties</span>
<span class="w">  </span><span class="nb">security_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">kerberos_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">kms_key_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/projectId/locations/locationId/keyRings/keyRingId/cryptoKeys/keyId"</span><span class="w"></span>
<span class="w">      </span><span class="na">root_principal_password_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bucketId/o/objectId"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>kerberos_config</code> (Required) Kerberos Configuration</p>

<ul>
<li><p><code>cross_realm_trust_admin_server</code> - (Optional) The admin server (IP or hostname) for the
remote trusted realm in a cross realm trust relationship.</p></li>
<li><p><code>cross_realm_trust_kdc</code> - (Optional) The KDC (IP or hostname) for the
remote trusted realm in a cross realm trust relationship.</p></li>
<li><p><code>cross_realm_trust_realm</code> - (Optional) The remote realm the Dataproc on-cluster KDC will
trust, should the user enable cross realm trust.</p></li>
<li><p><code>cross_realm_trust_shared_password_uri</code> - (Optional) The Cloud Storage URI of a KMS
encrypted file containing the shared password between the on-cluster Kerberos realm
and the remote trusted realm, in a cross realm trust relationship.</p></li>
<li><p><code>enable_kerberos</code> - (Optional) Flag to indicate whether to Kerberize the cluster.</p></li>
<li><p><code>kdc_db_key_uri</code> - (Optional) The Cloud Storage URI of a KMS encrypted file containing
the master key of the KDC database.</p></li>
<li><p><code>key_password_uri</code> - (Optional) The Cloud Storage URI of a KMS encrypted file containing
the password to the user provided key. For the self-signed certificate, this password
is generated by Dataproc.</p></li>
<li><p><code>keystore_uri</code> - (Optional) The Cloud Storage URI of the keystore file used for SSL encryption.
If not provided, Dataproc will provide a self-signed certificate.</p></li>
<li><p><code>keystore_password_uri</code> - (Optional) The Cloud Storage URI of a KMS encrypted file containing
the password to the user provided keystore. For the self-signed certificated, the password
is generated by Dataproc.</p></li>
<li><p><code>kms_key_uri</code> - (Required) The URI of the KMS key used to encrypt various sensitive files.</p></li>
<li><p><code>realm</code> - (Optional) The name of the on-cluster Kerberos realm. If not specified, the
uppercased domain of hostnames will be the realm.</p></li>
<li><p><code>root_principal_password_uri</code> - (Required) The Cloud Storage URI of a KMS encrypted file
containing the root principal password.</p></li>
<li><p><code>tgt_lifetime_hours</code> - (Optional) The lifetime of the ticket granting ticket, in hours.</p></li>
<li><p><code>truststore_password_uri</code> - (Optional) The Cloud Storage URI of a KMS encrypted file
containing the password to the user provided truststore. For the self-signed
certificate, this password is generated by Dataproc.</p></li>
<li><p><code>truststore_uri</code> - (Optional) The Cloud Storage URI of the truststore file used for
SSL encryption. If not provided, Dataproc will provide a self-signed certificate.</p></li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_autoscaling_config"></a>The <code>cluster_config.autoscaling_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # Override or set some custom properties</span>
<span class="w">  </span><span class="nb">autoscaling_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">policy_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/projectId/locations/region/autoscalingPolicies/policyId"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><code>policy_uri</code> - (Required) The autoscaling policy used by the cluster.</li>
</ul>

<p>Only resource names including projectid and location (region) are valid. Examples:</p>

<p><code>https://www.googleapis.com/compute/v1/projects/[projectId]/locations/[dataproc_region]/autoscalingPolicies/[policy_id]</code>
<code>projects/[projectId]/locations/[dataproc_region]/autoscalingPolicies/[policy_id]</code>
Note that the policy must be in the same project and Cloud Dataproc region.</p>

<hr/>

<p><a name="nested_initialization_action"></a>The <code>initialization_action</code> block (Optional) can be specified multiple times and supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # You can define multiple initialization_action blocks</span>
<span class="w">  </span><span class="nb">initialization_action</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">script</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"gs://dataproc-initialization-actions/stackdriver/stackdriver.sh"</span><span class="w"></span>
<span class="w">    </span><span class="na">timeout_sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">500</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>script</code>- (Required) The script to be executed during initialization of the cluster.
The script must be a GCS file with a gs:// prefix.</p></li>
<li><p><code>timeout_sec</code> - (Optional, Computed) The maximum duration (in seconds) which <code>script</code> is
allowed to take to execute its action. GCP will default to a predetermined
computed value if not set (currently 300).</p></li>
</ul>

<hr/>

<p><a name="nested_encryption_config"></a>The <code>encryption_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">encryption_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">kms_key_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/projectId/locations/region/keyRings/keyRingName/cryptoKeys/keyName"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><code>kms_key_name</code> - (Required) The Cloud KMS key name to use for PD disk encryption for
all instances in the cluster.</li>
</ul>

<hr/>

<p><a name="nested_dataproc_metric_config"></a>The <code>dataproc_metric_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">dataproc_metric_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">metrics</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">metric_source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"HDFS"</span><span class="w"></span>
<span class="w">        </span><span class="na">metric_overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"yarn:ResourceManager:QueueMetrics:AppsCompleted"</span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>metrics</code> - (Required) Metrics sources to enable.</p>

<ul>
<li><p><code>metric_source</code> - (Required) A source for the collection of Dataproc OSS metrics (see <a href="https://cloud.google.com//dataproc/docs/guides/monitoring#available_oss_metrics">available OSS metrics</a>).</p></li>
<li><p><code>metric_overrides</code> - (Optional) One or more [available OSS metrics] (https://cloud.google.com/dataproc/docs/guides/monitoring#available_oss_metrics) to collect for the metric course.</p></li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_auxiliary_node_groups"></a>The <code>auxiliary_node_groups</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">auxiliary_node_groups</span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">node_group</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">roles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"DRIVER"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="nb">node_group_config</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">num_instances</span><span class="o">=</span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">machine_type</span><span class="o">=</span><span class="s2">"n1-standard-2"</span><span class="w"></span>
<span class="w">      </span><span class="na">min_cpu_platform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMD Rome"</span><span class="w"></span>
<span class="w">      </span><span class="nb">disk_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">boot_disk_size_gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">35</span><span class="w"></span>
<span class="w">        </span><span class="na">boot_disk_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pd-standard"</span><span class="w"></span>
<span class="w">        </span><span class="na">num_local_ssds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="nb">accelerators</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">accelerator_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">        </span><span class="na">accelerator_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"nvidia-tesla-t4"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>node_group</code> - (Required) Node group configuration.</p>

<ul>
<li><p><code>roles</code> - (Required) Node group roles. 
One of <code>"DRIVER"</code>.</p></li>
<li><p><code>name</code> - (Optional) The Node group resource name.</p></li>
<li><p><code>node_group_config</code> - (Optional) The node group instance group configuration.</p></li>
<li><p><code>num_instances</code>- (Optional, Computed) Specifies the number of master nodes to create.
Please set a number greater than 0. Node Group must have at least 1 instance.</p></li>
<li><p><code>machine_type</code> - (Optional, Computed) The name of a Google Compute Engine machine type
to create for the node group. If not specified, GCP will default to a predetermined 
computed value (currently <code>n1-standard-4</code>).</p></li>
<li><p><code>min_cpu_platform</code> - (Optional, Computed) The name of a minimum generation of CPU family
for the node group. If not specified, GCP will default to a predetermined computed value
for each zone. See <a href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform">the guide</a>
for details about which CPU families are available (and defaulted) for each zone.</p></li>
<li><p><code>disk_config</code> (Optional) Disk Config</p>

<ul>
<li><p><code>boot_disk_type</code> - (Optional) The disk type of the primary disk attached to each node.
One of <code>"pd-ssd"</code> or <code>"pd-standard"</code>. Defaults to <code>"pd-standard"</code>.</p></li>
<li><p><code>boot_disk_size_gb</code> - (Optional, Computed) Size of the primary disk attached to each node, specified
in GB. The primary disk contains the boot volume and system libraries, and the
smallest allowed disk size is 10GB. GCP will default to a predetermined
computed value if not set (currently 500GB). Note: If SSDs are not
attached, it also contains the HDFS data blocks and Hadoop working directories.</p></li>
<li><p><code>num_local_ssds</code> - (Optional) The amount of local SSD disks that will be attached to each master cluster node. 
Defaults to 0.</p></li>
</ul></li>
<li><p><code>accelerators</code> (Optional) The Compute Engine accelerator (GPU) configuration for these instances. Can be specified 
multiple times.</p>

<ul>
<li><p><code>accelerator_type</code> - (Required) The short name of the accelerator type to expose to this instance. For example, <code>nvidia-tesla-k80</code>.</p></li>
<li><p><code>accelerator_count</code> - (Required) The number of the accelerator cards of this type exposed to this instance. Often restricted to one of <code>1</code>, <code>2</code>, <code>4</code>, or <code>8</code>.</p></li>
</ul></li>
</ul></li>
</ul>

<hr/>

<p><a name="nested_lifecycle_config"></a>The <code>lifecycle_config</code> block supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">lifecycle_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">idle_delete_ttl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10m"</span><span class="w"></span>
<span class="w">    </span><span class="na">auto_delete_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2120-01-01T12:00:00.01Z"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><p><code>idle_delete_ttl</code> - (Optional) The duration to keep the cluster alive while idling
(no jobs running). After this TTL, the cluster will be deleted. Valid range: [10m, 14d].</p></li>
<li><p><code>auto_delete_time</code> - (Optional) The time when cluster will be auto-deleted.
A timestamp in RFC3339 UTC "Zulu" format, accurate to nanoseconds.
Example: "2014-10-02T15:01:23.045123456Z".</p></li>
</ul>

<hr/>

<p><a name="nested_endpoint_config"></a>The <code>endpoint_config</code> block (Optional, Computed, Beta) supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enable_http_port_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><code>enable_http_port_access</code> - (Optional) The flag to enable http access to specific ports
on the cluster from external sources (aka Component Gateway). Defaults to false.</li>
</ul>

<p><a name="nested_metastore_config"></a>The <code>metastore_config</code> block (Optional, Computed, Beta) supports:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">metastore_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">dataproc_metastore_service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/projectId/locations/region/services/serviceName"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<ul>
<li><code>dataproc_metastore_service</code> - (Required) Resource name of an existing Dataproc Metastore service.</li>
</ul>

<p>Only resource names including projectid and location (region) are valid. Examples:</p>

<p><code>projects/[projectId]/locations/[dataproc_region]/services/[service-name]</code></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are
exported:</p>

<ul>
<li><p><code>cluster_config.0.master_config.0.instance_names</code> - List of master instance names which
have been assigned to the cluster.</p></li>
<li><p><code>cluster_config.0.worker_config.0.instance_names</code> - List of worker instance names which have been assigned
to the cluster.</p></li>
<li><p><code>cluster_config.0.preemptible_worker_config.0.instance_names</code> - List of preemptible instance names which have been assigned
to the cluster.</p></li>
<li><p><code>cluster_config.0.bucket</code> - The name of the cloud storage bucket ultimately used to house the staging data
for the cluster. If <code>staging_bucket</code> is specified, it will contain this value, otherwise
it will be the auto generated name.</p></li>
<li><p><code>cluster_config.0.software_config.0.properties</code> - A list of the properties used to set the daemon config files.
This will include any values supplied by the user via <code>cluster_config.software_config.override_properties</code></p></li>
<li><p><code>cluster_config.0.lifecycle_config.0.idle_start_time</code> - Time when the cluster became idle
(most recent job finished) and became eligible for deletion due to idleness.</p></li>
<li><p><code>cluster_config.0.endpoint_config.0.http_ports</code> - The map of port descriptions to URLs. Will only be populated if
<code>enable_http_port_access</code> is true.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>This resource does not support import.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options: configuration options:</p>

<ul>
<li><code>create</code> - Default is 45 minutes.</li>
<li><code>update</code> - Default is 45 minutes.</li>
<li><code>delete</code> - Default is 45 minutes.</li>
</ul>

            
        
    </body></html>