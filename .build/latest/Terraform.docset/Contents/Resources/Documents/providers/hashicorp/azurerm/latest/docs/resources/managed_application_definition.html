<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/managed_application_definition --><head>
                <title>azurerm_managed_application_definition</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="azurerm_managed_application_definition">azurerm_managed_application_definition</h1>

<p>Manages a Managed Application Definition.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">provider</span><span class="w"> </span><span class="nv">"azurerm"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">features</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"azurerm_client_config"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azurerm_resource_group"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-resources"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"West Europe"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azurerm_managed_application_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"examplemanagedapplicationdefinition"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_resource_group.example.location</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_resource_group.example.name</span><span class="w"></span>
<span class="w">  </span><span class="na">lock_level</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"ReadOnly"</span><span class="w"></span>
<span class="w">  </span><span class="na">package_file_uri</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.com/Azure/azure-managedapp-samples/raw/master/Managed Application Sample Packages/201-managed-storage-account/managedstorage.zip"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"TestManagedApplicationDefinition"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test Managed Application Definition"</span><span class="w"></span>

<span class="w">  </span><span class="nb">authorization</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">service_principal_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azurerm_client_config.current.object_id</span><span class="w"></span>
<span class="w">    </span><span class="na">role_definition_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"a094b430-dad3-424d-ae58-13f72fd72591"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>name</code> - (Required) Specifies the name of the Managed Application Definition. Changing this forces a new resource to be created.</p></li>
<li><p><code>resource_group_name</code> - (Required) The name of the Resource Group where the Managed Application Definition should exist. Changing this forces a new resource to be created.</p></li>
<li><p><code>location</code> - (Required) Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.</p></li>
<li><p><code>lock_level</code> - (Required) Specifies the managed application lock level. Valid values include <code>CanNotDelete</code>, <code>None</code>, <code>ReadOnly</code>. Changing this forces a new resource to be created.</p></li>
<li><p><code>authorization</code> - (Optional) One or more <code>authorization</code> block defined below.</p></li>
<li><p><code>create_ui_definition</code> - (Optional) Specifies the <code>createUiDefinition</code> JSON for the backing template with <code>Microsoft.Solutions/applications</code> resource.</p></li>
<li><p><code>display_name</code> - (Required) Specifies the managed application definition display name.</p></li>
<li><p><code>description</code> - (Optional) Specifies the managed application definition description.</p></li>
<li><p><code>package_enabled</code> - (Optional) Is the package enabled? Defaults to <code>true</code>.</p></li>
<li><p><code>main_template</code> - (Optional) Specifies the inline main template JSON which has resources to be provisioned.</p></li>
<li><p><code>package_file_uri</code> - (Optional) Specifies the managed application definition package file Uri.</p></li>
<li><p><code>tags</code> - (Optional) A mapping of tags to assign to the resource.</p></li>
</ul>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>If either <code>create_ui_definition</code> or <code>main_template</code> is set they both must be set.</p>
</aside>

<hr/>

<p>An <code>authorization</code> block supports the following:</p>

<ul>
<li><p><code>role_definition_id</code> - (Required) Specifies a role definition identifier for the provider. This role will define all the permissions that the provider must have on the managed application's container resource group. This role definition cannot have permission to delete the resource group.</p></li>
<li><p><code>service_principal_id</code> - (Required) Specifies a service principal identifier for the provider. This is the identity that the provider will use to call ARM to manage the managed application resources.</p></li>
</ul>

<hr/>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the Arguments listed above - the following Attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the Managed Application Definition.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://www.terraform.io/language/resources/syntax#operation-timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 30 minutes) Used when creating the Managed Application Definition.</li>
<li><code>update</code> - (Defaults to 30 minutes) Used when updating the Managed Application Definition.</li>
<li><code>read</code> - (Defaults to 5 minutes) Used when retrieving the Managed Application Definition.</li>
<li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Managed Application Definition.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Managed Application Definition can be imported using the <code>resource id</code>, e.g.</p>

<div class="codehilite"><pre><span></span><code>terraform import azurerm_managed_application_definition.example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.Solutions/applicationDefinitions/appDefinition1
</code></pre></div>

            
        
    </body></html>