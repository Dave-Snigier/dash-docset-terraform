<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/network_management_vpc_flow_logs_config --><head>
                <title>google_network_management_vpc_flow_logs_config</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_network_management_vpc_flow_logs_config">google_network_management_vpc_flow_logs_config</h1>

<p>VPC Flow Logs Config is a resource that lets you configure Flow Logs for VPC, Interconnect attachments or VPN Tunnels.</p>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=network_management_vpc_flow_logs_config_interconnect_full&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Network%20Management%20Vpc%20Flow%20Logs%20Config%20Interconnect%20Full"></a><h2 id="example-usage-network-management-vpc-flow-logs-config-interconnect-full">Example Usage - Network Management Vpc Flow Logs Config Interconnect Full</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_network_management_vpc_flow_logs_config"</span><span class="w"> </span><span class="nv">"interconnect-test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_flow_logs_config_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-interconnect-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">interconnect_attachment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/${data.google_project.project.number}/regions/us-east4/interconnectAttachments/${google_compute_interconnect_attachment.attachment.name}"</span><span class="w"></span>
<span class="w">  </span><span class="na">state</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w"></span>
<span class="w">  </span><span class="na">aggregation_interval</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERVAL_5_SEC"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC Flow Logs over a VPN Gateway."</span><span class="w"></span>
<span class="w">  </span><span class="na">flow_sampling</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">0.5</span><span class="w"></span>
<span class="w">  </span><span class="na">metadata</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"INCLUDE_ALL_METADATA"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-interconnect-test-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_router"</span><span class="w"> </span><span class="nv">"router"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-interconnect-test-router"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">bgp</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">asn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16550</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_interconnect_attachment"</span><span class="w"> </span><span class="nv">"attachment"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-interconnect-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">edge_availability_domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AVAILABILITY_DOMAIN_1"</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="s2">"PARTNER"</span><span class="w"></span>
<span class="w">  </span><span class="na">router</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_router.router.id</span><span class="w"></span>
<span class="w">  </span><span class="na">mtu</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="m">1500</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=network_management_vpc_flow_logs_config_interconnect_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Network%20Management%20Vpc%20Flow%20Logs%20Config%20Interconnect%20Basic"></a><h2 id="example-usage-network-management-vpc-flow-logs-config-interconnect-basic">Example Usage - Network Management Vpc Flow Logs Config Interconnect Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_network_management_vpc_flow_logs_config"</span><span class="w"> </span><span class="nv">"interconnect-test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_flow_logs_config_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-interconnect-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">interconnect_attachment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/${data.google_project.project.number}/regions/us-east4/interconnectAttachments/${google_compute_interconnect_attachment.attachment.name}"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-interconnect-test-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_router"</span><span class="w"> </span><span class="nv">"router"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-interconnect-test-router"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">bgp</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">asn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16550</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_interconnect_attachment"</span><span class="w"> </span><span class="nv">"attachment"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-interconnect-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">edge_availability_domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AVAILABILITY_DOMAIN_1"</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="s2">"PARTNER"</span><span class="w"></span>
<span class="w">  </span><span class="na">router</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_router.router.id</span><span class="w"></span>
<span class="w">  </span><span class="na">mtu</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="m">1500</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=network_management_vpc_flow_logs_config_vpn_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Network%20Management%20Vpc%20Flow%20Logs%20Config%20Vpn%20Basic"></a><h2 id="example-usage-network-management-vpc-flow-logs-config-vpn-basic">Example Usage - Network Management Vpc Flow Logs Config Vpn Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_network_management_vpc_flow_logs_config"</span><span class="w"> </span><span class="nv">"vpn-test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_flow_logs_config_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpn_tunnel</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/${data.google_project.project.number}/regions/us-central1/vpnTunnels/${google_compute_vpn_tunnel.tunnel.name}"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_vpn_tunnel"</span><span class="w"> </span><span class="nv">"tunnel"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-tunnel"</span><span class="w"></span>
<span class="w">  </span><span class="na">peer_ip</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"15.0.0.120"</span><span class="w"></span>
<span class="w">  </span><span class="na">shared_secret</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"a secret message"</span><span class="w"></span>
<span class="w">  </span><span class="na">target_vpn_gateway</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_esp</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_udp500</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_udp4500</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_vpn_gateway"</span><span class="w"> </span><span class="nv">"target_gateway"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-gateway"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_address"</span><span class="w"> </span><span class="nv">"vpn_static_ip"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-address"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_esp"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-fresp"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ESP"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_udp500"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-fr500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UDP"</span><span class="w"></span>
<span class="w">  </span><span class="na">port_range</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_udp4500"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-fr4500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UDP"</span><span class="w"></span>
<span class="w">  </span><span class="na">port_range</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"4500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_route"</span><span class="w"> </span><span class="nv">"route"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"basic-test-route"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.name</span><span class="w"></span>
<span class="w">  </span><span class="na">dest_range</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"15.0.0.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">priority</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="w"></span>
<span class="w">  </span><span class="na">next_hop_vpn_tunnel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_tunnel.tunnel.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=network_management_vpc_flow_logs_config_vpn_full&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Network%20Management%20Vpc%20Flow%20Logs%20Config%20Vpn%20Full"></a><h2 id="example-usage-network-management-vpc-flow-logs-config-vpn-full">Example Usage - Network Management Vpc Flow Logs Config Vpn Full</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_network_management_vpc_flow_logs_config"</span><span class="w"> </span><span class="nv">"vpn-test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_flow_logs_config_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-id"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpn_tunnel</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/${data.google_project.project.number}/regions/us-central1/vpnTunnels/${google_compute_vpn_tunnel.tunnel.name}"</span><span class="w"></span>
<span class="w">  </span><span class="na">state</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w"></span>
<span class="w">  </span><span class="na">aggregation_interval</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"INTERVAL_5_SEC"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC Flow Logs over a VPN Gateway."</span><span class="w"></span>
<span class="w">  </span><span class="na">flow_sampling</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">0.5</span><span class="w"></span>
<span class="w">  </span><span class="na">metadata</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"INCLUDE_ALL_METADATA"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_vpn_tunnel"</span><span class="w"> </span><span class="nv">"tunnel"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-tunnel"</span><span class="w"></span>
<span class="w">  </span><span class="na">peer_ip</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"15.0.0.120"</span><span class="w"></span>
<span class="w">  </span><span class="na">shared_secret</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"a secret message"</span><span class="w"></span>
<span class="w">  </span><span class="na">target_vpn_gateway</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>

<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_esp</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_udp500</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nv">google_compute_forwarding_rule.fr_udp4500</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_vpn_gateway"</span><span class="w"> </span><span class="nv">"target_gateway"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-gateway"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-network"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_address"</span><span class="w"> </span><span class="nv">"vpn_static_ip"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-address"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_esp"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-fresp"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ESP"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_udp500"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-fr500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UDP"</span><span class="w"></span>
<span class="w">  </span><span class="na">port_range</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_forwarding_rule"</span><span class="w"> </span><span class="nv">"fr_udp4500"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-fr4500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UDP"</span><span class="w"></span>
<span class="w">  </span><span class="na">port_range</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"4500"</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_address</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_address.vpn_static_ip.address</span><span class="w"></span>
<span class="w">  </span><span class="na">target</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_gateway.target_gateway.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_route"</span><span class="w"> </span><span class="nv">"route"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"full-test-route"</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network.name</span><span class="w"></span>
<span class="w">  </span><span class="na">dest_range</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"15.0.0.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">priority</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="w"></span>
<span class="w">  </span><span class="na">next_hop_vpn_tunnel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_vpn_tunnel.tunnel.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>location</code> -
(Required)
Resource ID segment making up resource <code>name</code>. It identifies the resource
within its parent collection as described in https://google.aip.dev/122. See documentation
for resource type <code>networkmanagement.googleapis.com/VpcFlowLogsConfig</code>.</p></li>
<li><p><code>vpc_flow_logs_config_id</code> -
(Required)
Required. ID of the <code>VpcFlowLogsConfig</code>.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>description</code> -
(Optional)
Optional. The user-supplied description of the VPC Flow Logs configuration. Maximum
of 512 characters.</p></li>
<li><p><code>state</code> -
(Optional)
Optional. The state of the VPC Flow Log configuration. Default value
is ENABLED. When creating a new configuration, it must be enabled.   Possible</p></li>
<li><p><code>aggregation_interval</code> -
(Optional)
Optional. The aggregation interval for the logs. Default value is
INTERVAL_5_SEC.   Possible values:  AGGREGATION_INTERVAL_UNSPECIFIED INTERVAL_5_SEC INTERVAL_30_SEC INTERVAL_1_MIN INTERVAL_5_MIN INTERVAL_10_MIN INTERVAL_15_MIN"</p></li>
<li><p><code>flow_sampling</code> -
(Optional)
Optional. The value of the field must be in (0, 1]. The sampling rate
of VPC Flow Logs where 1.0 means all collected logs are reported. Setting the
sampling rate to 0.0 is not allowed. If you want to disable VPC Flow Logs, use
the state field instead. Default value is 1.0.</p></li>
<li><p><code>metadata</code> -
(Optional)
Optional. Configures whether all, none or a subset of metadata fields
should be added to the reported VPC flow logs. Default value is INCLUDE_ALL_METADATA.
Possible values:  METADATA_UNSPECIFIED INCLUDE_ALL_METADATA EXCLUDE_ALL_METADATA CUSTOM_METADATA</p></li>
<li><p><code>metadata_fields</code> -
(Optional)
Optional. Custom metadata fields to include in the reported VPC flow
logs. Can only be specified if \"metadata\" was set to CUSTOM_METADATA.</p></li>
<li><p><code>filter_expr</code> -
(Optional)
Optional. Export filter used to define which VPC Flow Logs should be logged.</p></li>
<li><p><code>interconnect_attachment</code> -
(Optional)
Traffic will be logged from the Interconnect Attachment. Format: projects/{project_id}/regions/{region}/interconnectAttachments/{name}</p></li>
<li><p><code>vpn_tunnel</code> -
(Optional)
Traffic will be logged from the VPN Tunnel. Format: projects/{project_id}/regions/{region}/vpnTunnels/{name}</p></li>
<li><p><code>labels</code> -
(Optional)
Optional. Resource labels to represent user-provided metadata.</p>

<p><strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/vpcFlowLogsConfigs/{{vpc_flow_logs_config_id}}</code></p></li>
<li><p><code>name</code> -
Identifier. Unique name of the configuration using the form:     <code>projects/{project_id}/locations/global/vpcFlowLogsConfigs/{vpc_flow_logs_config_id}</code></p></li>
<li><p><code>create_time</code> -
Output only. The time the config was created.</p></li>
<li><p><code>update_time</code> -
Output only. The time the config was updated.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>VpcFlowLogsConfig can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{location}}/vpcFlowLogsConfigs/{{vpc_flow_logs_config_id}}</code></li>
<li><code>{{project}}/{{location}}/{{vpc_flow_logs_config_id}}</code></li>
<li><code>{{location}}/{{vpc_flow_logs_config_id}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import VpcFlowLogsConfig using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{location}}/vpcFlowLogsConfigs/{{vpc_flow_logs_config_id}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_network_management_vpc_flow_logs_config.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, VpcFlowLogsConfig can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_network_management_vpc_flow_logs_config.default projects/{{project}}/locations/{{location}}/vpcFlowLogsConfigs/{{vpc_flow_logs_config_id}}
$ terraform import google_network_management_vpc_flow_logs_config.default {{project}}/{{location}}/{{vpc_flow_logs_config_id}}
$ terraform import google_network_management_vpc_flow_logs_config.default {{location}}/{{vpc_flow_logs_config_id}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>