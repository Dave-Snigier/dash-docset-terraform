<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/glue_catalog_table_optimizer --><head>
                <title>aws_glue_catalog_table_optimizer</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_glue_catalog_table_optimizer">Resource: aws_glue_catalog_table_optimizer</h1>

<p>Terraform resource for managing an AWS Glue Catalog Table Optimizer.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Compaction%20Optimizer"></a><h3 id="compaction-optimizer">Compaction Optimizer</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_glue_catalog_table_optimizer"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012"</span><span class="w"></span>
<span class="w">  </span><span class="na">database_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_database"</span><span class="w"></span>
<span class="w">  </span><span class="na">table_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_table"</span><span class="w"></span>

<span class="w">  </span><span class="nb">configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:iam::123456789012:role/example-role"</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"compaction"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Snapshot%20Retention%20Optimizer"></a><h3 id="snapshot-retention-optimizer">Snapshot Retention Optimizer</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_glue_catalog_table_optimizer"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012"</span><span class="w"></span>
<span class="w">  </span><span class="na">database_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_database"</span><span class="w"></span>
<span class="w">  </span><span class="na">table_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_table"</span><span class="w"></span>

<span class="w">  </span><span class="nb">configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:iam::123456789012:role/example-role"</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">    </span><span class="nb">retention_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">iceberg_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">snapshot_retention_period_in_days</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w"></span>
<span class="w">        </span><span class="na">number_of_snapshots_to_retain</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">        </span><span class="na">clean_expired_files</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"retention"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Orphan%20File%20Deletion%20Optimizer"></a><h3 id="orphan-file-deletion-optimizer">Orphan File Deletion Optimizer</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_glue_catalog_table_optimizer"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012"</span><span class="w"></span>
<span class="w">  </span><span class="na">database_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_database"</span><span class="w"></span>
<span class="w">  </span><span class="na">table_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_table"</span><span class="w"></span>

<span class="w">  </span><span class="nb">configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:iam::123456789012:role/example-role"</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">    </span><span class="nb">orphan_file_deletion_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">iceberg_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">orphan_file_retention_period_in_days</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="w"></span>
<span class="w">        </span><span class="na">location</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://example-bucket/example_table/"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"orphan_file_deletion"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are required:</p>

<ul>
<li><code>catalog_id</code> - (Required) The Catalog ID of the table.</li>
<li><code>configuration</code> - (Required) A configuration block that defines the table optimizer settings. See <a href="#configuration">Configuration</a> for additional details.</li>
<li><code>database_name</code> - (Required) The name of the database in the catalog in which the table resides.</li>
<li><code>table_name</code> - (Required) The name of the table.</li>
<li><code>type</code> - (Required) The type of table optimizer. Valid values are <code>compaction</code>, <code>retention</code>, and <code>orphan_file_deletion</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Configuration"></a><h3 id="configuration">Configuration</h3>

<ul>
<li><code>enabled</code> - (Required) Indicates whether the table optimizer is enabled.</li>
<li><code>orphan_file_deletion_configuration</code> (Optional) - The configuration block for an orphan file deletion optimizer. See <a href="#orphan-file-deletion-configuration">Orphan File Deletion Configuration</a> for additional details.</li>
<li><code>retention_configuration</code> (Optional) - The configuration block for a snapshot retention optimizer. See <a href="#retention-configuration">Retention Configuration</a> for additional details.</li>
<li><code>role_arn</code> - (Required) The ARN of the IAM role to use for the table optimizer.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Orphan%20File%20Deletion%20Configuration"></a><h3 id="orphan-file-deletion-configuration">Orphan File Deletion Configuration</h3>

<ul>
<li><code>iceberg_configuration</code> (Optional) - The configuration for an Iceberg orphan file deletion optimizer.
<ul>
<li><code>orphan_file_retention_period_in_days</code> (Optional) - The number of days that orphan files should be retained before file deletion. Defaults to <code>3</code>.</li>
<li><code>location</code> (Optional) - Specifies a directory in which to look for files. You may choose a sub-directory rather than the top-level table location. Defaults to the table's location.</li>
</ul></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Retention%20Configuration"></a><h3 id="retention-configuration">Retention Configuration</h3>

<ul>
<li><code>iceberg_configuration</code> (Optional) - The configuration for an Iceberg snapshot retention optimizer.
<ul>
<li><code>snapshot_retention_period_in_days</code> (Optional) - The number of days to retain the Iceberg snapshots. Defaults to <code>5</code>, or the corresponding Iceberg table configuration field if it exists.</li>
<li><code>number_of_snapshots_to_retain</code> (Optional) - The number of Iceberg snapshots to retain within the retention period. Defaults to <code>1</code> or the corresponding Iceberg table configuration field if it exists.</li>
<li><code>clean_expired_files</code> (Optional) - If set to <code>false</code>, snapshots are only deleted from table metadata, and the underlying data and metadata files are not deleted. Defaults to <code>false</code>.</li>
</ul></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports no additional attributes.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Glue Catalog Table Optimizer using the <code>catalog_id,database_name,table_name,type</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_glue_catalog_table_optimizer.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012,example_database,example_table,compaction"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import Glue Catalog Table Optimizer using the <code>catalog_id,database_name,table_name,type</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_glue_catalog_table_optimizer.example <span class="m">123456789012</span>,example_database,example_table,compaction
</code></pre></div>

            
        
    </body></html>