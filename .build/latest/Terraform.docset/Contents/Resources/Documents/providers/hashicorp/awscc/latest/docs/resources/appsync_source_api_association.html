<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/appsync_source_api_association --><head>
                <title>awscc_appsync_source_api_association</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_appsync_source_api_association-resource">awscc_appsync_source_api_association (Resource)</h1>

<p>Resource Type definition for AWS::AppSync::SourceApiAssociation</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AppSync%20Source%20API%20Association"></a><h3 id="appsync-source-api-association">AppSync Source API Association</h3>

<p>Demonstrates how to associate a source GraphQL API with a merged AppSync API, including the setup of necessary IAM roles and policies for API merging capabilities.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># IAM role for AppSync merged API</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_iam_role"</span><span class="w"> </span><span class="nv">"appsync_merged"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync-merged-api-role"</span><span class="w"></span>
<span class="w">  </span><span class="na">assume_role_policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"sts:AssumeRole"</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">Service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync.amazonaws.com"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>

<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># IAM role policy for AppSync merged API</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_iam_role_policy"</span><span class="w"> </span><span class="nv">"appsync_merged"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_iam_role.appsync_merged.role_name</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync-merged-api-policy"</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="w"></span>
<span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"appsync:GetGraphqlApi"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="s2">"appsync:GraphQL"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"*"</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create source AppSync API</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"source-api"</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">schema</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"type Query { hello: String }"</span><span class="w"></span>
<span class="w">  </span><span class="na">xray_enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">api_type</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"GRAPHQL"</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"Modified By" = "AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create merged AppSync API</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"merged"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="s2">"merged-api"</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">xray_enabled</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">api_type</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"MERGED"</span><span class="w"></span>
<span class="w">  </span><span class="na">merged_api_execution_role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_iam_role.appsync_merged.arn</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s2">"Modified By" = "AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create the SourceApiAssociation</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_appsync_source_api_association"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">source_api_identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_appsync_graphql_api.source.id</span><span class="w"></span>
<span class="w">  </span><span class="na">merged_api_identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_appsync_graphql_api.merged.id</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example source API association"</span><span class="w"></span>
<span class="w">  </span><span class="nb">source_api_association_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">merge_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AUTO_MERGE"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>description</code> (String) Description of the SourceApiAssociation.</li>
<li><code>merged_api_identifier</code> (String) Identifier of the Merged GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN</li>
<li><code>source_api_association_config</code> (Attributes) Customized configuration for SourceApiAssociation. (see <a href="#nestedatt--source_api_association_config">below for nested schema</a>)</li>
<li><code>source_api_identifier</code> (String) Identifier of the Source GraphQLApi to associate. It could be either GraphQLApi ApiId or ARN</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>association_arn</code> (String) ARN of the SourceApiAssociation.</li>
<li><code>association_id</code> (String) Id of the SourceApiAssociation.</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>last_successful_merge_date</code> (String) Date of last schema successful merge.</li>
<li><code>merged_api_arn</code> (String) ARN of the Merged API in the association.</li>
<li><code>merged_api_id</code> (String) GraphQLApiId of the Merged API in the association.</li>
<li><code>source_api_arn</code> (String) ARN of the source API in the association.</li>
<li><code>source_api_association_status</code> (String) Current status of SourceApiAssociation.</li>
<li><code>source_api_association_status_detail</code> (String) Current SourceApiAssociation status details.</li>
<li><code>source_api_id</code> (String) GraphQLApiId of the source API in the association.</li>
</ul>

<p><a id="nestedatt--source_api_association_config"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20source_api_association_config"></a><h3 id="nested-schema-for-source_api_association_config">Nested Schema for <code>source_api_association_config</code></h3>

<p>Optional:</p>

<ul>
<li><code>merge_type</code> (String) Configuration of the merged behavior for the association. For example when it could be auto or has to be manual.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_appsync_source_api_association.example <span class="s2">"association_arn"</span>
</code></pre></div>

            
        
    </body></html>