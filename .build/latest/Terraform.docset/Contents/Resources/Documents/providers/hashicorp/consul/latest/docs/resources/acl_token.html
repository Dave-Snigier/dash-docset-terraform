<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/consul/latest/docs/resources/acl_token --><head>
                <title>consul_acl_token</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="consul_acl_token-resource">consul_acl_token (Resource)</h1>

<p>The <code>consul_acl_token</code> resource writes an ACL token into Consul.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>The <code>consul_acl_token</code> resource does not save the secret ID of the generated token to the Terraform state to avoid leaking it when it is not needed. If you need to get the secret ID after creating the ACL token you can use the <a href="../data-sources/consul_acl_token_secret_id.html"><code>consul_acl_token_secret_id</code></a> datasource.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="c1"># Basic usage</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"consul_acl_policy"</span><span class="w"> </span><span class="nv">"agent"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"agent"</span><span class="w"></span>
<span class="w">  </span><span class="na">rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="dl">RULE</span><span class="sh"></span>
<span class="sh">    node_prefix "" {</span>
<span class="sh">      policy = "read"</span>
<span class="sh">    }</span>
<span class="dl">    RULE</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"consul_acl_token"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my test token"</span><span class="w"></span>
<span class="w">  </span><span class="na">policies</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">consul_acl_policy.agent.name</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">local</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Explicitly set the `accessor_id`</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"random_uuid"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"consul_acl_token"</span><span class="w"> </span><span class="nv">"test_predefined_id"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">accessor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">random_uuid.test_uuid.result</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my test uuid token"</span><span class="w"></span>
<span class="w">  </span><span class="na">policies</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">consul_acl_policy.agent.name</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">local</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>accessor_id</code> (String) The uuid of the token. If omitted, Consul will generate a random uuid.</li>
<li><code>description</code> (String) The description of the token.</li>
<li><code>expiration_time</code> (String) If set this represents the point after which a token should be considered revoked and is eligible for destruction.</li>
<li><code>local</code> (Boolean) The flag to set the token local to the current datacenter.</li>
<li><code>namespace</code> (String) The namespace to create the token within.</li>
<li><code>node_identities</code> (Block List) The list of node identities that should be applied to the token. (see <a href="#nestedblock--node_identities">below for nested schema</a>)</li>
<li><code>partition</code> (String) The partition the ACL token is associated with.</li>
<li><code>policies</code> (Set of String) The list of policies attached to the token.</li>
<li><code>roles</code> (Set of String) The list of roles attached to the token.</li>
<li><code>service_identities</code> (Block List) The list of service identities that should be applied to the token. (see <a href="#nestedblock--service_identities">below for nested schema</a>)</li>
<li><code>templated_policies</code> (Block List) The list of templated policies that should be applied to the token. (see <a href="#nestedblock--templated_policies">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>id</code> (String) The ID of this resource.</li>
</ul>

<p><a id="nestedblock--node_identities"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20node_identities"></a><h3 id="nested-schema-for-node_identities">Nested Schema for <code>node_identities</code></h3>

<p>Required:</p>

<ul>
<li><code>datacenter</code> (String) The datacenter of the node.</li>
<li><code>node_name</code> (String) The name of the node.</li>
</ul>

<p><a id="nestedblock--service_identities"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20service_identities"></a><h3 id="nested-schema-for-service_identities">Nested Schema for <code>service_identities</code></h3>

<p>Required:</p>

<ul>
<li><code>service_name</code> (String) The name of the service.</li>
</ul>

<p>Optional:</p>

<ul>
<li><code>datacenters</code> (List of String) Specifies the datacenters the effective policy is valid within.</li>
</ul>

<p><a id="nestedblock--templated_policies"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20templated_policies"></a><h3 id="nested-schema-for-templated_policies">Nested Schema for <code>templated_policies</code></h3>

<p>Required:</p>

<ul>
<li><code>template_name</code> (String) The name of the templated policies.</li>
</ul>

<p>Optional:</p>

<ul>
<li><code>datacenters</code> (List of String) Specifies the datacenters the effective policy is valid within.</li>
<li><code>template_variables</code> (Block List, Max: 1) The templated policy variables. (see <a href="#nestedblock--templated_policies--template_variables">below for nested schema</a>)</li>
</ul>

<p><a id="nestedblock--templated_policies--template_variables"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20templated_policies.template_variables"></a><h3 id="nested-schema-for-templated_policiestemplate_variables">Nested Schema for <code>templated_policies.template_variables</code></h3>

<p>Optional:</p>

<ul>
<li><code>name</code> (String) The name of node, workload identity or service.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>terraform import consul_acl_token.anonymous <span class="m">00000000</span>-0000-0000-0000-000000000002
terraform import consul_acl_token.master-token 624d94ca-bc5c-f960-4e83-0a609cf588be
</code></pre></div>

            
        
    </body></html>