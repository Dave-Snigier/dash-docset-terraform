<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/bedrockagent_knowledge_base --><head>
                <title>aws_bedrockagent_knowledge_base</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_bedrockagent_knowledge_base">Resource: aws_bedrockagent_knowledge_base</h1>

<p>Terraform resource for managing an AWS Agents for Amazon Bedrock Knowledge Base.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Usage"></a><h3 id="basic-usage">Basic Usage</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_bedrockagent_knowledge_base"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>
<span class="w">  </span><span class="nb">knowledge_base_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">vector_knowledge_base_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">embedding_model_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:bedrock:us-west-2::foundation-model/amazon.titan-embed-text-v2:0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VECTOR"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">storage_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"OPENSEARCH_SERVERLESS"</span><span class="w"></span>
<span class="w">    </span><span class="nb">opensearch_serverless_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">collection_arn</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:aoss:us-west-2:123456789012:collection/142bezjddq707i5stcrf"</span><span class="w"></span>
<span class="w">      </span><span class="na">vector_index_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bedrock-knowledge-base-default-index"</span><span class="w"></span>
<span class="w">      </span><span class="nb">field_mapping</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">vector_field</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"bedrock-knowledge-base-default-vector"</span><span class="w"></span>
<span class="w">        </span><span class="na">text_field</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMAZON_BEDROCK_TEXT_CHUNK"</span><span class="w"></span>
<span class="w">        </span><span class="na">metadata_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMAZON_BEDROCK_METADATA"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/With%20Supplemental%20Data%20Storage%20Configuration"></a><h3 id="with-supplemental-data-storage-configuration">With Supplemental Data Storage Configuration</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_bedrockagent_knowledge_base"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>
<span class="w">  </span><span class="nb">knowledge_base_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">vector_knowledge_base_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">embedding_model_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:bedrock:us-west-2::foundation-model/amazon.titan-embed-text-v2:0"</span><span class="w"></span>

<span class="w">      </span><span class="nb">embedding_model_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">bedrock_embedding_model_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">dimensions</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">1024</span><span class="w"></span>
<span class="w">          </span><span class="na">embedding_data_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"FLOAT32"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>

<span class="w">      </span><span class="nb">supplemental_data_storage_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">storage_location</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"S3"</span><span class="w"></span>

<span class="w">          </span><span class="nb">s3_location</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="na">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://my-bucket/chunk-processor/"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VECTOR"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">storage_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"OPENSEARCH_SERVERLESS"</span><span class="w"></span>
<span class="w">    </span><span class="nb">opensearch_serverless_configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">collection_arn</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:aoss:us-west-2:123456789012:collection/142bezjddq707i5stcrf"</span><span class="w"></span>
<span class="w">      </span><span class="na">vector_index_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bedrock-knowledge-base-default-index"</span><span class="w"></span>
<span class="w">      </span><span class="nb">field_mapping</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">vector_field</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"bedrock-knowledge-base-default-vector"</span><span class="w"></span>
<span class="w">        </span><span class="na">text_field</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMAZON_BEDROCK_TEXT_CHUNK"</span><span class="w"></span>
<span class="w">        </span><span class="na">metadata_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMAZON_BEDROCK_METADATA"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are required:</p>

<ul>
<li><code>knowledge_base_configuration</code> - (Required, Forces new resource) Details about the embeddings configuration of the knowledge base. See <a href="#knowledge_base_configuration-block"><code>knowledge_base_configuration</code> block</a> for details.</li>
<li><code>name</code> - (Required) Name of the knowledge base.</li>
<li><code>role_arn</code> - (Required) ARN of the IAM role with permissions to invoke API operations on the knowledge base.</li>
<li><code>storage_configuration</code> - (Required, Forces new resource) Details about the storage configuration of the knowledge base. See <a href="#storage_configuration-block"><code>storage_configuration</code> block</a> for details.</li>
</ul>

<p>The following arguments are optional:</p>

<ul>
<li><code>description</code> - (Optional) Description of the knowledge base.</li>
<li><code>tags</code> - (Optional) Map of tags assigned to the resource. If configured with a provider <a href="../index.html#default_tags-configuration-block"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/knowledge_base_configuration%20block"></a><h3 id="knowledge_base_configuration-block"><code>knowledge_base_configuration</code> block</h3>

<p>The <code>knowledge_base_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>type</code> - (Required) Type of data that the data source is converted into for the knowledge base. Valid Values: <code>VECTOR</code>.</li>
<li><code>vector_knowledge_base_configuration</code> - (Optional) Details about the embeddings model that'sused to convert the data source. See <a href="#vector_knowledge_base_configuration-block"><code>vector_knowledge_base_configuration</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/vector_knowledge_base_configuration%20block"></a><h3 id="vector_knowledge_base_configuration-block"><code>vector_knowledge_base_configuration</code> block</h3>

<p>The <code>vector_knowledge_base_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>embedding_model_arn</code> - (Required) ARN of the model used to create vector embeddings for the knowledge base.</li>
<li><code>embedding_model_configuration</code> - (Optional) The embeddings model configuration details for the vector model used in Knowledge Base.  See <a href="#embedding_model_configuration-block"><code>embedding_model_configuration</code> block</a> for details.</li>
<li><code>supplemental_data_storage_configuration</code> - (Optional) supplemental_data_storage_configuration.  See <a href="#supplemental_data_storage_configuration-block"><code>supplemental_data_storage_configuration</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/embedding_model_configuration%20block"></a><h3 id="embedding_model_configuration-block"><code>embedding_model_configuration</code> block</h3>

<p>The <code>embedding_model_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>bedrock_embedding_model_configuration</code> - (Optional) The vector configuration details on the Bedrock embeddings model.  See <a href="#bedrock_embedding_model_configuration-block"><code>bedrock_embedding_model_configuration</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/bedrock_embedding_model_configuration%20block"></a><h3 id="bedrock_embedding_model_configuration-block"><code>bedrock_embedding_model_configuration</code> block</h3>

<p>The <code>bedrock_embedding_model_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>dimensions</code> - (Optional) Dimension details for the vector configuration used on the Bedrock embeddings model.</li>
<li><code>embedding_data_type</code> - (Optional) Data type for the vectors when using a model to convert text into vector embeddings. The model must support the specified data type for vector embeddings.  Valid values are <code>FLOAT32</code> and <code>BINARY</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/supplemental_data_storage_configuration%20block"></a><h3 id="supplemental_data_storage_configuration-block"><code>supplemental_data_storage_configuration</code> block</h3>

<p>The <code>supplemental_data_storage_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>storage_location</code> - (Required) A storage location specification for images extracted from multimodal documents in your data source.  See <a href="#storage_location-block"><code>storage_location</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/storage_location%20block"></a><h3 id="storage_location-block"><code>storage_location</code> block</h3>

<p>The <code>storage_location</code> configuration block supports the following arguments:</p>

<ul>
<li><code>type</code> - (Required) Storage service used for this location. <code>S3</code> is the only valid value.</li>
<li><code>s3_location</code> - (Optional) Contains information about the Amazon S3 location for the extracted images.  See <a href="#s3_location-block"><code>s3_location</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/s3_location%20block"></a><h3 id="s3_location-block"><code>s3_location</code> block</h3>

<p>The <code>s3_location</code> configuration block supports the following arguments:</p>

<ul>
<li><code>uri</code> - (Required) URI of the location.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/storage_configuration%20block"></a><h3 id="storage_configuration-block"><code>storage_configuration</code> block</h3>

<p>The <code>storage_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>type</code> - (Required) Vector store service in which the knowledge base is stored. Valid Values: <code>OPENSEARCH_SERVERLESS</code>, <code>PINECONE</code>, <code>REDIS_ENTERPRISE_CLOUD</code>, <code>RDS</code>.</li>
<li><code>opensearch_serverless_configuration</code> - (Optional) The storage configuration of the knowledge base in Amazon OpenSearch Service. See <a href="#opensearch_serverless_configuration-block"><code>opensearch_serverless_configuration</code> block</a> for details.</li>
<li><code>pinecone_configuration</code> - (Optional)  The storage configuration of the knowledge base in Pinecone. See <a href="#pinecone_configuration-block"><code>pinecone_configuration</code> block</a> for details.</li>
<li><code>rds_configuration</code> - (Optional) Details about the storage configuration of the knowledge base in Amazon RDS. For more information, see <a href="https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-setup.html">Create a vector index in Amazon RDS</a>. See <a href="#rds_configuration-block"><code>rds_configuration</code> block</a> for details.</li>
<li><code>redis_enterprise_cloud_configuration</code> - (Optional) The storage configuration of the knowledge base in Redis Enterprise Cloud. See <a href="#redis_enterprise_cloud_configuration-block"><code>redis_enterprise_cloud_configuration</code> block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/opensearch_serverless_configuration%20block"></a><h3 id="opensearch_serverless_configuration-block"><code>opensearch_serverless_configuration</code> block</h3>

<p>The <code>opensearch_serverless_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>collection_arn</code> - (Required) ARN of the OpenSearch Service vector store.</li>
<li><code>field_mapping</code> - (Required) The names of the fields to which to map information about the vector store. This block supports the following arguments:
<ul>
<li><code>metadata_field</code> - (Required) Name of the field in which Amazon Bedrock stores metadata about the vector store.</li>
<li><code>text_field</code> - (Required) Name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.</li>
<li><code>vector_field</code> - (Required) Name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.</li>
</ul></li>
<li><code>vector_index_name</code> - (Required) Name of the vector store.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/pinecone_configuration%20block"></a><h3 id="pinecone_configuration-block"><code>pinecone_configuration</code> block</h3>

<p>The <code>pinecone_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>connection_string</code> - (Required) Endpoint URL for your index management page.</li>
<li><code>credentials_secret_arn</code> - (Required) ARN of the secret that you created in AWS Secrets Manager that is linked to your Pinecone API key.</li>
<li><code>field_mapping</code> - (Required) The names of the fields to which to map information about the vector store. This block supports the following arguments:
<ul>
<li><code>metadata_field</code> - (Required) Name of the field in which Amazon Bedrock stores metadata about the vector store.</li>
<li><code>text_field</code> - (Required) Name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.</li>
</ul></li>
<li><code>namespace</code> - (Optional) Namespace to be used to write new data to your database.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/rds_configuration%20block"></a><h3 id="rds_configuration-block"><code>rds_configuration</code> block</h3>

<p>The <code>rds_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>credentials_secret_arn</code> - (Required) ARN of the secret that you created in AWS Secrets Manager that is linked to your Amazon RDS database.</li>
<li><code>database_name</code> - (Required) Name of your Amazon RDS database.</li>
<li><code>field_mapping</code> - (Required) Names of the fields to which to map information about the vector store. This block supports the following arguments:
<ul>
<li><code>metadata_field</code> - (Required) Name of the field in which Amazon Bedrock stores metadata about the vector store.</li>
<li><code>primary_key_field</code> - (Required) Name of the field in which Amazon Bedrock stores the ID for each entry.</li>
<li><code>text_field</code> - (Required) Name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.</li>
<li><code>vector_field</code> - (Required) Name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.</li>
</ul></li>
<li><code>resource_arn</code> - (Required) ARN of the vector store.</li>
<li><code>table_name</code> - (Required) Name of the table in the database.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/redis_enterprise_cloud_configuration%20block"></a><h3 id="redis_enterprise_cloud_configuration-block"><code>redis_enterprise_cloud_configuration</code> block</h3>

<p>The <code>redis_enterprise_cloud_configuration</code> configuration block supports the following arguments:</p>

<ul>
<li><code>credentials_secret_arn</code> - (Required) ARN of the secret that you created in AWS Secrets Manager that is linked to your Redis Enterprise Cloud database.</li>
<li><code>endpoint</code> - (Required) Endpoint URL of the Redis Enterprise Cloud database.</li>
<li><code>field_mapping</code> - (Required) The names of the fields to which to map information about the vector store. This block supports the following arguments:
<ul>
<li><code>metadata_field</code> - (Required) Name of the field in which Amazon Bedrock stores metadata about the vector store.</li>
<li><code>text_field</code> - (Required) Name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.</li>
<li><code>vector_field</code> - (Required) Name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.</li>
</ul></li>
<li><code>vector_index_name</code> - (Required) Name of the vector index.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>arn</code> - ARN of the knowledge base.</li>
<li><code>created_at</code> - Time at which the knowledge base was created.</li>
<li><code>id</code> - Unique identifier of the knowledge base.</li>
<li><code>tags_all</code> - Map of tags assigned to the resource, including those inherited from the provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a>.</li>
<li><code>updated_at</code> - Time at which the knowledge base was last updated.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p><a href="https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts">Configuration options</a>:</p>

<ul>
<li><code>create</code> - (Default <code>30m</code>)</li>
<li><code>update</code> - (Default <code>30m</code>)</li>
<li><code>delete</code> - (Default <code>30m</code>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Agents for Amazon Bedrock Knowledge Base using the knowledge base ID. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_bedrockagent_knowledge_base.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"EMDPPAYPZI"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import Agents for Amazon Bedrock Knowledge Base using the knowledge base ID. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_bedrockagent_knowledge_base.example EMDPPAYPZI
</code></pre></div>

            
        
    </body></html>