<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/hcp/latest/docs/resources/vault_secrets_app_iam_policy --><head>
                <title>hcp_vault_secrets_app_iam_policy</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="hcp_vault_secrets_app_iam_policy-resource">hcp_vault_secrets_app_iam_policy (Resource)</h1>

<aside class="admonition danger">
    <strong>danger</strong>
    <em>Be Careful!</em>
    <p>You can accidentally lock yourself out of your vault secrets app using this resource. Deleting a hcp_vault_secrets_app_iam_policy removes access from anyone without organization or project level access to the app. This resource should generally only be used with apps fully managed by Terraform. If you are trying to additively give permissions to the app, prefer using <code>hcp_vault_secrets_app_iam_binding</code>. If you do use this resource, it is recommended to import the policy before applying the change.</p>
</aside>

<p>Sets the Vault Secrets App IAM policy and replaces any existing policy.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p><code>hcp_vault_secrets_app_iam_policy</code> can not be used in conjunction with <code>hcp_vault_secrets_app_iam_binding</code>.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"hcp_iam_policy"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bindings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"roles/secrets.app-secret-reader"</span><span class="w"></span>
<span class="w">      </span><span class="na">principals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-user-id-1"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-group-id-1"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-sp-1"</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="kr">resource</span><span class="w"> </span><span class="nc">"hcp_vault_secrets_app"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">app_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-app-name"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"My new app!"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"hcp_vault_secrets_app_iam_policy"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hcp_vault_secrets_app.example.resource_name</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_data</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">data.hcp_iam_policy.example.policy_data</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>policy_data</code> (String) The policy to apply.</li>
<li><code>resource_name</code> (String) The app's resource name in the format secrets/project/<project id="">/app/<app name="">.</app></project></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>etag</code> (String) The etag captures the existing state of the policy.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Vault Secrets App IAM Policy can be imported by specifying the resource name of the app</span>
terraform import hcp_vault_secrets_app_iam_policy.example secrets/project/41d107a7-eea6-4b5e-8481-508ab29e2b07/app/example-app-name
</code></pre></div>

            
        
    </body></html>