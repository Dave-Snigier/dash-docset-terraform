<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/nomad/latest/docs/data-sources/plugin --><head>
                <title>nomad_plugin</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="nomad_plugin">nomad_plugin</h1>

<p>Lookup a plugin by ID. The aim of this datasource is to determine whether
a particular plugin exists on the cluster, to find information on the health
and availability of the plugin, and to optionally wait for the plugin
before performing actions the require an available plugin controller.</p>

<p>If a plugin with the specified ID does not exist and the datasource is not
configured to wait, it will result in an error. For simple existence checks,
use the <code>nomad_plugins</code> listing datasource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>Check for the existence of a plugin:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"nomad_plugin"</span><span class="w"> </span><span class="nv">"ebs"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">plugin_id</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"aws-ebs0"</span><span class="w"></span>
<span class="w">  </span><span class="na">wait_for_healthy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>This will check for a plugin with the ID <code>aws-ebs0</code>, waiting until the plugin
is healthy before returning.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>plugin_id</code>: <code>(string)</code> ID of the plugin.</li>
<li><code>wait_for_registration</code>: <code>(boolean)</code> if the plugin doesn't exist, retry until it does</li>
<li><code>wait_for_healthy</code>: <code>(boolean)</code> retry until the plugin exists and all controllers are healthy</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>plugin_id</code>: <code>(string)</code> ID of the plugin</li>
<li><code>plugin_provider</code>: <code>(string)</code> Plugin provider name</li>
<li><code>plugin_provider_version</code>: <code>(string)</code> Plugin provider version</li>
<li><code>controller_required</code>: <code>(boolean)</code> Whether a controller is required.</li>
<li><code>controllers_expected</code>: <code>(integer)</code> The number of registered controllers.</li>
<li><code>controllers_healthy</code>: <code>(integer)</code> The number of healthy controllers.</li>
<li><code>nodes_expected</code>: <code>(integer)</code> The number of registered nodes.</li>
<li><code>nodes_healthy</code>: <code>(integer)</code> The number of healthy nodes.</li>
</ul>

            
        
    </body></html>