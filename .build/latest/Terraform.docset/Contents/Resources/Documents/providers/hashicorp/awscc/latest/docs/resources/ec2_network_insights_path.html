<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/ec2_network_insights_path --><head>
                <title>awscc_ec2_network_insights_path</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_ec2_network_insights_path-resource">awscc_ec2_network_insights_path (Resource)</h1>

<p>Resource schema for AWS::EC2::NetworkInsightsPath</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Network%20Insights%20Path%20Analysis%20Between%20EC2%20Instances"></a><h3 id="network-insights-path-analysis-between-ec2-instances">Network Insights Path Analysis Between EC2 Instances</h3>

<p>Creates a Network Insights Path to analyze TCP connectivity on port 80 between two EC2 instances in a VPC, complete with necessary security groups and networking configuration.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Get default VPC</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_vpc"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_subnets"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"vpc-id"</span><span class="w"></span>
<span class="w">    </span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">data.aws_vpc.default.id</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_subnet"</span><span class="w"> </span><span class="nv">"selected"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">tolist</span><span class="p">(</span><span class="nv">data.aws_subnets.default.ids</span><span class="p">)[</span><span class="m">0</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Security Groups</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_security_group"</span><span class="w"> </span><span class="nv">"example_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">group_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Security group for source instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_vpc.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">security_group_ingress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow SSH"</span><span class="w"></span>
<span class="w">    </span><span class="na">from_port</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">22</span><span class="w"></span>
<span class="w">    </span><span class="na">to_port</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">22</span><span class="w"></span>
<span class="w">    </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w"></span>
<span class="w">    </span><span class="na">cidr_ip</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-insights-sg-1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_security_group"</span><span class="w"> </span><span class="nv">"example_2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">group_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Security group for destination instance"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_vpc.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">security_group_ingress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow HTTP"</span><span class="w"></span>
<span class="w">    </span><span class="na">from_port</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="na">to_port</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w"></span>
<span class="w">    </span><span class="na">cidr_ip</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-insights-sg-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_ami"</span><span class="w"> </span><span class="nv">"amazon_linux_2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">most_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">  </span><span class="nb">filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"name"</span><span class="w"></span>
<span class="w">    </span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"amzn2-ami-hvm-*-x86_64-gp2"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"virtualization-type"</span><span class="w"></span>
<span class="w">    </span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"hvm"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">owners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"amazon"</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create EC2 Instances</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_instance"</span><span class="w"> </span><span class="nv">"source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"t3.micro"</span><span class="w"></span>
<span class="w">  </span><span class="na">subnet_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_subnet.selected.id</span><span class="w"></span>
<span class="w">  </span><span class="na">security_group_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nv">awscc_ec2_security_group.example_1.id</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">image_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_ami.amazon_linux_2.id</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-insights-source"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_instance"</span><span class="w"> </span><span class="nv">"destination"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"t3.micro"</span><span class="w"></span>
<span class="w">  </span><span class="na">subnet_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_subnet.selected.id</span><span class="w"></span>
<span class="w">  </span><span class="na">security_group_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nv">awscc_ec2_security_group.example_2.id</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">image_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_ami.amazon_linux_2.id</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-insights-destination"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Network Insights Path</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_network_insights_path"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">source</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_instance.source.id</span><span class="w"></span>
<span class="w">  </span><span class="na">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_instance.destination.id</span><span class="w"></span>
<span class="w">  </span><span class="na">protocol</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w"></span>

<span class="w">  </span><span class="na">destination_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>

<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-network-insights-path"</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>protocol</code> (String)</li>
<li><code>source</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>destination</code> (String)</li>
<li><code>destination_ip</code> (String)</li>
<li><code>destination_port</code> (Number)</li>
<li><code>filter_at_destination</code> (Attributes) (see <a href="#nestedatt--filter_at_destination">below for nested schema</a>)</li>
<li><code>filter_at_source</code> (Attributes) (see <a href="#nestedatt--filter_at_source">below for nested schema</a>)</li>
<li><code>source_ip</code> (String)</li>
<li><code>tags</code> (Attributes List) (see <a href="#nestedatt--tags">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>created_date</code> (String)</li>
<li><code>destination_arn</code> (String)</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>network_insights_path_arn</code> (String)</li>
<li><code>network_insights_path_id</code> (String)</li>
<li><code>source_arn</code> (String)</li>
</ul>

<p><a id="nestedatt--filter_at_destination"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_destination"></a><h3 id="nested-schema-for-filter_at_destination">Nested Schema for <code>filter_at_destination</code></h3>

<p>Optional:</p>

<ul>
<li><code>destination_address</code> (String)</li>
<li><code>destination_port_range</code> (Attributes) (see <a href="#nestedatt--filter_at_destination--destination_port_range">below for nested schema</a>)</li>
<li><code>source_address</code> (String)</li>
<li><code>source_port_range</code> (Attributes) (see <a href="#nestedatt--filter_at_destination--source_port_range">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--filter_at_destination--destination_port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_destination.destination_port_range"></a><h3 id="nested-schema-for-filter_at_destinationdestination_port_range">Nested Schema for <code>filter_at_destination.destination_port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from_port</code> (Number)</li>
<li><code>to_port</code> (Number)</li>
</ul>

<p><a id="nestedatt--filter_at_destination--source_port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_destination.source_port_range"></a><h3 id="nested-schema-for-filter_at_destinationsource_port_range">Nested Schema for <code>filter_at_destination.source_port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from_port</code> (Number)</li>
<li><code>to_port</code> (Number)</li>
</ul>

<p><a id="nestedatt--filter_at_source"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_source"></a><h3 id="nested-schema-for-filter_at_source">Nested Schema for <code>filter_at_source</code></h3>

<p>Optional:</p>

<ul>
<li><code>destination_address</code> (String)</li>
<li><code>destination_port_range</code> (Attributes) (see <a href="#nestedatt--filter_at_source--destination_port_range">below for nested schema</a>)</li>
<li><code>source_address</code> (String)</li>
<li><code>source_port_range</code> (Attributes) (see <a href="#nestedatt--filter_at_source--source_port_range">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--filter_at_source--destination_port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_source.destination_port_range"></a><h3 id="nested-schema-for-filter_at_sourcedestination_port_range">Nested Schema for <code>filter_at_source.destination_port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from_port</code> (Number)</li>
<li><code>to_port</code> (Number)</li>
</ul>

<p><a id="nestedatt--filter_at_source--source_port_range"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20filter_at_source.source_port_range"></a><h3 id="nested-schema-for-filter_at_sourcesource_port_range">Nested Schema for <code>filter_at_source.source_port_range</code></h3>

<p>Optional:</p>

<ul>
<li><code>from_port</code> (Number)</li>
<li><code>to_port</code> (Number)</li>
</ul>

<p><a id="nestedatt--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20tags"></a><h3 id="nested-schema-for-tags">Nested Schema for <code>tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String)</li>
<li><code>value</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_ec2_network_insights_path.example <span class="s2">"network_insights_path_id"</span>
</code></pre></div>

            
        
    </body></html>