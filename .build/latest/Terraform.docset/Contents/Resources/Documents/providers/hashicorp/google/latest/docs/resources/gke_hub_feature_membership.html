<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/gke_hub_feature_membership --><head>
                <title>google_gke_hub_feature_membership</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_gkehub_feature_membership">google_gkehub_feature_membership</h1>

<p>Contains information about a GKEHub Feature Memberships. Feature Memberships configure GKEHub Features that apply to specific memberships rather than the project as a whole. The google_gke_hub is the Fleet API.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Config%20Management%20with%20Config%20Sync%20auto-upgrades%20and%20without%20Git/OCI"></a><h2 id="example-usage-config-management-with-config-sync-auto-upgrades-and-without-gitoci">Example Usage - Config Management with Config Sync auto-upgrades and without Git/OCI</h2>

<p>With <a href="https://cloud.devsite.corp.google.com/kubernetes-engine/enterprise/config-sync/docs/how-to/upgrade-config-sync#auto-upgrade-config">Config Sync auto-upgrades</a>, Google assumes responsibility for automatically upgrading Config Sync versions
and overseeing the lifecycle of its components.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"configmanagement"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>

<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">configmanagement</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">    # Don't use the `version` field with Config Sync auto-upgrades.</span>
<span class="c1">    # To disable Config Sync auto-upgrades, you need to set the field `management` to</span>
<span class="c1">    # `MANAGEMENT_MANUAL` if it has been set previously. Removing the field does not work.</span>
<span class="w">    </span><span class="na">management</span><span class="o">=</span><span class="w"> </span><span class="s2">"MANAGEMENT_AUTOMATIC"</span><span class="w"></span>
<span class="w">    </span><span class="nb">config_sync</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">      # The field `enabled` was introduced in Terraform version 5.41.0, and</span>
<span class="c1">      # needs to be set to `true` explicitly to install Config Sync.</span>
<span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Config%20Management%20with%20Git"></a><h2 id="example-usage-config-management-with-git">Example Usage - Config Management with Git</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"configmanagement"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>

<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">configmanagement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.19.0"</span><span class="w"></span>
<span class="w">    </span><span class="nb">config_sync</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="nb">git</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">sync_repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.com/hashicorp/terraform"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Config%20Management%20with%20OCI"></a><h2 id="example-usage-config-management-with-oci">Example Usage - Config Management with OCI</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"configmanagement"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>

<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">configmanagement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.19.0"</span><span class="w"></span>
<span class="w">    </span><span class="nb">config_sync</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="nb">oci</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">sync_repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-docker.pkg.dev/sample-project/config-repo/config-sync-gke:latest"</span><span class="w"></span>
<span class="w">        </span><span class="na">policy_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"config-connector"</span><span class="w"></span>
<span class="w">        </span><span class="na">sync_wait_secs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"20"</span><span class="w"></span>
<span class="w">        </span><span class="na">secret_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"gcpserviceaccount"</span><span class="w"></span>
<span class="w">        </span><span class="na">gcp_service_account_email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"sa@project-id.iam.gserviceaccount.com"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Config%20Management%20with%20Regional%20Membership"></a><h2 id="example-usage-config-management-with-regional-membership">Example Usage - Config Management with Regional Membership</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"configmanagement"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>

<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.location</span><span class="w"></span>
<span class="w">  </span><span class="nb">configmanagement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.19.0"</span><span class="w"></span>
<span class="w">    </span><span class="nb">config_sync</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="nb">git</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">sync_repo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.com/hashicorp/terraform"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Multi%20Cluster%20Service%20Discovery"></a><h2 id="example-usage-multi-cluster-service-discovery">Example Usage - Multi Cluster Service Discovery</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"multiclusterservicediscovery"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Service%20Mesh"></a><h2 id="example-usage-service-mesh">Example Usage - Service Mesh</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"servicemesh"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">mesh</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">management</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MANAGEMENT_AUTOMATIC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Policy%20Controller%20with%20minimal%20configuration"></a><h2 id="example-usage-policy-controller-with-minimal-configuration">Example Usage - Policy Controller with minimal configuration</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"policycontroller"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">policycontroller</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">policy_controller_hub_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">install_spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INSTALL_SPEC_ENABLED"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Policy%20Controller%20with%20custom%20configurations"></a><h2 id="example-usage-policy-controller-with-custom-configurations">Example Usage - Policy Controller with custom configurations</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-a"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_membership"</span><span class="w"> </span><span class="nv">"membership"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">membership_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-membership"</span><span class="w"></span>
<span class="w">  </span><span class="nb">endpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_cluster</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">resource_link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"//container.googleapis.com/${google_container_cluster.cluster.id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature"</span><span class="w"> </span><span class="nv">"feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"policycontroller"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_gke_hub_feature_membership"</span><span class="w"> </span><span class="nv">"feature_member"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"global"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature.feature.name</span><span class="w"></span>
<span class="w">  </span><span class="na">membership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_membership.membership.membership_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">policycontroller</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">policy_controller_hub_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">install_spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INSTALL_SPEC_SUSPENDED"</span><span class="w"></span>
<span class="w">      </span><span class="nb">policy_content</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">template_library</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="na">installation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NOT_INSTALLED"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="na">constraint_violation_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50</span><span class="w"></span>
<span class="w">      </span><span class="na">audit_interval_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">120</span><span class="w"></span>
<span class="w">      </span><span class="na">referential_rules_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="na">log_denies_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">      </span><span class="na">mutation_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.17.0"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<hr/>

<ul>
<li><p><code>configmanagement</code> -
(Optional)
Config Management-specific spec. Structure is <a href="#nested_configmanagement">documented below</a>.</p></li>
<li><p><code>mesh</code> -
(Optional)
Service mesh specific spec. Structure is <a href="#nested_mesh">documented below</a>.</p></li>
<li><p><code>policycontroller</code> -
(Optional)
Policy Controller-specific spec. Structure is <a href="#nested_policycontroller">documented below</a>.</p></li>
<li><p><code>feature</code> -
(Optional)
The name of the feature</p></li>
<li><p><code>location</code> -
(Optional)
The location of the feature</p></li>
<li><p><code>membership</code> -
(Optional)
The name of the membership  </p></li>
<li><p><code>membership_location</code> -
(Optional)
The location of the membership, for example, "us-central1". Default is "global".</p></li>
<li><p><code>project</code> -
(Optional)
The project of the feature</p></li>
</ul>

<p><a name="nested_configmanagement"></a>The <code>configmanagement</code> block supports:</p>

<ul>
<li><p><code>config_sync</code> -
(Optional)
Config Sync configuration for the cluster. Structure is <a href="#nested_config_sync">documented below</a>.</p></li>
<li><p><code>management</code> -
(Optional)
Set this field to MANAGEMENT_AUTOMATIC to enable
<a href="http://cloud/kubernetes-engine/enterprise/config-sync/docs/how-to/upgrade-config-sync#auto-upgrade-config">Config Sync auto-upgrades</a>,
and set this field to MANAGEMENT_MANUAL or MANAGEMENT_UNSPECIFIED to disable Config Sync auto-upgrades.
This field was introduced in Terraform version <a href="https://github.com/hashicorp/terraform-provider-google/releases/tag/v5.41.0">5.41.0</a>.</p></li>
<li><p><code>version</code> -
(Optional)
Version of Config Sync installed.</p></li>
<li><p><code>binauthz</code> -
(Optional, Deprecated)
Binauthz configuration for the cluster. Structure is <a href="#nested_binauthz">documented below</a>.
This field will be ignored and should not be set.</p></li>
<li><p><code>hierarchy_controller</code> -
(Optional)
Hierarchy Controller configuration for the cluster. Structure is <a href="#nested_hierarchy_controller">documented below</a>.
Configuring Hierarchy Controller through the configmanagement feature is no longer recommended.
Use open source Kubernetes <a href="https://github.com/kubernetes-sigs/hierarchical-namespaces">Hierarchical Namespace Controller (HNC)</a> instead.
Follow the <a href="https://cloud.google.com/kubernetes-engine/enterprise/config-sync/docs/how-to/migrate-hierarchy-controller">instructions</a>
to migrate from Hierarchy Controller to HNC.</p></li>
<li><p><code>policy_controller</code> -
(Optional)
Policy Controller configuration for the cluster. Structure is <a href="#nested_policy_controller">documented below</a>.
Configuring Policy Controller through the configmanagement feature is no longer recommended.
Use the policycontroller feature instead.</p></li>
</ul>

<p><a name="nested_binauthz"></a>The <code>binauthz</code> block supports:</p>

<ul>
<li><code>enabled</code> -
(Optional)
Whether binauthz is enabled in this cluster.</li>
</ul>

<p><a name="nested_config_sync"></a>The <code>config_sync</code> block supports:</p>

<ul>
<li><p><code>enabled</code> -
(Optional)
Whether Config Sync is enabled in the cluster. This field was introduced in Terraform version
<a href="https://github.com/hashicorp/terraform-provider-google/releases/tag/v5.41.0">5.41.0</a>, and
needs to be set to <code>true</code> explicitly to install Config Sync.</p></li>
<li><p><code>git</code> -
(Optional) Structure is <a href="#nested_git">documented below</a>.</p></li>
<li><p><code>oci</code> -
(Optional) Supported from Config Sync versions 1.12.0 onwards. Structure is <a href="#nested_oci">documented below</a>.</p>

<p>Use either <code>git</code> or <code>oci</code> config option.</p></li>
<li><p><code>prevent_drift</code> -
(Optional)
Supported from Config Sync versions 1.10.0 onwards. Set to <code>true</code> to enable the Config Sync admission webhook to prevent drifts. If set to <code>false</code>, disables the Config Sync admission webhook and does not prevent drifts.</p></li>
<li><p><code>source_format</code> -
(Optional)
Specifies whether the Config Sync Repo is in "hierarchical" or "unstructured" mode.</p></li>
<li><p><code>stop_syncing</code> -
(Optional)
Set to <code>true</code> to stop syncing configurations for a single cluster. This field is only available on clusters using Config Sync <a href="http://cloud/kubernetes-engine/enterprise/config-sync/docs/how-to/upgrade-config-sync#auto-upgrade-config">auto-upgrades</a> or on Config Sync version 1.20.0 or later. Defaults: <code>false</code>.</p></li>
</ul>

<p><a name="nested_git"></a>The <code>git</code> block supports:</p>

<ul>
<li><p><code>gcp_service_account_email</code> -
(Optional)
The GCP Service Account Email used for auth when secretType is gcpServiceAccount.</p></li>
<li><p><code>https_proxy</code> -
(Optional)
URL for the HTTPS proxy to be used when communicating with the Git repo.</p></li>
<li><p><code>policy_dir</code> -
(Optional)
The path within the Git repository that represents the top level of the repo to sync. Default: the root directory of the repository.</p></li>
<li><p><code>secret_type</code> -
(Optional)
Type of secret configured for access to the Git repo.</p></li>
<li><p><code>sync_branch</code> -
(Optional)
The branch of the repository to sync from. Default: master.</p></li>
<li><p><code>sync_repo</code> -
(Optional)
The URL of the Git repository to use as the source of truth.</p></li>
<li><p><code>sync_rev</code> -
(Optional)
Git revision (tag or hash) to check out. Default HEAD.</p></li>
<li><p><code>sync_wait_secs</code> -
(Optional)
Period in seconds between consecutive syncs. Default: 15.</p></li>
</ul>

<p><a name="nested_oci"></a>The <code>oci</code> block supports:</p>

<ul>
<li><p><code>gcp_service_account_email</code> -
(Optional)
The GCP Service Account Email used for auth when secret_type is gcpserviceaccount.</p></li>
<li><p><code>policy_dir</code> -
(Optional)
The absolute path of the directory that contains the local resources. Default: the root directory of the image.</p></li>
<li><p><code>secret_type</code> -
(Optional)
Type of secret configured for access to the OCI Image. Must be one of gcenode, gcpserviceaccount or none.</p></li>
<li><p><code>sync_repo</code> -
(Optional)
The OCI image repository URL for the package to sync from. e.g. LOCATION-docker.pkg.dev/PROJECT_ID/REPOSITORY_NAME/PACKAGE_NAME.</p></li>
<li><p><code>sync_wait_secs</code> -
(Optional)
Period in seconds(int64 format) between consecutive syncs. Default: 15.</p></li>
</ul>

<p><a name="nested_hierarchy_controller"></a>The <code>hierarchy_controller</code> block supports:</p>

<ul>
<li><p><code>enable_hierarchical_resource_quota</code> -
(Optional)
Whether hierarchical resource quota is enabled in this cluster.</p></li>
<li><p><code>enable_pod_tree_labels</code> -
(Optional)
Whether pod tree labels are enabled in this cluster.</p></li>
<li><p><code>enabled</code> -
(Optional)
Whether Hierarchy Controller is enabled in this cluster.</p></li>
</ul>

<p><a name="nested_policy_controller"></a>The <code>policy_controller</code> block supports:</p>

<ul>
<li><p><code>audit_interval_seconds</code> -
(Optional)
Sets the interval for Policy Controller Audit Scans (in seconds). When set to 0, this disables audit functionality altogether.</p></li>
<li><p><code>enabled</code> -
(Optional)
Enables the installation of Policy Controller. If false, the rest of PolicyController fields take no effect.</p></li>
<li><p><code>exemptable_namespaces</code> -
(Optional)
The set of namespaces that are excluded from Policy Controller checks. Namespaces do not need to currently exist on the cluster.</p></li>
<li><p><code>log_denies_enabled</code> -
(Optional)
Logs all denies and dry run failures.</p></li>
<li><p><code>referential_rules_enabled</code> -
(Optional)
Enables the ability to use Constraint Templates that reference to objects other than the object currently being evaluated.</p></li>
<li><p><code>template_library_installed</code> -
(Optional)
Installs the default template library along with Policy Controller.</p></li>
<li><p><code>mutation_enabled</code> -
(Optional)
Enables mutation in policy controller. If true, mutation CRDs, webhook, and controller deployment will be deployed to the cluster.</p></li>
<li><p><code>monitoring</code> -
(Optional)
Specifies the backends Policy Controller should export metrics to. For example, to specify metrics should be exported to Cloud Monitoring and Prometheus, specify backends: ["cloudmonitoring", "prometheus"]. Default: ["cloudmonitoring", "prometheus"]    </p></li>
</ul>

<p><a name="nested_mesh"></a>The <code>mesh</code> block supports:</p>

<ul>
<li><code>management</code> -
(Optional)
Whether to automatically manage Service Mesh. Can either be <code>MANAGEMENT_AUTOMATIC</code> or <code>MANAGEMENT_MANUAL</code>.</li>
</ul>

<p><a name="nested_policycontroller"></a>The <code>policycontroller</code> block supports:</p>

<ul>
<li><p><code>version</code> -
(Optional)
Version of Policy Controller to install. Defaults to the latest version.</p></li>
<li><p><code>policy_controller_hub_config</code> -
Policy Controller configuration for the cluster. Structure is <a href="#nested_policy_controller_hub_config">documented below</a>.</p></li>
</ul>

<p><a name="nested_policy_controller_hub_config"></a>The <code>policy_controller_hub_config</code> block supports:</p>

<ul>
<li><p><code>install_spec</code> -
(Optional)
Configures the mode of the Policy Controller installation. Must be one of <code>INSTALL_SPEC_NOT_INSTALLED</code>, <code>INSTALL_SPEC_ENABLED</code>, <code>INSTALL_SPEC_SUSPENDED</code> or <code>INSTALL_SPEC_DETACHED</code>.</p></li>
<li><p><code>exemptable_namespaces</code> -
(Optional)
The set of namespaces that are excluded from Policy Controller checks. Namespaces do not need to currently exist on the cluster.</p></li>
<li><p><code>referential_rules_enabled</code> -
(Optional)
Enables the ability to use Constraint Templates that reference to objects other than the object currently being evaluated.</p></li>
<li><p><code>log_denies_enabled</code> -
(Optional)
Logs all denies and dry run failures.</p></li>
<li><p><code>mutation_enabled</code> -
(Optional)
Enables mutation in policy controller. If true, mutation CRDs, webhook, and controller deployment will be deployed to the cluster.</p></li>
<li><p><code>monitoring</code> -
(Optional)
Specifies the backends Policy Controller should export metrics to. Structure is <a href="#nested_monitoring">documented below</a>.</p></li>
<li><p><code>audit_interval_seconds</code> -
(Optional)
Sets the interval for Policy Controller Audit Scans (in seconds). When set to 0, this disables audit functionality altogether.</p></li>
<li><p><code>constraint_violation_limit</code> -
(Optional)
The maximum number of audit violations to be stored in a constraint. If not set, the  default of 20 will be used.</p>

<ul>
<li><code>deployment_configs</code> -
(Optional)
Map of deployment configs to deployments ("admission", "audit", "mutation").</li>
</ul></li>
<li><p><code>policy_content</code> -
(Optional)
Specifies the desired policy content on the cluster. Structure is <a href="#nested_policy_content">documented below</a>.</p></li>
</ul>

<p><a name="nested_monitoring"></a>The <code>monitoring</code> block supports:</p>

<ul>
<li><code>backends</code>
(Optional)
Specifies the list of backends Policy Controller will export to. Must be one of <code>CLOUD_MONITORING</code> or <code>PROMETHEUS</code>. Defaults to [<code>CLOUD_MONITORING</code>, <code>PROMETHEUS</code>]. Specifying an empty value <code>[]</code> disables metrics export.</li>
</ul>

<p><a name="nested_deployment_configs"></a>The <code>deployment_configs</code> block supports:</p>

<ul>
<li><p><code>component_name</code> -
(Required)
The name of the component. One of <code>admission</code> <code>audit</code> or <code>mutation</code></p></li>
<li><p><code>container_resources</code> -
(Optional)
Container resource requirements.</p></li>
<li><p><code>pod_affinity</code> -
(Optional)
Pod affinity configuration. Possible values: AFFINITY_UNSPECIFIED, NO_AFFINITY, ANTI_AFFINITY</p></li>
<li><p><code>pod_tolerations</code> -
(Optional)
Pod tolerations of node taints.</p></li>
<li><p><code>replica_count</code> -
(Optional)
Pod replica count.</p></li>
</ul>

<p><a name="nested_container_resources"></a>The <code>container_resources</code> block supports:</p>

<ul>
<li><p><code>limits</code> -
(Optional)
Limits describes the maximum amount of compute resources allowed for use by the running container.</p></li>
<li><p><code>requests</code> -
(Optional)
Requests describes the amount of compute resources reserved for the container by the kube-scheduler.</p></li>
</ul>

<p><a name="nested_limits"></a>The <code>limits</code> block supports:</p>

<ul>
<li><p><code>cpu</code> -
(Optional)
CPU requirement expressed in Kubernetes resource units.</p></li>
<li><p><code>memory</code> -
(Optional)
Memory requirement expressed in Kubernetes resource units.</p></li>
</ul>

<p><a name="nested_requests"></a>The <code>requests</code> block supports:</p>

<ul>
<li><p><code>cpu</code> -
(Optional)
CPU requirement expressed in Kubernetes resource units.</p></li>
<li><p><code>memory</code> -
(Optional)
Memory requirement expressed in Kubernetes resource units.</p></li>
</ul>

<p><a name="nested_pod_tolerations"></a>The <code>pod_tolerations</code> block supports:</p>

<ul>
<li><p><code>effect</code> -
(Optional)
Matches a taint effect.</p></li>
<li><p><code>key</code> -
(Optional)
Matches a taint key (not necessarily unique).</p></li>
<li><p><code>operator</code> -
(Optional)
Matches a taint operator.</p></li>
<li><p><code>value</code> -
(Optional)
Matches a taint value.</p></li>
</ul>

<p><a name="nested_policy_content"></a>The <code>policy_content</code> block supports:</p>

<ul>
<li><p><code>bundles</code> -
(Optional)
map of bundle name to BundleInstallSpec. The bundle name maps to the <code>bundleName</code> key in the <code>policycontroller.gke.io/constraintData</code> annotation on a constraint.</p></li>
<li><p><code>template_library</code>
(Optional)
Configures the installation of the Template Library. Structure is <a href="#nested_template_library">documented below</a>.</p></li>
</ul>

<p><a name="nested_bundles"></a>The <code>bundles</code> block supports:</p>

<ul>
<li><p><code>bundle_name</code> -
(Required)
The name of the bundle.</p></li>
<li><p><code>exempted_namespaces</code> -
(Optional)
The set of namespaces to be exempted from the bundle.</p></li>
</ul>

<p><a name="nested_template_library"></a>The <code>template_library</code> block supports:</p>

<ul>
<li><code>installation</code>
(Optional)
Configures the manner in which the template library is installed on the cluster. Must be one of <code>ALL</code>, <code>NOT_INSTALLED</code> or <code>INSTALLATION_UNSPECIFIED</code>. Defaults to <code>ALL</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/features/{{feature}}/membershipId/{{membership}}</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options: configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>FeatureMembership can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{location}}/features/{{feature}}/membershipId/{{membership}}</code></li>
<li><code>{{project}}/{{location}}/{{feature}}/{{membership}}</code></li>
<li><code>{{location}}/{{feature}}/{{membership}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import FeatureMembership using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{location}}/features/{{feature}}/membershipId/{{membership}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_gke_hub_feature_membership.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, FeatureMembership can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_gke_hub_feature_membership.default projects/{{project}}/locations/{{location}}/features/{{feature}}/membershipId/{{membership}}
$ terraform import google_gke_hub_feature_membership.default {{project}}/{{location}}/{{feature}}/{{membership}}
$ terraform import google_gke_hub_feature_membership.default {{location}}/{{feature}}/{{membership}}
</code></pre>

            
        
    </body></html>