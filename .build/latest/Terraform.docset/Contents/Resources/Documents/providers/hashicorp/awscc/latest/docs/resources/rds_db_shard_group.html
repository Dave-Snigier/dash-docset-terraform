<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/rds_db_shard_group --><head>
                <title>awscc_rds_db_shard_group</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_rds_db_shard_group-resource">awscc_rds_db_shard_group (Resource)</h1>

<p>Creates a new DB shard group for Aurora Limitless Database. You must enable Aurora Limitless Database to create a DB shard group.
 Valid for: Aurora DB clusters only</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Aurora%20Limitless%20DB%20Shard%20Group%20Configuration"></a><h3 id="aurora-limitless-db-shard-group-configuration">Aurora Limitless DB Shard Group Configuration</h3>

<p>Creates an Aurora Limitless DB shard group with customizable ACU limits (64-128) and compute redundancy of 2, integrated with a secure VPC infrastructure including subnet groups and security groups for PostgreSQL access.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Create a VPC</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_vpc"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">enable_dns_hostnames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">enable_dns_support</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create subnets</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_subnet"</span><span class="w"> </span><span class="nv">"example1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.1.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">availability_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_region.current.name}a"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_subnet"</span><span class="w"> </span><span class="nv">"example2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.2.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">availability_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_region.current.name}b"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create DB subnet group</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_rds_db_subnet_group"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">db_subnet_group_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Subnet group for Aurora Limitless"</span><span class="w"></span>
<span class="w">  </span><span class="na">subnet_ids</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">awscc_ec2_subnet.example1.id</span><span class="p">,</span><span class="w"> </span><span class="nv">awscc_ec2_subnet.example2.id</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">db_subnet_group_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-subnet-group"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create an Aurora DB cluster</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_rds_db_cluster"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">engine</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"aurora-postgresql"</span><span class="w"></span>
<span class="w">  </span><span class="na">engine_version</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"15.3"</span><span class="w"></span>
<span class="w">  </span><span class="na">master_username</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"exampleuser"</span><span class="w"></span>
<span class="w">  </span><span class="na">master_user_password</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"examplepassword123!"</span><span class="w"></span>
<span class="w">  </span><span class="na">db_cluster_identifier</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-aurora-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_security_group_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">awscc_ec2_security_group.example.id</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">db_subnet_group_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_rds_db_subnet_group.example.db_subnet_group_name</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create security group for the DB cluster</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_security_group"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">group_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Security group for Aurora Limitless"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">security_group_ingress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">from_port</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">5432</span><span class="w"></span>
<span class="w">      </span><span class="na">to_port</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">5432</span><span class="w"></span>
<span class="w">      </span><span class="na">ip_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w"></span>
<span class="w">      </span><span class="na">cidr_ip</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create DB shard group</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_rds_db_shard_group"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">db_cluster_identifier</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_rds_db_cluster.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">db_shard_group_identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-shard-group"</span><span class="w"></span>
<span class="w">  </span><span class="na">max_acu</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="m">128</span><span class="w"></span>
<span class="w">  </span><span class="na">min_acu</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="m">64</span><span class="w"></span>
<span class="w">  </span><span class="na">compute_redundancy</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="na">publicly_accessible</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>db_cluster_identifier</code> (String) The name of the primary DB cluster for the DB shard group.</li>
<li><code>max_acu</code> (Number) The maximum capacity of the DB shard group in Aurora capacity units (ACUs).</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>compute_redundancy</code> (Number) Specifies whether to create standby DB shard groups for the DB shard group. Valid values are the following:
<ul>
<li>0 - Creates a DB shard group without a standby DB shard group. This is the default value.</li>
<li>1 - Creates a DB shard group with a standby DB shard group in a different Availability Zone (AZ).</li>
<li>2 - Creates a DB shard group with two standby DB shard groups in two different AZs.</li>
</ul></li>
<li><code>db_shard_group_identifier</code> (String) The name of the DB shard group.</li>
<li><code>min_acu</code> (Number) The minimum capacity of the DB shard group in Aurora capacity units (ACUs).</li>
<li><p><code>publicly_accessible</code> (Boolean) Specifies whether the DB shard group is publicly accessible.
When the DB shard group is publicly accessible, its Domain Name System (DNS) endpoint resolves to the private IP address from within the DB shard group's virtual private cloud (VPC). It resolves to the public IP address from outside of the DB shard group's VPC. Access to the DB shard group is ultimately controlled by the security group it uses. That public access is not permitted if the security group assigned to the DB shard group doesn't permit it.
When the DB shard group isn't publicly accessible, it is an internal DB shard group with a DNS name that resolves to a private IP address.
Default: The default behavior varies depending on whether <code>DBSubnetGroupName</code> is specified.
If <code>DBSubnetGroupName</code> isn't specified, and <code>PubliclyAccessible</code> isn't specified, the following applies:</p>

<ul>
<li>If the default VPC in the target Region doesn?t have an internet gateway attached to it, the DB shard group is private.</li>
<li>If the default VPC in the target Region has an internet gateway attached to it, the DB shard group is public.</li>
</ul>

<p>If <code>DBSubnetGroupName</code> is specified, and <code>PubliclyAccessible</code> isn't specified, the following applies:</p>

<ul>
<li>If the subnets are part of a VPC that doesn?t have an internet gateway attached to it, the DB shard group is private.</li>
<li>If the subnets are part of a VPC that has an internet gateway attached to it, the DB shard group is public.</li>
</ul></li>
<li><code>tags</code> (Attributes Set) An optional set of key-value pairs to associate arbitrary data of your choosing with the DB shard group. (see <a href="#nestedatt--tags">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>db_shard_group_resource_id</code> (String)</li>
<li><code>endpoint</code> (String)</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
</ul>

<p><a id="nestedatt--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20tags"></a><h3 id="nested-schema-for-tags">Nested Schema for <code>tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String) A key is the required name of the tag. The string value can be from 1 to 128 Unicode characters in length and can't be prefixed with <code>aws:</code> or <code>rds:</code>. The string can only contain only the set of Unicode letters, digits, white-space, '_', '.', ':', '/', '=', '+', '-', '@' (Java regex: "^([\p{L}\p{Z}\p{N}_.:/=+\-@]*)$").</li>
<li><code>value</code> (String) A value is the optional value of the tag. The string value can be from 1 to 256 Unicode characters in length and can't be prefixed with <code>aws:</code> or <code>rds:</code>. The string can only contain only the set of Unicode letters, digits, white-space, '_', '.', ':', '/', '=', '+', '-', '@' (Java regex: "^([\p{L}\p{Z}\p{N}_.:/=+\-@]*)$").</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_rds_db_shard_group.example <span class="s2">"db_shard_group_identifier"</span>
</code></pre></div>

            
        
    </body></html>