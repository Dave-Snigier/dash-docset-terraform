<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/networkmanager_vpc_attachment --><head>
                <title>awscc_networkmanager_vpc_attachment</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_networkmanager_vpc_attachment-resource">awscc_networkmanager_vpc_attachment (Resource)</h1>

<p>AWS::NetworkManager::VpcAttachment Resoruce Type</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attach%20VPC%20to%20Network%20Manager%20Core%20Network"></a><h3 id="attach-vpc-to-network-manager-core-network">Attach VPC to Network Manager Core Network</h3>

<p>This example demonstrates how to attach a VPC to an AWS Network Manager Core Network by creating VPC attachment with specified subnets and segment configuration in the shared segment.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Create VPC and subnets</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_vpc"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/16"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-vpc"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_subnet"</span><span class="w"> </span><span class="nv">"example_subnet1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.1.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">availability_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_region.current.name}a"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-subnet-1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_ec2_subnet"</span><span class="w"> </span><span class="nv">"example_subnet2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.2.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">availability_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.aws_region.current.name}b"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Name"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-subnet-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create Network Manager resources</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkmanager_global_network"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Global Network"</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkmanager_core_network"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Core Network"</span><span class="w"></span>
<span class="w">  </span><span class="na">global_network_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_networkmanager_global_network.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">    </span><span class="s2">"version"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"2021.12"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"core-network-configuration"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s2">"vpn-ecmp-support"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"asn-ranges"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">"64512-65534"</span><span class="w"></span>
<span class="w">      </span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="s2">"edge-locations"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="s2">"location"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="s2">"segments"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">"name"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"shared"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"description"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"Segment for shared services"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"require-attachment-acceptance"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="s2">"segment-actions"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">"action"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"create-route"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"destination-cidr-blocks"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"0.0.0.0/0"</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="s2">"destinations"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="s2">"attachment"</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="s2">"segment"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"shared"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create VPC Attachment</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_networkmanager_vpc_attachment"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">core_network_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_networkmanager_core_network.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_arn</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s2">"arn:aws:ec2:%s:%s:vpc/%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="p">,</span><span class="w"> </span><span class="nv">awscc_ec2_vpc.example.id</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">subnet_arns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nf">format</span><span class="p">(</span><span class="s2">"arn:aws:ec2:%s:%s:subnet/%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="p">,</span><span class="w"> </span><span class="nv">awscc_ec2_subnet.example_subnet1.id</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="nf">format</span><span class="p">(</span><span class="s2">"arn:aws:ec2:%s:%s:subnet/%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="p">,</span><span class="w"> </span><span class="nv">data.aws_caller_identity.current.account_id</span><span class="p">,</span><span class="w"> </span><span class="nv">awscc_ec2_subnet.example_subnet2.id</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="nb">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">appliance_mode_support</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="na">ipv_6_support</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">proposed_segment_change</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">segment_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"shared"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>core_network_id</code> (String) The ID of a core network for the VPC attachment.</li>
<li><code>subnet_arns</code> (List of String) Subnet Arn list</li>
<li><code>vpc_arn</code> (String) The ARN of the VPC.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>options</code> (Attributes) Vpc options of the attachment. (see <a href="#nestedatt--options">below for nested schema</a>)</li>
<li><code>proposed_network_function_group_change</code> (Attributes) The attachment to move from one network function group to another. (see <a href="#nestedatt--proposed_network_function_group_change">below for nested schema</a>)</li>
<li><code>proposed_segment_change</code> (Attributes) The attachment to move from one segment to another. (see <a href="#nestedatt--proposed_segment_change">below for nested schema</a>)</li>
<li><code>tags</code> (Attributes Set) Tags for the attachment. (see <a href="#nestedatt--tags">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>attachment_id</code> (String) Id of the attachment.</li>
<li><code>attachment_policy_rule_number</code> (Number) The policy rule number associated with the attachment.</li>
<li><code>attachment_type</code> (String) Attachment type.</li>
<li><code>core_network_arn</code> (String) The ARN of a core network for the VPC attachment.</li>
<li><code>created_at</code> (String) Creation time of the attachment.</li>
<li><code>edge_location</code> (String) The Region where the edge is located.</li>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
<li><code>network_function_group_name</code> (String) The name of the network function group attachment.</li>
<li><code>owner_account_id</code> (String) Owner account of the attachment.</li>
<li><code>resource_arn</code> (String) The ARN of the Resource.</li>
<li><code>segment_name</code> (String) The name of the segment attachment..</li>
<li><code>state</code> (String) State of the attachment.</li>
<li><code>updated_at</code> (String) Last update time of the attachment.</li>
</ul>

<p><a id="nestedatt--options"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20options"></a><h3 id="nested-schema-for-options">Nested Schema for <code>options</code></h3>

<p>Optional:</p>

<ul>
<li><code>appliance_mode_support</code> (Boolean) Indicates whether to enable ApplianceModeSupport Support for Vpc Attachment. Valid Values: true | false</li>
<li><code>ipv_6_support</code> (Boolean) Indicates whether to enable Ipv6 Support for Vpc Attachment. Valid Values: enable | disable</li>
</ul>

<p><a id="nestedatt--proposed_network_function_group_change"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20proposed_network_function_group_change"></a><h3 id="nested-schema-for-proposed_network_function_group_change">Nested Schema for <code>proposed_network_function_group_change</code></h3>

<p>Optional:</p>

<ul>
<li><code>attachment_policy_rule_number</code> (Number) The rule number in the policy document that applies to this change.</li>
<li><code>network_function_group_name</code> (String) The name of the network function group to change.</li>
<li><code>tags</code> (Attributes Set) The key-value tags that changed for the network function group. (see <a href="#nestedatt--proposed_network_function_group_change--tags">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--proposed_network_function_group_change--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20proposed_network_function_group_change.tags"></a><h3 id="nested-schema-for-proposed_network_function_group_changetags">Nested Schema for <code>proposed_network_function_group_change.tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
<li><code>value</code> (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
</ul>

<p><a id="nestedatt--proposed_segment_change"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20proposed_segment_change"></a><h3 id="nested-schema-for-proposed_segment_change">Nested Schema for <code>proposed_segment_change</code></h3>

<p>Optional:</p>

<ul>
<li><code>attachment_policy_rule_number</code> (Number) The rule number in the policy document that applies to this change.</li>
<li><code>segment_name</code> (String) The name of the segment to change.</li>
<li><code>tags</code> (Attributes Set) The key-value tags that changed for the segment. (see <a href="#nestedatt--proposed_segment_change--tags">below for nested schema</a>)</li>
</ul>

<p><a id="nestedatt--proposed_segment_change--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20proposed_segment_change.tags"></a><h3 id="nested-schema-for-proposed_segment_changetags">Nested Schema for <code>proposed_segment_change.tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
<li><code>value</code> (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
</ul>

<p><a id="nestedatt--tags"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20tags"></a><h3 id="nested-schema-for-tags">Nested Schema for <code>tags</code></h3>

<p>Optional:</p>

<ul>
<li><code>key</code> (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
<li><code>value</code> (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_networkmanager_vpc_attachment.example <span class="s2">"attachment_id"</span>
</code></pre></div>

            
        
    </body></html>