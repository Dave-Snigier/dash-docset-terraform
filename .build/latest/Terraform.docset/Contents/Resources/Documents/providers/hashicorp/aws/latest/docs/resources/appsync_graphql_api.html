<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/appsync_graphql_api --><head>
                <title>aws_appsync_graphql_api</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_appsync_graphql_api">Resource: aws_appsync_graphql_api</h1>

<p>Provides an AppSync GraphQL API.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/API%20Key%20Authentication"></a><h3 id="api-key-authentication">API Key Authentication</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AWS%20IAM%20Authentication"></a><h3 id="aws-iam-authentication">AWS IAM Authentication</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_IAM"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AWS%20Cognito%20User%20Pool%20Authentication"></a><h3 id="aws-cognito-user-pool-authentication">AWS Cognito User Pool Authentication</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AMAZON_COGNITO_USER_POOLS"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">  </span><span class="nb">user_pool_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">aws_region</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_region.current.name</span><span class="w"></span>
<span class="w">    </span><span class="na">default_action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DENY"</span><span class="w"></span>
<span class="w">    </span><span class="na">user_pool_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_cognito_user_pool.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/OpenID%20Connect%20Authentication"></a><h3 id="openid-connect-authentication">OpenID Connect Authentication</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"OPENID_CONNECT"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">  </span><span class="nb">openid_connect_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">issuer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://example.com"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AWS%20Lambda%20Authorizer%20Authentication"></a><h3 id="aws-lambda-authorizer-authentication">AWS Lambda Authorizer Authentication</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_LAMBDA"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">  </span><span class="nb">lambda_authorizer_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">authorizer_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:lambda:us-east-1:123456789012:function:custom_lambda_authorizer"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_lambda_permission"</span><span class="w"> </span><span class="nv">"appsync_lambda_authorizer"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">statement_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync_lambda_authorizer"</span><span class="w"></span>
<span class="w">  </span><span class="na">action</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"lambda:InvokeFunction"</span><span class="w"></span>
<span class="w">  </span><span class="na">function_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"custom_lambda_authorizer"</span><span class="w"></span>
<span class="w">  </span><span class="na">principal</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"appsync.amazonaws.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">source_arn</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_appsync_graphql_api.example.arn</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/With%20Multiple%20Authentication%20Providers"></a><h3 id="with-multiple-authentication-providers">With Multiple Authentication Providers</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">  </span><span class="nb">additional_authentication_provider</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_IAM"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/With%20Schema"></a><h3 id="with-schema">With Schema</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_IAM"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">  </span><span class="na">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">schema {</span>
<span class="sh">    query: Query</span>
<span class="sh">}</span>
<span class="sh">type Query {</span>
<span class="sh">  test: Int</span>
<span class="sh">}</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Enabling%20Logging"></a><h3 id="enabling-logging">Enabling Logging</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"aws_iam_policy_document"</span><span class="w"> </span><span class="nv">"assume_role"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">statement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>

<span class="w">    </span><span class="nb">principals</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Service"</span><span class="w"></span>
<span class="w">      </span><span class="na">identifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"appsync.amazonaws.com"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="na">actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"sts:AssumeRole"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_iam_role"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">assume_role_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_iam_policy_document.assume_role.json</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_iam_role_policy_attachment"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"arn:aws:iam::aws:policy/service-role/AWSAppSyncPushToCloudWatchLogs"</span><span class="w"></span>
<span class="w">  </span><span class="na">role</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.name</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">  # ... other configuration ...</span>

<span class="w">  </span><span class="nb">log_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cloudwatch_logs_role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="na">field_log_level</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"ERROR"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Associate%20Web%20ACL%20%28v2%29"></a><h3 id="associate-web-acl-v2">Associate Web ACL (v2)</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"API_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_wafv2_web_acl_association"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_appsync_graphql_api.example.arn</span><span class="w"></span>
<span class="w">  </span><span class="na">web_acl_arn</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_wafv2_web_acl.example.arn</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_wafv2_web_acl"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"managed-rule-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example of a managed rule."</span><span class="w"></span>
<span class="w">  </span><span class="na">scope</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"REGIONAL"</span><span class="w"></span>

<span class="w">  </span><span class="nb">default_action</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">allow</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">rule</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"rule-1"</span><span class="w"></span>
<span class="w">    </span><span class="na">priority</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>

<span class="w">    </span><span class="nb">override_action</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">block</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">statement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">managed_rule_group_statement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSManagedRulesCommonRuleSet"</span><span class="w"></span>
<span class="w">        </span><span class="na">vendor_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">cloudwatch_metrics_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">      </span><span class="na">metric_name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"friendly-rule-metric-name"</span><span class="w"></span>
<span class="w">      </span><span class="na">sampled_requests_enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cloudwatch_metrics_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="na">metric_name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"friendly-metric-name"</span><span class="w"></span>
<span class="w">    </span><span class="na">sampled_requests_enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/GraphQL%20run%20complexity%2C%20query%20depth%2C%20and%20introspection"></a><h3 id="graphql-run-complexity-query-depth-and-introspection">GraphQL run complexity, query depth, and introspection</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_appsync_graphql_api"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">authentication_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWS_IAM"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">introspection_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w"></span>
<span class="w">  </span><span class="na">query_depth_limit</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="na">resolver_count_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are required:</p>

<ul>
<li><code>authentication_type</code> - (Required) Authentication type. Valid values: <code>API_KEY</code>, <code>AWS_IAM</code>, <code>AMAZON_COGNITO_USER_POOLS</code>, <code>OPENID_CONNECT</code>, <code>AWS_LAMBDA</code></li>
<li><code>name</code> - (Required) User-supplied name for the GraphQL API.</li>
</ul>

<p>The following arguments are optional:</p>

<ul>
<li><code>additional_authentication_provider</code> - (Optional) One or more additional authentication providers for the GraphQL API. See <a href="#additional_authentication_provider-block"><code>additional_authentication_provider</code> Block</a> for details.</li>
<li><code>api_type</code> - (Optional) API type. Valid values are <code>GRAPHQL</code> or <code>MERGED</code>. A <code>MERGED</code> type requires <code>merged_api_execution_role_arn</code> to be set.</li>
<li><code>enhanced_metrics_config</code> - (Optional) Enables and controls the enhanced metrics feature. See <a href="#enhanced_metrics_config-block"><code>enhanced_metrics_config</code> Block</a> for details.</li>
<li><code>introspection_config</code> - (Optional) Sets the value of the GraphQL API to enable (<code>ENABLED</code>) or disable (<code>DISABLED</code>) introspection. If no value is provided, the introspection configuration will be set to ENABLED by default. This field will produce an error if the operation attempts to use the introspection feature while this field is disabled. For more information about introspection, see <a href="https://graphql.org/learn/introspection/">GraphQL introspection</a>.</li>
<li><code>lambda_authorizer_config</code> - (Optional) Nested argument containing Lambda authorizer configuration. See <a href="#lambda_authorizer_config-block"><code>lambda_authorizer_config</code> Block</a> for details.</li>
<li><code>log_config</code> - (Optional) Nested argument containing logging configuration. See <a href="#log_config-block"><code>log_config</code> Block</a> for details.</li>
<li><code>merged_api_execution_role_arn</code> - (Optional) ARN of the execution role when <code>api_type</code> is set to <code>MERGED</code>.</li>
<li><code>openid_connect_config</code> - (Optional) Nested argument containing OpenID Connect configuration. See <a href="#openid_connect_config-block"><code>openid_connect_config</code> Block</a> for details.</li>
<li><p><code>query_depth_limit</code> - (Optional) The maximum depth a query can have in a single request. Depth refers to the amount of nested levels allowed in the body of query. The default value is <code>0</code> (or unspecified), which indicates there's no depth limit. If you set a limit, it can be between <code>1</code> and <code>75</code> nested levels. This field will produce a limit error if the operation falls out of bounds.</p>

<p>Note that fields can still be set to nullable or non-nullable. If a non-nullable field produces an error, the error will be thrown upwards to the first nullable field available.</p></li>
<li><code>resolver_count_limit</code> - (Optional) The maximum number of resolvers that can be invoked in a single request. The default value is <code>0</code> (or unspecified), which will set the limit to <code>10000</code>. When specified, the limit value can be between <code>1</code> and <code>10000</code>. This field will produce a limit error if the operation falls out of bounds.</li>
<li><code>schema</code> - (Optional) Schema definition, in GraphQL schema language format. Terraform cannot perform drift detection of this configuration.</li>
<li><code>tags</code> - (Optional) Map of tags to assign to the resource. If configured with a provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li>
<li><code>user_pool_config</code> - (Optional) Amazon Cognito User Pool configuration. See <a href="#user_pool_config-block"><code>user_pool_config</code> Block</a> for details.</li>
<li><code>visibility</code> - (Optional) Sets the value of the GraphQL API to public (<code>GLOBAL</code>) or private (<code>PRIVATE</code>). If no value is provided, the visibility will be set to <code>GLOBAL</code> by default. This value cannot be changed once the API has been created.</li>
<li><code>xray_enabled</code> - (Optional) Whether tracing with X-ray is enabled. Defaults to false.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/additional_authentication_provider%20Block"></a><h3 id="additional_authentication_provider-block"><code>additional_authentication_provider</code> Block</h3>

<p>The <code>additional_authentication_provider</code> configuration block supports the following arguments:</p>

<ul>
<li><code>authentication_type</code> - (Required) Authentication type. Valid values: <code>API_KEY</code>, <code>AWS_IAM</code>, <code>AMAZON_COGNITO_USER_POOLS</code>, <code>OPENID_CONNECT</code>, <code>AWS_LAMBDA</code></li>
<li><code>openid_connect_config</code> - (Optional) Nested argument containing OpenID Connect configuration. See <a href="#openid_connect_config-block"><code>openid_connect_config</code> Block</a> for details.</li>
<li><code>user_pool_config</code> - (Optional) Amazon Cognito User Pool configuration. See <a href="#user_pool_config-block"><code>user_pool_config</code> Block</a> for details.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/enhanced_metrics_config%20Block"></a><h3 id="enhanced_metrics_config-block"><code>enhanced_metrics_config</code> Block</h3>

<p>The <code>enhanced_metrics_config</code> configuration block supports the following arguments. See <a href="https://docs.aws.amazon.com/appsync/latest/APIReference/API_EnhancedMetricsConfig.html">EnhancedMetricsConfig</a> for more information.</p>

<ul>
<li><code>data_source_level_metrics_behavior</code> - (Optional) How data source metrics will be emitted to CloudWatch. Valid values: <code>FULL_REQUEST_DATA_SOURCE_METRICS</code>, <code>PER_DATA_SOURCE_METRICS</code></li>
<li><code>operation_level_metrics_config</code> - (Optional) How operation metrics will be emitted to CloudWatch. Valid values: <code>ENABLED</code>, <code>DISABLED</code></li>
<li><code>resolver_level_metrics_behavior</code> - (Optional) How resolver metrics will be emitted to CloudWatch. Valid values: <code>FULL_REQUEST_RESOLVER_METRICS</code>, <code>PER_RESOLVER_METRICS</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/lambda_authorizer_config%20Block"></a><h3 id="lambda_authorizer_config-block"><code>lambda_authorizer_config</code> Block</h3>

<p>The <code>lambda_authorizer_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>authorizer_uri</code> - (Required) ARN of the Lambda function to be called for authorization. Note: This Lambda function must have a resource-based policy assigned to it, to allow <code>lambda:InvokeFunction</code> from service principal <code>appsync.amazonaws.com</code>.</li>
<li><code>authorizer_result_ttl_in_seconds</code> - (Optional) Number of seconds a response should be cached for. The default is 5 minutes (300 seconds). The Lambda function can override this by returning a <code>ttlOverride</code> key in its response. A value of 0 disables caching of responses. Minimum value of 0. Maximum value of 3600.</li>
<li><code>identity_validation_expression</code> - (Optional) Regular expression for validation of tokens before the Lambda function is called.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/log_config%20Block"></a><h3 id="log_config-block"><code>log_config</code> Block</h3>

<p>The <code>log_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>cloudwatch_logs_role_arn</code> - (Required) Amazon Resource Name of the service role that AWS AppSync will assume to publish to Amazon CloudWatch logs in your account.</li>
<li><code>field_log_level</code> - (Required) Field logging level. Valid values: <code>ALL</code>, <code>ERROR</code>, <code>NONE</code>.</li>
<li><code>exclude_verbose_content</code> - (Optional) Set to TRUE to exclude sections that contain information such as headers, context, and evaluated mapping templates, regardless of logging  level. Valid values: <code>true</code>, <code>false</code>. Default value: <code>false</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/openid_connect_config%20Block"></a><h3 id="openid_connect_config-block"><code>openid_connect_config</code> Block</h3>

<p>The <code>openid_connect_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>issuer</code> - (Required) Issuer for the OpenID Connect configuration. The issuer returned by discovery MUST exactly match the value of iss in the ID Token.</li>
<li><code>auth_ttl</code> - (Optional) Number of milliseconds a token is valid after being authenticated.</li>
<li><code>client_id</code> - (Optional) Client identifier of the Relying party at the OpenID identity provider. This identifier is typically obtained when the Relying party is registered with the OpenID identity provider. You can specify a regular expression so the AWS AppSync can validate against multiple client identifiers at a time.</li>
<li><code>iat_ttl</code> - (Optional) Number of milliseconds a token is valid after being issued to a user.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/user_pool_config%20Block"></a><h3 id="user_pool_config-block"><code>user_pool_config</code> Block</h3>

<p>The <code>user_pool_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>default_action</code> - (Required only if Cognito is used as the default auth provider) Action that you want your GraphQL API to take when a request that uses Amazon Cognito User Pool authentication doesn't match the Amazon Cognito User Pool configuration. Valid: <code>ALLOW</code> and <code>DENY</code></li>
<li><code>user_pool_id</code> - (Required) User pool ID.</li>
<li><code>app_id_client_regex</code> - (Optional) Regular expression for validating the incoming Amazon Cognito User Pool app client ID.</li>
<li><code>aws_region</code> - (Optional) AWS region in which the user pool was created.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>id</code> - API ID</li>
<li><code>arn</code> - ARN</li>
<li><code>tags_all</code> - Map of tags assigned to the resource, including those inherited from the provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a>.</li>
<li><code>uris</code> - Map of URIs associated with the API E.g., <code>uris["GRAPHQL"] = https://ID.appsync-api.REGION.amazonaws.com/graphql</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import AppSync GraphQL API using the GraphQL API ID. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_appsync_graphql_api.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import AppSync GraphQL API using the GraphQL API ID. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_appsync_graphql_api.example <span class="m">0123456789</span>
</code></pre></div>

            
        
    </body></html>