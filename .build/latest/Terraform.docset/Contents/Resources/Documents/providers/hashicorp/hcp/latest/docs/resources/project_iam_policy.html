<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/hcp/latest/docs/resources/project_iam_policy --><head>
                <title>hcp_project_iam_policy</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="hcp_project_iam_policy-resource">hcp_project_iam_policy (Resource)</h1>

<aside class="admonition danger">
    <strong>danger</strong>
    <em>Be Careful!</em>
    <p>You can accidentally lock yourself out of your project using this resource. Deleting a hcp_project_iam_policy removes access from anyone without organization-level access to the project. It is not recommended to use hcp_project_iam_policy with your provider project to avoid locking yourself out, and it should generally only be used with projects fully managed by Terraform. If you are trying to additively give permissions to the project, prefer using <code>hcp_project_iam_binding</code>. If you do use this resource, it is recommended to import the policy before applying the change.</p>
</aside>

<p>Sets the project's IAM policy and replaces any existing policy.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p><code>hcp_project_iam_policy</code> can not be used in conjunction with <code>hcp_project_iam_binding</code>.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"hcp_iam_policy"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bindings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"roles/contributor"</span><span class="w"></span>
<span class="w">      </span><span class="na">principals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-user-id-1"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-group-id-1"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">"example-sp-1"</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"hcp_project"</span><span class="w"> </span><span class="nv">"my_project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"hcp_project_iam_policy"</span><span class="w"> </span><span class="nv">"project_policy"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">hcp_project.my_project.resource_id</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.hcp_iam_policy.example.policy_data</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>policy_data</code> (String) The policy to apply.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>project_id</code> (String) The ID of the HCP project to apply the IAM Policy to. If unspecified, the project configured on the provider is used.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>etag</code> (String) The etag captures the existing state of the policy.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Project IAM Policy can be imported by specifying the project id</span>
terraform import hcp_project_iam_policy.example 840e3701-55b6-4f86-8c17-b1fe397303c5
</code></pre></div>

            
        
    </body></html>