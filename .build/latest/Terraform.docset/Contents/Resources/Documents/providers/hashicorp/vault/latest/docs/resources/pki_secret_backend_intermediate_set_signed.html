<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/pki_secret_backend_intermediate_set_signed --><head>
                <title>vault_pki_secret_backend_intermediate_set_signed</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_pki_secret_backend_intermediate_set_signed">vault_pki_secret_backend_intermediate_set_signed</h1>

<p>Submits the CA certificate to the PKI Secret Backend.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>Multi-Issuer Functionality is enabled on this version of the Provider. If migrating from an older version of Vault or the Provider, please refer to the <a href="../guides/pki_multi_issuer_upgrade.html.markdown">PKI Multi-Issuer Upgrade Guide</a></p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_mount"</span><span class="w"> </span><span class="nv">"root"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"pki-root"</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"pki"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"root"</span><span class="w"></span>
<span class="w">  </span><span class="na">default_lease_ttl_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8640000</span><span class="w"></span>
<span class="w">  </span><span class="na">max_lease_ttl_seconds</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">8640000</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_mount"</span><span class="w"> </span><span class="nv">"intermediate"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"pki-int"</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.root.type</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"intermediate"</span><span class="w"></span>
<span class="w">  </span><span class="na">default_lease_ttl_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">86400</span><span class="w"></span>
<span class="w">  </span><span class="na">max_lease_ttl_seconds</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">86400</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_pki_secret_backend_root_cert"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.root.path</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"internal"</span><span class="w"></span>
<span class="w">  </span><span class="na">common_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"RootOrg Root CA"</span><span class="w"></span>
<span class="w">  </span><span class="na">ttl</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="m">86400</span><span class="w"></span>
<span class="w">  </span><span class="na">format</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"pem"</span><span class="w"></span>
<span class="w">  </span><span class="na">private_key_format</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"der"</span><span class="w"></span>
<span class="w">  </span><span class="na">key_type</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"rsa"</span><span class="w"></span>
<span class="w">  </span><span class="na">key_bits</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="m">4096</span><span class="w"></span>
<span class="w">  </span><span class="na">exclude_cn_from_sans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">ou</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Organizational Unit"</span><span class="w"></span>
<span class="w">  </span><span class="na">organization</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"RootOrg"</span><span class="w"></span>
<span class="w">  </span><span class="na">country</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="w">  </span><span class="na">locality</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="w"></span>
<span class="w">  </span><span class="na">province</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"CA"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_pki_secret_backend_intermediate_cert_request"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.intermediate.path</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_pki_secret_backend_root_cert.example.type</span><span class="w"></span>
<span class="w">  </span><span class="na">common_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SubOrg Intermediate CA"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_pki_secret_backend_root_sign_intermediate"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.root.path</span><span class="w"></span>
<span class="w">  </span><span class="na">csr</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_pki_secret_backend_intermediate_cert_request.example.csr</span><span class="w"></span>
<span class="w">  </span><span class="na">common_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"SubOrg Intermediate CA"</span><span class="w"></span>
<span class="w">  </span><span class="na">exclude_cn_from_sans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">ou</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"SubUnit"</span><span class="w"></span>
<span class="w">  </span><span class="na">organization</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"SubOrg"</span><span class="w"></span>
<span class="w">  </span><span class="na">country</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="w">  </span><span class="na">locality</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="w"></span>
<span class="w">  </span><span class="na">province</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"CA"</span><span class="w"></span>
<span class="w">  </span><span class="na">revoke</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_pki_secret_backend_intermediate_set_signed"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.intermediate.path</span><span class="w"></span>
<span class="w">  </span><span class="na">certificate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_pki_secret_backend_root_sign_intermediate.example.certificate</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>backend</code> - (Required) The PKI secret backend the resource belongs to.</p></li>
<li><p><code>certificate</code> - (Required) Specifies the PEM encoded certificate. May optionally append additional
CA certificates to populate the whole chain, which will then enable returning the full chain from
issue and sign operations.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments above, the following attributes are exported:</p>

<ul>
<li><p><code>imported_issuers</code> - The imported issuers indicating which issuers were created as part of
this request.</p></li>
<li><p><code>imported_keys</code> - The imported keys indicating which keys were created as part of this request.</p></li>
</ul>

            
        
    </body></html>