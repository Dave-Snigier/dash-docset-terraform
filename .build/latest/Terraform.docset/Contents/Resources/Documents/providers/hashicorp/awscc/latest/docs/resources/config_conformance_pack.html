<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/awscc/latest/docs/resources/config_conformance_pack --><head>
                <title>awscc_config_conformance_pack</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="awscc_config_conformance_pack-resource">awscc_config_conformance_pack (Resource)</h1>

<p>A conformance pack is a collection of AWS Config rules and remediation actions that can be easily deployed as a single entity in an account and a region or across an entire AWS Organization.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/AWS%20Config%20Conformance%20Pack%20for%20Security%20Best%20Practices"></a><h3 id="aws-config-conformance-pack-for-security-best-practices">AWS Config Conformance Pack for Security Best Practices</h3>

<p>Creates an AWS Config Conformance Pack that implements security best practices by enforcing IAM password policy and root account MFA requirements, with configuration stored in a dedicated S3 bucket.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.</p>
</aside>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get current AWS region</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_region"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># Get current AWS account ID</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_caller_identity"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{}</span><span class="c1"></span>

<span class="c1"># S3 bucket for storing conformance pack files</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_s3_bucket"</span><span class="w"> </span><span class="nv">"config_bucket"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"config-conformance-pack-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}"</span><span class="w"></span>

<span class="w">  </span><span class="na">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="w"></span>
<span class="w">    </span><span class="na">key</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"Modified By"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"AWSCC"</span><span class="w"></span>
<span class="w">  </span><span class="p">}]</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Bucket policy to allow AWS Config to write to the bucket</span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"aws_iam_policy_document"</span><span class="w"> </span><span class="nv">"bucket_policy"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">statement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Allow"</span><span class="w"></span>
<span class="w">    </span><span class="nb">principals</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Service"</span><span class="w"></span>
<span class="w">      </span><span class="na">identifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"config.amazonaws.com"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"s3:GetBucketAcl"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"s3:PutObject"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">resources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"arn:aws:s3:::config-conformance-pack-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"arn:aws:s3:::config-conformance-pack-${data.aws_caller_identity.current.account_id}-${data.aws_region.current.name}/*"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Apply bucket policy</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_s3_bucket_policy"</span><span class="w"> </span><span class="nv">"config_bucket_policy"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_s3_bucket.config_bucket.id</span><span class="w"></span>
<span class="w">  </span><span class="na">policy_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">(</span><span class="nv">data.aws_iam_policy_document.bucket_policy.json</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># Create the conformance pack</span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"awscc_config_conformance_pack"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">conformance_pack_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"operational-best-practices"</span><span class="w"></span>
<span class="w">  </span><span class="na">delivery_s3_bucket</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">awscc_s3_bucket.config_bucket.id</span><span class="w"></span>
<span class="w">  </span><span class="na">delivery_s3_key_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"config"</span><span class="w"></span>

<span class="w">  </span><span class="na">template_body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">Resources:</span>
<span class="sh">  IAMPasswordPolicy:</span>
<span class="sh">    Type: AWS::Config::ConfigRule</span>
<span class="sh">    Properties:</span>
<span class="sh">      ConfigRuleName: iam-password-policy</span>
<span class="sh">      Description: Checks if IAM password policy meets security standards</span>
<span class="sh">      Source:</span>
<span class="sh">        Owner: AWS</span>
<span class="sh">        SourceIdentifier: IAM_PASSWORD_POLICY</span>
<span class="sh">      Scope:</span>
<span class="sh">        ComplianceResourceTypes:</span>
<span class="sh">          - AWS::IAM::User</span>
<span class="sh">  RootAccountMFAEnabled:</span>
<span class="sh">    Type: AWS::Config::ConfigRule</span>
<span class="sh">    Properties:</span>
<span class="sh">      ConfigRuleName: root-account-mfa-enabled</span>
<span class="sh">      Description: Checks if root account has MFA enabled</span>
<span class="sh">      Source:</span>
<span class="sh">        Owner: AWS</span>
<span class="sh">        SourceIdentifier: ROOT_ACCOUNT_MFA_ENABLED</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>conformance_pack_name</code> (String) Name of the conformance pack which will be assigned as the unique identifier.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Optional"></a><h3 id="optional">Optional</h3>

<ul>
<li><code>conformance_pack_input_parameters</code> (Attributes List) A list of ConformancePackInputParameter objects. (see <a href="#nestedatt--conformance_pack_input_parameters">below for nested schema</a>)</li>
<li><code>delivery_s3_bucket</code> (String) AWS Config stores intermediate files while processing conformance pack template.</li>
<li><code>delivery_s3_key_prefix</code> (String) The prefix for delivery S3 bucket.</li>
<li><code>template_body</code> (String) A string containing full conformance pack template body. You can only specify one of the template body or template S3Uri fields.</li>
<li><code>template_s3_uri</code> (String) Location of file containing the template body which points to the conformance pack template that is located in an Amazon S3 bucket. You can only specify one of the template body or template S3Uri fields.</li>
<li><code>template_ssm_document_details</code> (Attributes) The TemplateSSMDocumentDetails object contains the name of the SSM document and the version of the SSM document. (see <a href="#nestedatt--template_ssm_document_details">below for nested schema</a>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>id</code> (String) Uniquely identifies the resource.</li>
</ul>

<p><a id="nestedatt--conformance_pack_input_parameters"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20conformance_pack_input_parameters"></a><h3 id="nested-schema-for-conformance_pack_input_parameters">Nested Schema for <code>conformance_pack_input_parameters</code></h3>

<p>Optional:</p>

<ul>
<li><code>parameter_name</code> (String) Key part of key-value pair with value being parameter value</li>
<li><code>parameter_value</code> (String) Value part of key-value pair with key being parameter Name</li>
</ul>

<p><a id="nestedatt--template_ssm_document_details"></a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Nested%20Schema%20for%20template_ssm_document_details"></a><h3 id="nested-schema-for-template_ssm_document_details">Nested Schema for <code>template_ssm_document_details</code></h3>

<p>Optional:</p>

<ul>
<li><code>document_name</code> (String)</li>
<li><code>document_version</code> (String)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Import is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code>$ terraform import awscc_config_conformance_pack.example <span class="s2">"conformance_pack_name"</span>
</code></pre></div>

            
        
    </body></html>