<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_resolver_rule --><head>
                <title>aws_route53_resolver_rule</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_route53_resolver_rule">Resource: aws_route53_resolver_rule</h1>

<p>Provides a Route53 Resolver rule.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/System%20rule"></a><h3 id="system-rule">System rule</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route53_resolver_rule"</span><span class="w"> </span><span class="nv">"sys"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">domain_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"subdomain.example.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">rule_type</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"SYSTEM"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Forward%20rule"></a><h3 id="forward-rule">Forward rule</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route53_resolver_rule"</span><span class="w"> </span><span class="nv">"fwd"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">domain_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"example.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">rule_type</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"FORWARD"</span><span class="w"></span>
<span class="w">  </span><span class="na">resolver_endpoint_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_route53_resolver_endpoint.foo.id</span><span class="w"></span>

<span class="w">  </span><span class="nb">target_ip</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"123.45.67.89"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">Environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Prod"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/IPv6%20Forward%20rule"></a><h3 id="ipv6-forward-rule">IPv6 Forward rule</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_route53_resolver_rule"</span><span class="w"> </span><span class="nv">"fwd"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">domain_name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"example.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">rule_type</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"FORWARD"</span><span class="w"></span>
<span class="w">  </span><span class="na">resolver_endpoint_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_route53_resolver_endpoint.foo.id</span><span class="w"></span>

<span class="w">  </span><span class="nb">target_ip</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">ipv6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2600:1f18:1686:2000:4e60:6e3e:258:da36"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">Environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Prod"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>This resource supports the following arguments:</p>

<ul>
<li><code>domain_name</code> - (Required) DNS queries for this domain name are forwarded to the IP addresses that are specified using <code>target_ip</code>.</li>
<li><code>rule_type</code> - (Required) Rule type. Valid values are <code>FORWARD</code>, <code>SYSTEM</code> and <code>RECURSIVE</code>.</li>
<li><code>name</code> - (Optional) Friendly name that lets you easily find a rule in the Resolver dashboard in the Route 53 console.</li>
<li><code>resolver_endpoint_id</code> (Optional) ID of the outbound resolver endpoint that you want to use to route DNS queries to the IP addresses that you specify using <code>target_ip</code>.
This argument should only be specified for <code>FORWARD</code> type rules.</li>
<li><code>target_ip</code> - (Optional) Configuration block(s) indicating the IPs that you want Resolver to forward DNS queries to (documented below).
This argument should only be specified for <code>FORWARD</code> type rules.</li>
<li><code>tags</code> - (Optional) Map of tags to assign to the resource. If configured with a provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a> present, tags with matching keys will overwrite those defined at the provider-level.</li>
</ul>

<p>The <code>target_ip</code> object supports the following:</p>

<ul>
<li><code>ip</code> - (Optional) One IPv4 address that you want to forward DNS queries to.</li>
<li><code>ipv6</code> - (Optional) One IPv6 address that you want to forward DNS queries to.</li>
<li><code>port</code> - (Optional) Port at <code>ip</code> that you want to forward DNS queries to. Default value is <code>53</code>.</li>
<li><code>protocol</code> - (Optional) Protocol for the resolver endpoint. Valid values can be found in the <a href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_route53resolver_TargetAddress.html">AWS documentation</a>. Default value is <code>Do53</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>id</code> - ID of the resolver rule.</li>
<li><code>arn</code> - ARN (Amazon Resource Name) for the resolver rule.</li>
<li><code>owner_id</code> - When a rule is shared with another AWS account, the account ID of the account that the rule is shared with.</li>
<li><code>share_status</code> - Whether the rules is shared and, if so, whether the current account is sharing the rule with another account, or another account is sharing the rule with the current account.
Values are <code>NOT_SHARED</code>, <code>SHARED_BY_ME</code> or <code>SHARED_WITH_ME</code></li>
<li><code>tags_all</code> - Map of tags assigned to the resource, including those inherited from the provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Route53 Resolver rules using the <code>id</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_route53_resolver_rule.sys</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"rslvr-rr-0123456789abcdef0"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import Route53 Resolver rules using the <code>id</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_route53_resolver_rule.sys rslvr-rr-0123456789abcdef0
</code></pre></div>

            
        
    </body></html>