<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/service_usage_consumer_quota_override --><head>
                <title>google_service_usage_consumer_quota_override</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_service_usage_consumer_quota_override">google_service_usage_consumer_quota_override</h1>

<p>A consumer override is applied to the consumer on its own authority to limit its own quota usage.
Consumer overrides cannot be used to grant more quota than would be allowed by admin overrides,
producer overrides, or the default limit of the service.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Warning</em>
    <p>This resource is in beta, and should be used with the terraform-provider-google-beta provider. See <a href="https://terraform.io/docs/providers/google/guides/provider_versions.html">Provider Versions</a> for more details on beta resources.</p>
</aside>

<p>To get more information about ConsumerQuotaOverride, see:</p>

<ul>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/service-usage/docs/manage-quota ">Managing Service Quota</a></li>
<li><a href="https://cloud.google.com/service-usage/docs/reference/rest/v1beta1/services.consumerQuotaMetrics.limits.consumerOverrides">REST API documentation</a></li>
</ul></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Consumer%20Quota%20Override"></a><h2 id="example-usage-consumer-quota-override">Example Usage - Consumer Quota Override</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"my_project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-project"</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"quota"</span><span class="w"></span>
<span class="w">  </span><span class="na">org_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DELETE"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_usage_consumer_quota_override"</span><span class="w"> </span><span class="nv">"override"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.my_project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"servicemanagement.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">metric</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"servicemanagement.googleapis.com/default_requests"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">limit</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"/min/project"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">override_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"95"</span><span class="w"></span>
<span class="w">  </span><span class="na">force</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Region%20Consumer%20Quota%20Override"></a><h2 id="example-usage-region-consumer-quota-override">Example Usage - Region Consumer Quota Override</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"my_project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-project"</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"quota"</span><span class="w"></span>
<span class="w">  </span><span class="na">org_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DELETE"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_usage_consumer_quota_override"</span><span class="w"> </span><span class="nv">"override"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="nb">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.my_project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"compute.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">metric</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"compute.googleapis.com/n2_cpus"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">limit</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"/project/region"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">override_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"8"</span><span class="w"></span>
<span class="w">  </span><span class="na">force</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Consumer%20Quota%20Override%20Custom%20Dimension"></a><h2 id="example-usage-consumer-quota-override-custom-dimension">Example Usage - Consumer Quota Override Custom Dimension</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"my_project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-project"</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"quota"</span><span class="w"></span>
<span class="w">  </span><span class="na">org_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DELETE"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_usage_consumer_quota_override"</span><span class="w"> </span><span class="nv">"override"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.my_project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"libraryagent.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">metric</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"libraryagent.googleapis.com/borrows"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">limit</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nf">urlencode</span><span class="p">(</span><span class="s2">"/author/project"</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">override_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">  </span><span class="na">force</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="nb">dimensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"larry"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>override_value</code> -
(Required)
The overriding quota limit value. Can be any nonnegative integer, or -1 (unlimited quota).</p></li>
<li><p><code>service</code> -
(Required)
The service that the metrics belong to, e.g. <code>compute.googleapis.com</code>.</p></li>
<li><p><code>metric</code> -
(Required)
The metric that should be limited, e.g. <code>compute.googleapis.com/cpus</code>.</p></li>
<li><p><code>limit</code> -
(Required)
The limit on the metric, e.g. <code>/project/region</code>.
~&gt; Make sure that <code>limit</code> is in a format that doesn't start with <code>1/</code> or contain curly braces.
E.g. use <code>/project/user</code> instead of <code>1/{project}/{user}</code>.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>dimensions</code> -
(Optional)
If this map is nonempty, then this override applies only to specific values for dimensions defined in the limit unit.</p></li>
<li><p><code>force</code> -
(Optional)
If the new quota would decrease the existing quota by more than 10%, the request is rejected.
If <code>force</code> is <code>true</code>, that safety check is ignored.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}</code></p></li>
<li><p><code>name</code> -
The server-generated name of the quota override.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>ConsumerQuotaOverride can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}</code></li>
<li><code>services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}</code></li>
<li><code>{{service}}/{{metric}}/{{limit}}/{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import ConsumerQuotaOverride using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_service_usage_consumer_quota_override.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, ConsumerQuotaOverride can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_service_usage_consumer_quota_override.default projects/{{project}}/services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}
$ terraform import google_service_usage_consumer_quota_override.default services/{{service}}/consumerQuotaMetrics/{{metric}}/limits/{{limit}}/consumerOverrides/{{name}}
$ terraform import google_service_usage_consumer_quota_override.default {{service}}/{{metric}}/{{limit}}/{{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>