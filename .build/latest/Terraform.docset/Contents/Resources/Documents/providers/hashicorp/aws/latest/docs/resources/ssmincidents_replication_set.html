<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ssmincidents_replication_set --><head>
                <title>aws_ssmincidents_replication_set</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_ssmincidents_replication_set">Resource: aws_ssmincidents_replication_set</h1>

<p>Provides a resource for managing a replication set in AWS Systems Manager Incident Manager.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>Deleting a replication set also deletes all Incident Manager related data including response plans, incident records, contacts and escalation plans.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Usage"></a><h3 id="basic-usage">Basic Usage</h3>

<p>Create a replication set.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_ssmincidents_replication_set"</span><span class="w"> </span><span class="nv">"replicationSetName"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">region</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-west-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">exampleTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"exampleValue"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Add a Region to a replication set. (You can add only one Region at a time.)</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_ssmincidents_replication_set"</span><span class="w"> </span><span class="nv">"replicationSetName"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">region</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-west-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">region</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ap-southeast-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Delete a Region from a replication set. (You can delete only one Region at a time.)</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_ssmincidents_replication_set"</span><span class="w"> </span><span class="nv">"replicationSetName"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">region</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-west-2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Usage%20with%20an%20AWS%20Customer%20Managed%20Key"></a><h2 id="basic-usage-with-an-aws-customer-managed-key">Basic Usage with an AWS Customer Managed Key</h2>

<p>Create a replication set with an AWS Key Management Service (AWS KMS) customer manager key:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_kms_key"</span><span class="w"> </span><span class="nv">"example_key"</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_ssmincidents_replication_set"</span><span class="w"> </span><span class="nv">"replicationSetName"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">region</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-west-2"</span><span class="w"></span>
<span class="w">    </span><span class="na">kms_key_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_kms_key.example_key.arn</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">exampleTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"exampleValue"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>The Region specified by a Terraform provider must always be one of the Regions specified for the replication set. This is especially important when you perform complex update operations.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>After a replication set is created, you can add or delete only one Region at a time.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>Incident Manager does not support updating the customer managed key associated with a replication set. Instead, for a replication set with multiple Regions, you must first delete a Region from the replication set, then re-add it with a different customer managed key in separate <code>terraform apply</code> operations. For a replication set with only one Region, the entire replication set must be deleted and recreated. To do this, comment out the replication set and all response plans, and then run the <code>terraform apply</code> command to recreate the replication set with the new customer managed key.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>You must either use AWS-owned keys on all regions of a replication set, or customer managed keys. To change between an AWS owned key and a customer managed key, a replication set and it associated data must be deleted and recreated.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>If possible, create all the customer managed keys you need (using the <code>terraform apply</code> command) before you create the replication set, or create the keys and replication set in the same <code>terraform apply</code> command. Otherwise, to delete a replication set, you must run one <code>terraform apply</code> command to delete the replication set and another to delete the AWS KMS keys used by the replication set. Deleting the AWS KMS keys before deleting the replication set results in an error. In that case, you must manually reenable the deleted key using the AWS Management Console before you can delete the replication set.</p>
</aside>

<p>The <code>region</code> configuration block is required and supports the following arguments:</p>

<ul>
<li><code>name</code> - (Required) The name of the Region, such as <code>ap-southeast-2</code>.</li>
<li><code>kms_key_arn</code> - (Optional) The Amazon Resource name (ARN) of the customer managed key. If omitted, AWS manages the AWS KMS keys for you, using an AWS owned key, as indicated by a default value of <code>DefaultKey</code>.</li>
</ul>

<p>The following arguments are optional:</p>

<ul>
<li><code>tags</code> - Tags applied to the replication set.</li>
</ul>

<p>For information about the maximum allowed number of Regions and tag value constraints, see <a href="https://docs.aws.amazon.com/incident-manager/latest/APIReference/API_CreateReplicationSet.html">CreateReplicationSet in the <em>AWS Systems Manager Incident Manager API Reference</em></a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>arn</code> - The ARN of the replication set.</li>
<li><code>tags_all</code> - A map of tags assigned to the resource, including those inherited from the provider <a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block"><code>default_tags</code> configuration block</a>.</li>
<li><code>created_by</code> - The ARN of the user who created the replication set.</li>
<li><code>created_time</code> - A timestamp showing when the replication set was created.</li>
<li><code>deletion_protected</code> - If <code>true</code>, the last region in a replication set cannot be deleted.</li>
<li><code>last_modified_by</code> - A timestamp showing when the replication set was last modified.</li>
<li><code>last_modified_time</code> - When the replication set was last modified</li>
<li><code>status</code> - The overall status of a replication set.
<ul>
<li>Valid Values: <code>ACTIVE</code> | <code>CREATING</code> | <code>UPDATING</code> | <code>DELETING</code> | <code>FAILED</code></li>
</ul></li>
</ul>

<p>In addition to the preceding arguments, the <code>region</code> configuration block exports the following attributes for each Region:</p>

<ul>
<li><code>status</code> - The current status of the Region.
<ul>
<li>Valid Values: <code>ACTIVE</code> | <code>CREATING</code> | <code>UPDATING</code> | <code>DELETING</code> | <code>FAILED</code></li>
</ul></li>
<li><code>status_update_time</code> - A timestamp showing when the Region status was last updated.</li>
<li><code>status_message</code> - More information about the status of a Region.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p><code>Update</code> and <code>Delete</code> operations applied to replication sets with large numbers of response plans and data take longer to complete. We recommend that you configure custom timeouts for this situation.</p>
</aside>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>Each additional Region included when you create a replication set increases the amount of time required to complete the <code>create</code> operation.</p>
</aside>

<p><a href="https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts">Configuration options</a>:</p>

<ul>
<li><code>create</code> - (Default <code>120m</code>)</li>
<li><code>update</code> - (Default <code>120m</code>)</li>
<li><code>delete</code> - (Default <code>120m</code>)</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import an Incident Manager replication. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_ssmincidents_replication_set.replicationSetName</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"import"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import an Incident Manager replication. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_ssmincidents_replication_set.replicationSetName import
</code></pre></div>

            
        
    </body></html>