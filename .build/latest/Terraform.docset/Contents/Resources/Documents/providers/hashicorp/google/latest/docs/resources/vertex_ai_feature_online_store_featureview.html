<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/vertex_ai_feature_online_store_featureview --><head>
                <title>google_vertex_ai_feature_online_store_featureview</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_vertex_ai_feature_online_store_featureview">google_vertex_ai_feature_online_store_featureview</h1>

<p>FeatureView is representation of values that the FeatureOnlineStore will serve based on its syncConfig.</p>

<p>To get more information about FeatureOnlineStoreFeatureview, see:</p>

<ul>
<li><a href="https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.featureOnlineStores.featureViews">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/vertex-ai/docs">Official Documentation</a></li>
</ul></li>
</ul>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=vertex_ai_featureonlinestore_featureview&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Vertex%20Ai%20Featureonlinestore%20Featureview"></a><h2 id="example-usage-vertex-ai-featureonlinestore-featureview">Example Usage - Vertex Ai Featureonlinestore Featureview</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store"</span><span class="w"> </span><span class="nv">"featureonlinestore"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">bigtable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">auto_scaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">min_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="na">max_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">cpu_utilization_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_dataset"</span><span class="w"> </span><span class="nv">"tf-test-dataset"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="na">dataset_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view"</span><span class="w"></span>
<span class="w">  </span><span class="na">friendly_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a test description"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_table"</span><span class="w"> </span><span class="nv">"tf-test-table"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>

<span class="w">  </span><span class="na">dataset_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_bigquery_dataset.tf-test-dataset.dataset_id</span><span class="w"></span>
<span class="w">  </span><span class="na">table_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view"</span><span class="w"></span>
<span class="w">  </span><span class="na">schema</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">  [</span>
<span class="sh">  {</span>
<span class="sh">    "name": "entity_id",</span>
<span class="sh">    "mode": "NULLABLE",</span>
<span class="sh">    "type": "STRING",</span>
<span class="sh">    "description": "Test default entity_id"</span>
<span class="sh">  },</span>
<span class="sh">    {</span>
<span class="sh">    "name": "test_entity_column",</span>
<span class="sh">    "mode": "NULLABLE",</span>
<span class="sh">    "type": "STRING",</span>
<span class="sh">    "description": "test secondary entity column"</span>
<span class="sh">  },</span>
<span class="sh">  {</span>
<span class="sh">    "name": "feature_timestamp",</span>
<span class="sh">    "mode": "NULLABLE",</span>
<span class="sh">    "type": "TIMESTAMP",</span>
<span class="sh">    "description": "Default timestamp value"</span>
<span class="sh">  }</span>
<span class="sh">]</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store_featureview"</span><span class="w"> </span><span class="nv">"featureview"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_online_store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_online_store.featureonlinestore.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">sync_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cron</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0 0 * * *"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">big_query_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">uri</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"bq://${google_bigquery_table.tf-test-table.project}.${google_bigquery_table.tf-test-table.dataset_id}.${google_bigquery_table.tf-test-table.table_id}"</span><span class="w"></span>
<span class="w">    </span><span class="na">entity_id_columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"test_entity_column"</span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=vertex_ai_featureonlinestore_featureview_feature_registry&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Vertex%20Ai%20Featureonlinestore%20Featureview%20Feature%20Registry"></a><h2 id="example-usage-vertex-ai-featureonlinestore-featureview-feature-registry">Example Usage - Vertex Ai Featureonlinestore Featureview Feature Registry</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store"</span><span class="w"> </span><span class="nv">"featureonlinestore"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">bigtable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">auto_scaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">min_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="na">max_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">cpu_utilization_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_dataset"</span><span class="w"> </span><span class="nv">"sample_dataset"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>
<span class="w">  </span><span class="na">friendly_name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a test description"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_table"</span><span class="w"> </span><span class="nv">"sample_table"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_bigquery_dataset.sample_dataset.dataset_id</span><span class="w"></span>
<span class="w">  </span><span class="na">table_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>

<span class="w">  </span><span class="na">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">[</span>
<span class="sh">    {</span>
<span class="sh">        "name": "feature_id",</span>
<span class="sh">        "type": "STRING",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    },</span>
<span class="sh">    {</span>
<span class="sh">        "name": "example_feature_view_feature_registry",</span>
<span class="sh">        "type": "STRING",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    },</span>
<span class="sh">    {</span>
<span class="sh">        "name": "feature_timestamp",</span>
<span class="sh">        "type": "TIMESTAMP",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    }</span>
<span class="sh">]</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_group"</span><span class="w"> </span><span class="nv">"sample_feature_group"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"A sample feature group"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">label-one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"value-one"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">big_query</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">big_query_source</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">        # The source table must have a column named 'feature_timestamp' of type TIMESTAMP.</span>
<span class="w">        </span><span class="na">input_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bq://${google_bigquery_table.sample_table.project}.${google_bigquery_table.sample_table.dataset_id}.${google_bigquery_table.sample_table.table_id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">entity_id_columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"feature_id"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>



<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_group_feature"</span><span class="w"> </span><span class="nv">"sample_feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_group.sample_feature_group.name</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"A sample feature"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">label-one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"value-one"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store_featureview"</span><span class="w"> </span><span class="nv">"featureview_featureregistry"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_feature_registry"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_online_store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_online_store.featureonlinestore.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">sync_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cron</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0 0 * * *"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">feature_registry_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nb">feature_groups</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="na">feature_group_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_group.sample_feature_group.name</span><span class="w"></span>
<span class="w">        </span><span class="na">feature_ids</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_vertex_ai_feature_group_feature.sample_feature.name</span><span class="p">]</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

## Example Usage - Vertex Ai Featureonlinestore Featureview Cross Project
<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"test_project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test%{random_suffix}"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test%{random_suffix}"</span><span class="w"></span>
<span class="w">  </span><span class="na">org_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w"></span>
<span class="w">  </span><span class="na">billing_account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"000000-0000000-0000000-000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DELETE"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"time_sleep"</span><span class="w"> </span><span class="nv">"wait_60_seconds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_project.project</span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="na">create_duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"60s"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"time_sleep"</span><span class="w"> </span><span class="nv">"wait_30_seconds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_bigquery_dataset_iam_member.viewer</span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="na">create_duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"30s"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_project_service"</span><span class="w"> </span><span class="nv">"vertexai"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aiplatform.googleapis.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">timeouts</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">create</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"30m"</span><span class="w"></span>
<span class="w">    </span><span class="na">update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"40m"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">disable_on_destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="c1"></span>
<span class="c1">  # Needed for CI tests for permissions to propagate, should not be needed for actual usage</span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">time_sleep.wait_60_seconds</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_dataset_iam_member"</span><span class="w"> </span><span class="nv">"viewer"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_project.test_project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_bigquery_dataset.sample_dataset.dataset_id</span><span class="w"></span>
<span class="w">  </span><span class="na">role</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"roles/bigquery.dataViewer"</span><span class="w"></span>
<span class="w">  </span><span class="na">member</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"serviceAccount:service-${google_project.project.number}@gcp-sa-aiplatform.iam.gserviceaccount.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_vertex_ai_feature_online_store.featureonlinestore</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store"</span><span class="w"> </span><span class="nv">"featureonlinestore"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">bigtable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">auto_scaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">min_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="na">max_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">cpu_utilization_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_project_service.vertexai</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_dataset"</span><span class="w"> </span><span class="nv">"sample_dataset"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>
<span class="w">  </span><span class="na">friendly_name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a test description"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_table"</span><span class="w"> </span><span class="nv">"sample_table"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_bigquery_dataset.sample_dataset.dataset_id</span><span class="w"></span>
<span class="w">  </span><span class="na">table_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>

<span class="w">  </span><span class="na">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">[</span>
<span class="sh">    {</span>
<span class="sh">        "name": "feature_id",</span>
<span class="sh">        "type": "STRING",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    },</span>
<span class="sh">    {</span>
<span class="sh">        "name": "example_cross_project_featureview",</span>
<span class="sh">        "type": "STRING",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    },</span>
<span class="sh">    {</span>
<span class="sh">        "name": "feature_timestamp",</span>
<span class="sh">        "type": "TIMESTAMP",</span>
<span class="sh">        "mode": "NULLABLE"</span>
<span class="sh">    }</span>
<span class="sh">]</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_group"</span><span class="w"> </span><span class="nv">"sample_feature_group"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"A sample feature group"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">label-one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"value-one"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">big_query</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">big_query_source</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">        # The source table must have a column named 'feature_timestamp' of type TIMESTAMP.</span>
<span class="w">        </span><span class="na">input_uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bq://${google_bigquery_table.sample_table.project}.${google_bigquery_table.sample_table.dataset_id}.${google_bigquery_table.sample_table.table_id}"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">entity_id_columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"feature_id"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>



<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_group_feature"</span><span class="w"> </span><span class="nv">"sample_feature"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_group.sample_feature_group.name</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"A sample feature"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">label-one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"value-one"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store_featureview"</span><span class="w"> </span><span class="nv">"cross_project_featureview"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_cross_project_featureview"</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">google_project.project.project_id</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_online_store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_online_store.featureonlinestore.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">sync_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cron</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0 0 * * *"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">feature_registry_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="nb">feature_groups</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">feature_group_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_group.sample_feature_group.name</span><span class="w"></span>
<span class="w">        </span><span class="na">feature_ids</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_vertex_ai_feature_group_feature.sample_feature.name</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="na">project_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.google_project.test_project.number</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">google_project_service.vertexai</span><span class="p">,</span><span class="w"> </span><span class="nv">time_sleep.wait_30_seconds</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=vertex_ai_featureonlinestore_featureview_with_vector_search&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Vertex%20Ai%20Featureonlinestore%20Featureview%20With%20Vector%20Search"></a><h2 id="example-usage-vertex-ai-featureonlinestore-featureview-with-vector-search">Example Usage - Vertex Ai Featureonlinestore Featureview With Vector Search</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store"</span><span class="w"> </span><span class="nv">"featureonlinestore"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_vector_search"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="nb">bigtable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">auto_scaling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">min_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">      </span><span class="na">max_node_count</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">      </span><span class="na">cpu_utilization_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">80</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">embedding_management</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_dataset"</span><span class="w"> </span><span class="nv">"tf-test-dataset"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_vector_search"</span><span class="w"></span>
<span class="w">  </span><span class="na">friendly_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a test description"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"US"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_bigquery_table"</span><span class="w"> </span><span class="nv">"tf-test-table"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">dataset_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">google_bigquery_dataset.tf-test-dataset.dataset_id</span><span class="w"></span>
<span class="w">  </span><span class="na">table_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_vector_search"</span><span class="w"></span>
<span class="w">  </span><span class="na">schema</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="sh">[</span>
<span class="sh">{</span>
<span class="sh">  "name": "test_primary_id",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "STRING",</span>
<span class="sh">  "description": "primary test id"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "embedding",</span>
<span class="sh">  "mode": "REPEATED",</span>
<span class="sh">  "type": "FLOAT",</span>
<span class="sh">  "description": "embedding column for primary_id column"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "country",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "STRING",</span>
<span class="sh">  "description": "country"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "test_crowding_column",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "INTEGER",</span>
<span class="sh">  "description": "test crowding column"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "entity_id",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "STRING",</span>
<span class="sh">  "description": "Test default entity_id"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "test_entity_column",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "STRING",</span>
<span class="sh">  "description": "test secondary entity column"</span>
<span class="sh">},</span>
<span class="sh">{</span>
<span class="sh">  "name": "feature_timestamp",</span>
<span class="sh">  "mode": "NULLABLE",</span>
<span class="sh">  "type": "TIMESTAMP",</span>
<span class="sh">  "description": "Default timestamp value"</span>
<span class="sh">}</span>
<span class="sh">]</span>
<span class="dl">EOF</span>
<span class="p">}</span><span class="w"></span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_vertex_ai_feature_online_store_featureview"</span><span class="w"> </span><span class="nv">"featureview_vector_search"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example_feature_view_vector_search"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">feature_online_store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_online_store.featureonlinestore.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">sync_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cron</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0 0 * * *"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">big_query_source</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">uri</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"bq://${google_bigquery_table.tf-test-table.project}.${google_bigquery_table.tf-test-table.dataset_id}.${google_bigquery_table.tf-test-table.table_id}"</span><span class="w"></span>
<span class="w">    </span><span class="na">entity_id_columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"test_entity_column"</span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">vector_search_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">embedding_column</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"embedding"</span><span class="w"></span>
<span class="w">    </span><span class="na">filter_columns</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"country"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">crowding_column</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"test_crowding_column"</span><span class="w"></span>
<span class="w">    </span><span class="na">distance_measure_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DOT_PRODUCT_DISTANCE"</span><span class="w"></span>
<span class="w">    </span><span class="nb">tree_ah_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">leaf_node_embedding_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1000"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">embedding_dimension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"google_project"</span><span class="w"> </span><span class="nv">"project"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>feature_online_store</code> -
(Required)
The name of the FeatureOnlineStore to use for the featureview.</p></li>
<li><p><code>region</code> -
(Required)
The region for the resource. It should be the same as the featureonlinestore region.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>name</code> -
(Optional)
Name of the FeatureView. This value may be up to 60 characters, and valid characters are [a-z0-9_]. The first character cannot be a number.</p></li>
<li><p><code>labels</code> -
(Optional)
A set of key/value label pairs to assign to this FeatureView.</p>

<p><strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>sync_config</code> -
(Optional)
Configures when data is to be synced/updated for this FeatureView. At the end of the sync the latest featureValues for each entityId of this FeatureView are made ready for online serving.
Structure is <a href="#nested_sync_config">documented below</a>.</p></li>
<li><p><code>big_query_source</code> -
(Optional)
Configures how data is supposed to be extracted from a BigQuery source to be loaded onto the FeatureOnlineStore.
Structure is <a href="#nested_big_query_source">documented below</a>.</p></li>
<li><p><code>feature_registry_source</code> -
(Optional)
Configures the features from a Feature Registry source that need to be loaded onto the FeatureOnlineStore.
Structure is <a href="#nested_feature_registry_source">documented below</a>.</p></li>
<li><p><code>vector_search_config</code> -
(Optional, <a href="https://terraform.io/docs/providers/google/guides/provider_versions.html">Beta</a>)
Configuration for vector search. It contains the required configurations to create an index from source data, so that approximate nearest neighbor (a.k.a ANN) algorithms search can be performed during online serving.
Structure is <a href="#nested_vector_search_config">documented below</a>.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<p><a name="nested_sync_config"></a>The <code>sync_config</code> block supports:</p>

<ul>
<li><code>cron</code> -
(Optional)
Cron schedule (https://en.wikipedia.org/wiki/Cron) to launch scheduled runs.
To explicitly set a timezone to the cron tab, apply a prefix in the cron tab: "CRON_TZ=${IANA_TIME_ZONE}" or "TZ=${IANA_TIME_ZONE}".</li>
</ul>

<p><a name="nested_big_query_source"></a>The <code>big_query_source</code> block supports:</p>

<ul>
<li><p><code>uri</code> -
(Required)
The BigQuery view URI that will be materialized on each sync trigger based on FeatureView.SyncConfig.</p></li>
<li><p><code>entity_id_columns</code> -
(Required)
Columns to construct entityId / row keys. Start by supporting 1 only.</p></li>
</ul>

<p><a name="nested_feature_registry_source"></a>The <code>feature_registry_source</code> block supports:</p>

<ul>
<li><p><code>feature_groups</code> -
(Required)
List of features that need to be synced to Online Store.
Structure is <a href="#nested_feature_registry_source_feature_groups">documented below</a>.</p></li>
<li><p><code>project_number</code> -
(Optional)
The project number of the parent project of the feature Groups.</p></li>
</ul>

<p><a name="nested_feature_registry_source_feature_groups"></a>The <code>feature_groups</code> block supports:</p>

<ul>
<li><p><code>feature_group_id</code> -
(Required)
Identifier of the feature group.</p></li>
<li><p><code>feature_ids</code> -
(Required)
Identifiers of features under the feature group.</p></li>
</ul>

<p><a name="nested_vector_search_config"></a>The <code>vector_search_config</code> block supports:</p>

<ul>
<li><p><code>embedding_column</code> -
(Required)
Column of embedding. This column contains the source data to create index for vector search.</p></li>
<li><p><code>filter_columns</code> -
(Optional)
Columns of features that are used to filter vector search results.</p></li>
<li><p><code>crowding_column</code> -
(Optional)
Column of crowding. This column contains crowding attribute which is a constraint on a neighbor list produced by nearest neighbor search requiring that no more than some value k' of the k neighbors returned have the same value of crowdingAttribute.</p></li>
<li><p><code>distance_measure_type</code> -
(Optional)
The distance measure used in nearest neighbor search.
For details on allowed values, see the <a href="https://cloud.google.com/vertex-ai/docs/reference/rest/v1beta1/projects.locations.featureOnlineStores.featureViews#DistanceMeasureType">API documentation</a>.
Possible values are: <code>SQUARED_L2_DISTANCE</code>, <code>COSINE_DISTANCE</code>, <code>DOT_PRODUCT_DISTANCE</code>.</p></li>
<li><p><code>tree_ah_config</code> -
(Optional)
Configuration options for the tree-AH algorithm (Shallow tree + Asymmetric Hashing). Please refer to this paper for more details: https://arxiv.org/abs/1908.10396
Structure is <a href="#nested_vector_search_config_tree_ah_config">documented below</a>.</p></li>
<li><p><code>brute_force_config</code> -
(Optional)
Configuration options for using brute force search, which simply implements the standard linear search in the database for each query. It is primarily meant for benchmarking and to generate the ground truth for approximate search.</p></li>
<li><p><code>embedding_dimension</code> -
(Optional)
The number of dimensions of the input embedding.</p></li>
</ul>

<p><a name="nested_vector_search_config_tree_ah_config"></a>The <code>tree_ah_config</code> block supports:</p>

<ul>
<li><code>leaf_node_embedding_count</code> -
(Optional)
Number of embeddings on each leaf node. The default value is 1000 if not set.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{region}}/featureOnlineStores/{{feature_online_store}}/featureViews/{{name}}</code></p></li>
<li><p><code>create_time</code> -
The timestamp of when the featureOnlinestore was created in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine fractional digits.</p></li>
<li><p><code>update_time</code> -
The timestamp of when the featureOnlinestore was last updated in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine fractional digits.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>FeatureOnlineStoreFeatureview can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{region}}/featureOnlineStores/{{feature_online_store}}/featureViews/{{name}}</code></li>
<li><code>{{project}}/{{region}}/{{feature_online_store}}/{{name}}</code></li>
<li><code>{{region}}/{{feature_online_store}}/{{name}}</code></li>
<li><code>{{feature_online_store}}/{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import FeatureOnlineStoreFeatureview using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{region}}/featureOnlineStores/{{feature_online_store}}/featureViews/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_vertex_ai_feature_online_store_featureview.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, FeatureOnlineStoreFeatureview can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_vertex_ai_feature_online_store_featureview.default projects/{{project}}/locations/{{region}}/featureOnlineStores/{{feature_online_store}}/featureViews/{{name}}
$ terraform import google_vertex_ai_feature_online_store_featureview.default {{project}}/{{region}}/{{feature_online_store}}/{{name}}
$ terraform import google_vertex_ai_feature_online_store_featureview.default {{region}}/{{feature_online_store}}/{{name}}
$ terraform import google_vertex_ai_feature_online_store_featureview.default {{feature_online_store}}/{{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>