<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/dns_managed_zone --><head>
                <title>google_dns_managed_zone</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_dns_managed_zone">google_dns_managed_zone</h1>

<p>A zone is a subtree of the DNS namespace under one administrative
responsibility. A ManagedZone is a resource that represents a DNS zone
hosted by the Cloud DNS service.</p>

<p>To get more information about ManagedZone, see:</p>

<ul>
<li><a href="https://cloud.google.com/dns/api/v1/managedZones">API documentation</a></li>
<li>How-to Guides
<ul>
<li><a href="https://cloud.google.com/dns/zones/">Managing Zones</a></li>
</ul></li>
</ul>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_basic&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Basic"></a><h2 id="example-usage-dns-managed-zone-basic">Example Usage - Dns Managed Zone Basic</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"example-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-${random_id.rnd.hex}.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example DNS zone"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"random_id"</span><span class="w"> </span><span class="nv">"rnd"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">byte_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_private&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Private"></a><h2 id="example-usage-dns-managed-zone-private">Example Usage - Dns Managed Zone Private</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"private-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"private-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"private.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example private DNS zone"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>

<span class="w">  </span><span class="nb">private_visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">networks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-1.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">networks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-2.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-1"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-2"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

## Example Usage - Dns Managed Zone Private Forwarding
<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"private-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"private-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"private.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example private DNS zone"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>

<span class="w">  </span><span class="nb">private_visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">networks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-1.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">networks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-2.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">forwarding_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">target_name_servers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">ipv4_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"172.16.1.10"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">target_name_servers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">ipv4_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"172.16.1.20"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-1"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-2"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_private_gke&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Private%20Gke"></a><h2 id="example-usage-dns-managed-zone-private-gke">Example Usage - Dns Managed Zone Private Gke</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"private-zone-gke"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"private-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"private.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example private DNS zone"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>

<span class="w">  </span><span class="nb">private_visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">gke_clusters</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">gke_cluster_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_container_cluster.cluster-1.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-1"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_subnetwork"</span><span class="w"> </span><span class="nv">"subnetwork-1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-1.name</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-1.name</span><span class="w"></span>
<span class="w">  </span><span class="na">ip_cidr_range</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.36.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">private_ip_google_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">  </span><span class="nb">secondary_ip_range</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">range_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"pod"</span><span class="w"></span>
<span class="w">    </span><span class="na">ip_cidr_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.0.0/19"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">secondary_ip_range</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">range_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"svc"</span><span class="w"></span>
<span class="w">    </span><span class="na">ip_cidr_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.0.32.0/22"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_container_cluster"</span><span class="w"> </span><span class="nv">"cluster-1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"cluster-1"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1-c"</span><span class="w"></span>
<span class="w">  </span><span class="na">initial_node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>

<span class="w">  </span><span class="na">networking_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC_NATIVE"</span><span class="w"></span>
<span class="w">  </span><span class="nb">default_snat_status</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">disabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">network</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-1.name</span><span class="w"></span>
<span class="w">  </span><span class="na">subnetwork</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.subnetwork-1.name</span><span class="w"></span>

<span class="w">  </span><span class="nb">private_cluster_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enable_private_endpoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">enable_private_nodes</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">master_ipv4_cidr_block</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"10.42.0.0/28"</span><span class="w"></span>
<span class="w">    </span><span class="nb">master_global_access_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">master_authorized_networks_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">ip_allocation_policy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cluster_secondary_range_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.subnetwork-1.secondary_ip_range[0].range_name</span><span class="w"></span>
<span class="w">    </span><span class="na">services_secondary_range_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_subnetwork.subnetwork-1.secondary_ip_range[1].range_name</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">deletion_protection</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_private_peering&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Private%20Peering"></a><h2 id="example-usage-dns-managed-zone-private-peering">Example Usage - Dns Managed Zone Private Peering</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"peering-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"peering-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"peering.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example private DNS peering zone"</span><span class="w"></span>

<span class="w">  </span><span class="na">visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>

<span class="w">  </span><span class="nb">private_visibility_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">networks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-source.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">peering_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">target_network</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">network_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_compute_network.network-target.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-source"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-source"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network-target"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network-target"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_service_directory&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Service%20Directory"></a><h2 id="example-usage-dns-managed-zone-service-directory">Example Usage - Dns Managed Zone Service Directory</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"sd-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>

<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"peering-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"services.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example private DNS Service Directory zone"</span><span class="w"></span>

<span class="w">  </span><span class="na">visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>

<span class="w">  </span><span class="nb">service_directory_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">namespace</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">namespace_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_service_directory_namespace.example.id</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_service_directory_namespace"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>

<span class="w">  </span><span class="na">namespace_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"google_compute_network"</span><span class="w"> </span><span class="nv">"network"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">google-beta</span><span class="w"></span>

<span class="w">  </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"network"</span><span class="w"></span>
<span class="w">  </span><span class="na">auto_create_subnetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&amp;cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&amp;cloudshell_print=.%2Fmotd&amp;cloudshell_tutorial=.%2Ftutorial.md&amp;cloudshell_working_dir=dns_managed_zone_cloud_logging&amp;open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;"/>
  </a>
</div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Dns%20Managed%20Zone%20Cloud%20Logging"></a><h2 id="example-usage-dns-managed-zone-cloud-logging">Example Usage - Dns Managed Zone Cloud Logging</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_dns_managed_zone"</span><span class="w"> </span><span class="nv">"cloud-logging-enabled-zone"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud-logging-enabled-zone"</span><span class="w"></span>
<span class="w">  </span><span class="na">dns_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"services.example.com."</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example cloud logging enabled DNS zone"</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">cloud_logging_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">enable_logging</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>dns_name</code> -
(Required)
The DNS name of this managed zone, for instance "example.com.".</p></li>
<li><p><code>name</code> -
(Required)
User assigned name for this resource.
Must be unique within the project.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>description</code> -
(Optional)
A textual description field. Defaults to 'Managed by Terraform'.</p></li>
<li><p><code>dnssec_config</code> -
(Optional)
DNSSEC configuration
Structure is <a href="#nested_dnssec_config">documented below</a>.</p></li>
<li><p><code>labels</code> -
(Optional)
A set of key/value label pairs to assign to this ManagedZone.</p>

<p><strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>visibility</code> -
(Optional)
The zone's visibility: public zones are exposed to the Internet,
while private zones are visible only to Virtual Private Cloud resources.
Default value is <code>public</code>.
Possible values are: <code>private</code>, <code>public</code>.</p></li>
<li><p><code>private_visibility_config</code> -
(Optional)
For privately visible zones, the set of Virtual Private Cloud
resources that the zone is visible from. At least one of <code>gke_clusters</code> or <code>networks</code> must be specified.
Structure is <a href="#nested_private_visibility_config">documented below</a>.</p></li>
<li><p><code>forwarding_config</code> -
(Optional)
The presence for this field indicates that outbound forwarding is enabled
for this zone. The value of this field contains the set of destinations
to forward to.
Structure is <a href="#nested_forwarding_config">documented below</a>.</p></li>
<li><p><code>peering_config</code> -
(Optional)
The presence of this field indicates that DNS Peering is enabled for this
zone. The value of this field contains the network to peer with.
Structure is <a href="#nested_peering_config">documented below</a>.</p></li>
<li><p><code>reverse_lookup</code> -
(Optional, <a href="https://terraform.io/docs/providers/google/guides/provider_versions.html">Beta</a>)
Specifies if this is a managed reverse lookup zone. If true, Cloud DNS will resolve reverse
lookup queries using automatically configured records for VPC resources. This only applies
to networks listed under <code>private_visibility_config</code>.</p></li>
<li><p><code>service_directory_config</code> -
(Optional, <a href="https://terraform.io/docs/providers/google/guides/provider_versions.html">Beta</a>)
The presence of this field indicates that this zone is backed by Service Directory. The value of this field contains information related to the namespace associated with the zone.
Structure is <a href="#nested_service_directory_config">documented below</a>.</p></li>
<li><p><code>cloud_logging_config</code> -
(Optional)
Cloud logging configuration
Structure is <a href="#nested_cloud_logging_config">documented below</a>.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
<li><p><code>force_destroy</code> - (Optional) Set this true to delete all records in the zone.</p></li>
</ul>

<p><a name="nested_dnssec_config"></a>The <code>dnssec_config</code> block supports:</p>

<ul>
<li><p><code>kind</code> -
(Optional)
Identifies what kind of resource this is</p></li>
<li><p><code>non_existence</code> -
(Optional)
Specifies the mechanism used to provide authenticated denial-of-existence responses.
non_existence can only be updated when the state is <code>off</code>.
Possible values are: <code>nsec</code>, <code>nsec3</code>.</p></li>
<li><p><code>state</code> -
(Optional)
Specifies whether DNSSEC is enabled, and what mode it is in
Possible values are: <code>off</code>, <code>on</code>, <code>transfer</code>.</p></li>
<li><p><code>default_key_specs</code> -
(Optional)
Specifies parameters that will be used for generating initial DnsKeys
for this ManagedZone. If you provide a spec for keySigning or zoneSigning,
you must also provide one for the other.
default_key_specs can only be updated when the state is <code>off</code>.
Structure is <a href="#nested_dnssec_config_default_key_specs">documented below</a>.</p></li>
</ul>

<p><a name="nested_dnssec_config_default_key_specs"></a>The <code>default_key_specs</code> block supports:</p>

<ul>
<li><p><code>algorithm</code> -
(Optional)
String mnemonic specifying the DNSSEC algorithm of this key
Possible values are: <code>ecdsap256sha256</code>, <code>ecdsap384sha384</code>, <code>rsasha1</code>, <code>rsasha256</code>, <code>rsasha512</code>.</p></li>
<li><p><code>key_length</code> -
(Optional)
Length of the keys in bits</p></li>
<li><p><code>key_type</code> -
(Optional)
Specifies whether this is a key signing key (KSK) or a zone
signing key (ZSK). Key signing keys have the Secure Entry
Point flag set and, when active, will only be used to sign
resource record sets of type DNSKEY. Zone signing keys do
not have the Secure Entry Point flag set and will be used
to sign all other types of resource record sets.
Possible values are: <code>keySigning</code>, <code>zoneSigning</code>.</p></li>
<li><p><code>kind</code> -
(Optional)
Identifies what kind of resource this is</p></li>
</ul>

<p><a name="nested_private_visibility_config"></a>The <code>private_visibility_config</code> block supports:</p>

<ul>
<li><p><code>gke_clusters</code> -
(Optional)
The list of Google Kubernetes Engine clusters that can see this zone.
Structure is <a href="#nested_private_visibility_config_gke_clusters">documented below</a>.</p></li>
<li><p><code>networks</code> -
(Optional)
The list of VPC networks that can see this zone. Until the provider updates to use the Terraform 0.12 SDK in a future release, you
may experience issues with this resource while updating. If you've defined a <code>networks</code> block and
add another <code>networks</code> block while keeping the old block, Terraform will see an incorrect diff
and apply an incorrect update to the resource. If you encounter this issue, remove all <code>networks</code>
blocks in an update and then apply another update adding all of them back simultaneously.
Structure is <a href="#nested_private_visibility_config_networks">documented below</a>.</p></li>
</ul>

<p><a name="nested_private_visibility_config_gke_clusters"></a>The <code>gke_clusters</code> block supports:</p>

<ul>
<li><code>gke_cluster_name</code> -
(Required)
The resource name of the cluster to bind this ManagedZone to.
This should be specified in the format like
<code>projects/*/locations/*/clusters/*</code></li>
</ul>

<p><a name="nested_private_visibility_config_networks"></a>The <code>networks</code> block supports:</p>

<ul>
<li><code>network_url</code> -
(Required)
The id or fully qualified URL of the VPC network to bind to.
This should be formatted like <code>projects/{project}/global/networks/{network}</code> or
<code>https://www.googleapis.com/compute/v1/projects/{project}/global/networks/{network}</code></li>
</ul>

<p><a name="nested_forwarding_config"></a>The <code>forwarding_config</code> block supports:</p>

<ul>
<li><code>target_name_servers</code> -
(Required)
List of target name servers to forward to. Cloud DNS will
select the best available name server if more than
one target is given.
Structure is <a href="#nested_forwarding_config_target_name_servers">documented below</a>.</li>
</ul>

<p><a name="nested_forwarding_config_target_name_servers"></a>The <code>target_name_servers</code> block supports:</p>

<ul>
<li><p><code>ipv4_address</code> -
(Required)
IPv4 address of a target name server.</p></li>
<li><p><code>forwarding_path</code> -
(Optional)
Forwarding path for this TargetNameServer. If unset or <code>default</code> Cloud DNS will make forwarding
decision based on address ranges, i.e. RFC1918 addresses go to the VPC, Non-RFC1918 addresses go
to the Internet. When set to <code>private</code>, Cloud DNS will always send queries through VPC for this target
Possible values are: <code>default</code>, <code>private</code>.</p></li>
</ul>

<p><a name="nested_peering_config"></a>The <code>peering_config</code> block supports:</p>

<ul>
<li><code>target_network</code> -
(Required)
The network with which to peer.
Structure is <a href="#nested_peering_config_target_network">documented below</a>.</li>
</ul>

<p><a name="nested_peering_config_target_network"></a>The <code>target_network</code> block supports:</p>

<ul>
<li><code>network_url</code> -
(Required)
The id or fully qualified URL of the VPC network to forward queries to.
This should be formatted like <code>projects/{project}/global/networks/{network}</code> or
<code>https://www.googleapis.com/compute/v1/projects/{project}/global/networks/{network}</code></li>
</ul>

<p><a name="nested_service_directory_config"></a>The <code>service_directory_config</code> block supports:</p>

<ul>
<li><code>namespace</code> -
(Required)
The namespace associated with the zone.
Structure is <a href="#nested_service_directory_config_namespace">documented below</a>.</li>
</ul>

<p><a name="nested_service_directory_config_namespace"></a>The <code>namespace</code> block supports:</p>

<ul>
<li><code>namespace_url</code> -
(Required)
The fully qualified or partial URL of the service directory namespace that should be
associated with the zone. This should be formatted like
<code>https://servicedirectory.googleapis.com/v1/projects/{project}/locations/{location}/namespaces/{namespace_id}</code>
or simply <code>projects/{project}/locations/{location}/namespaces/{namespace_id}</code>
Ignored for <code>public</code> visibility zones.</li>
</ul>

<p><a name="nested_cloud_logging_config"></a>The <code>cloud_logging_config</code> block supports:</p>

<ul>
<li><code>enable_logging</code> -
(Required)
If set, enable query logging for this ManagedZone. False by default, making logging opt-in.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/managedZones/{{name}}</code></p></li>
<li><p><code>managed_zone_id</code> -
Unique identifier for the resource; defined by the server.</p></li>
<li><p><code>name_servers</code> -
Delegate your managed_zone to these virtual name servers;
defined by the server</p></li>
<li><p><code>creation_time</code> -
The time that this resource was created on the server.
This is in RFC3339 text format.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>ManagedZone can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/managedZones/{{name}}</code></li>
<li><code>{{project}}/{{name}}</code></li>
<li><code>{{name}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import ManagedZone using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/managedZones/{{name}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_dns_managed_zone.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, ManagedZone can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_dns_managed_zone.default projects/{{project}}/managedZones/{{name}}
$ terraform import google_dns_managed_zone.default {{project}}/{{name}}
$ terraform import google_dns_managed_zone.default {{name}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>