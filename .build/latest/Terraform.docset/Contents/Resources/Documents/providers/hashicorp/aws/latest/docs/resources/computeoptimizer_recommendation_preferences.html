<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/computeoptimizer_recommendation_preferences --><head>
                <title>aws_computeoptimizer_recommendation_preferences</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_computeoptimizer_recommendation_preferences">Resource: aws_computeoptimizer_recommendation_preferences</h1>

<p>Manages AWS Compute Optimizer recommendation preferences.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Lookback%20Period%20Preference"></a><h3 id="lookback-period-preference">Lookback Period Preference</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_computeoptimizer_recommendation_preferences"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ec2Instance"</span><span class="w"></span>
<span class="w">  </span><span class="nb">scope</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"AccountId"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">look_back_period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"DAYS_32"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Multiple%20Preferences"></a><h3 id="multiple-preferences">Multiple Preferences</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_computeoptimizer_recommendation_preferences"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ec2Instance"</span><span class="w"></span>
<span class="w">  </span><span class="nb">scope</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"AccountId"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"123456789012"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">enhanced_infrastructure_metrics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Active"</span><span class="w"></span>

<span class="w">  </span><span class="nb">external_metrics_preference</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Datadog"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">preferred_resource</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">include_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"m5.xlarge", "r5"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ec2InstanceTypes"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>This resource supports the following arguments:</p>

<ul>
<li><code>enhanced_infrastructure_metrics</code> - (Optional) The status of the enhanced infrastructure metrics recommendation preference. Valid values: <code>Active</code>, <code>Inactive</code>.</li>
<li><code>external_metrics_preference</code> - (Optional) The provider of the external metrics recommendation preference. See <a href="#external-metrics-preference">External Metrics Preference</a> below.</li>
<li><code>inferred_workload_types</code> - (Optional) The status of the inferred workload types recommendation preference. Valid values: <code>Active</code>, <code>Inactive</code>.</li>
<li><code>look_back_period</code> - (Optional) The preference to control the number of days the utilization metrics of the AWS resource are analyzed. Valid values: <code>DAYS_14</code>, <code>DAYS_32</code>, <code>DAYS_93</code>.</li>
<li><code>preferred_resource</code> - (Optional) The preference to control which resource type values are considered when generating rightsizing recommendations. See <a href="#preferred-resources">Preferred Resources</a> below.</li>
<li><code>resource_type</code> - (Required) The target resource type of the recommendation preferences. Valid values: <code>Ec2Instance</code>, <code>AutoScalingGroup</code>, <code>RdsDBInstance</code>.</li>
<li><code>savings_estimation_mode</code> - (Optional) The status of the savings estimation mode preference. Valid values: <code>AfterDiscounts</code>, <code>BeforeDiscounts</code>.</li>
<li><code>scope</code> - (Required) The scope of the recommendation preferences. See <a href="#scope">Scope</a> below.</li>
<li><code>utilization_preference</code> - (Optional) The preference to control the resource’s CPU utilization threshold, CPU utilization headroom, and memory utilization headroom. See <a href="#utilization-preferences">Utilization Preferences</a> below.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/External%20Metrics%20Preference"></a><h3 id="external-metrics-preference">External Metrics Preference</h3>

<ul>
<li><code>source</code> - (Required) The source options for external metrics preferences. Valid values: <code>Datadog</code>, <code>Dynatrace</code>, <code>NewRelic</code>, <code>Instana</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Preferred%20Resources"></a><h3 id="preferred-resources">Preferred Resources</h3>

<p>You can specify this preference as a combination of include and exclude lists.
You must specify either an <code>include_list</code> or <code>exclude_list</code>.</p>

<ul>
<li><code>exclude_list</code> - (Optional) The preferred resource type values to exclude from the recommendation candidates. If this isn’t specified, all supported resources are included by default.</li>
<li><code>include_list</code> - (Optional) The preferred resource type values to include in the recommendation candidates. You can specify the exact resource type value, such as <code>"m5.large"</code>, or use wild card expressions, such as <code>"m5"</code>. If this isn’t specified, all supported resources are included by default.</li>
<li><code>name</code> - (Required) The type of preferred resource to customize. Valid values: <code>Ec2InstanceTypes</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Scope"></a><h3 id="scope">Scope</h3>

<ul>
<li><code>name</code> - (Required) The name of the scope. Valid values: <code>Organization</code>, <code>AccountId</code>, <code>ResourceArn</code>.</li>
<li><code>value</code> - (Required) The value of the scope. <code>ALL_ACCOUNTS</code> for <code>Organization</code> scopes, AWS account ID for <code>AccountId</code> scopes, ARN of an EC2 instance or an Auto Scaling group for <code>ResourceArn</code> scopes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Utilization%20Preferences"></a><h3 id="utilization-preferences">Utilization Preferences</h3>

<ul>
<li><code>metric_name</code> - (Required) The name of the resource utilization metric name to customize. Valid values: <code>CpuUtilization</code>, <code>MemoryUtilization</code>.</li>
<li><code>metric_parameters</code> - (Required) The parameters to set when customizing the resource utilization thresholds.
<ul>
<li><code>headroom</code> - (Required) The headroom value in percentage used for the specified metric parameter. Valid values: <code>PERCENT_30</code>, <code>PERCENT_20</code>, <code>PERCENT_10</code>, <code>PERCENT_0</code>.</li>
<li><code>threshold</code> - (Optional) The threshold value used for the specified metric parameter. You can only specify the threshold value for CPU utilization. Valid values: <code>P90</code>, <code>P95</code>, <code>P99_5</code>.</li>
</ul></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports no additional attributes.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import recommendation preferences using the resource type, scope name and scope value. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_computeoptimizer_recommendation_preferences.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Ec2Instance,AccountId,123456789012"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import recommendation preferences using the resource type, scope name and scope value. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_computeoptimizer_recommendation_preferences.example Ec2Instance,AccountId,123456789012
</code></pre></div>

            
        
    </body></html>