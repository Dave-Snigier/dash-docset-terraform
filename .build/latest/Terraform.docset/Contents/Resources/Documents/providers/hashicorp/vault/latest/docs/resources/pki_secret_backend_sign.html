<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/pki_secret_backend_sign --><head>
                <title>vault_pki_secret_backend_sign</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_pki_secret_backend_sign">vault_pki_secret_backend_sign</h1>

<p>Signs a new certificate based upon the provided CSR and the supplied parameters by the PKI Secret Backend.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_pki_secret_backend_sign"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">depends_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">vault_pki_secret_backend_role.admin</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.pki.path</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_pki_secret_backend_role.admin.name</span><span class="w"></span>
<span class="w">  </span><span class="na">csr</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="sh">-----BEGIN CERTIFICATE REQUEST-----</span>
<span class="sh">MIIEqDCCApACAQAwYzELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUx</span>
<span class="sh">ITAfBgNVBAoMGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDEcMBoGA1UEAwwTY2Vy</span>
<span class="sh">dC50ZXN0Lm15LmRvbWFpbjCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIB</span>
<span class="sh">AJupYCQ8UVCWII1Zof1c6YcSSaM9hEaDU78cfKP5RoSeH10BvrWRfT+mzCONVpNP</span>
<span class="sh">CW9Iabtvk6hm0ot6ilnndEyVJbc0g7hdDLBX5BM25D+DGZGJRKUz1V+uBrWmXtIt</span>
<span class="sh">Vonj7JTDTe7ViH0GDsB7CvqXFGXO2a2cDYBchLkL6vQiFPshxvUsLtwxuy/qdYgy</span>
<span class="sh">X6ya+AUoZcoQGy1XxNjfH6cPtWSWQGEp1oPR6vL9hU3laTZb3C+VV4jZem+he8/0</span>
<span class="sh">V+qV6fLG92WTXm2hmf8nrtUqqJ+C7mW/RJod+TviviBadIX0OHXW7k5HVsZood01</span>
<span class="sh">te8vMRUNJNiZfa9EMIK5oncbQn0LcM3Wo9VrjpL7jREb/4HCS2gswYGv7hzk9cCS</span>
<span class="sh">kVY4rDucchKbApuI3kfzmO7GFOF5eiSkYZpY/czNn7VVM3WCu6dpOX4+3rhgrZQw</span>
<span class="sh">kY14L930DaLVRUgve/zKVP2D2GHdEOs+MbV7s96UgigT9pXly/yHPj+1sSYqmnaD</span>
<span class="sh">5b7jSeJusmzO/nrwXVGLsnezR87VzHl9Ux9g5s6zh+R+PrZuVxYsLvoUpaasH47O</span>
<span class="sh">gIcBzSb/6pSGZKAUizmYsHsR1k88dAvsQ+FsUDaNokdi9VndEB4QPmiFmjyLV+0I</span>
<span class="sh">1TFoXop4sW11NPz1YCq+IxnYrEaIN3PyhY0GvBJDFY1/AgMBAAGgADANBgkqhkiG</span>
<span class="sh">9w0BAQsFAAOCAgEActuqnqS8Y9UF7e08w7tR3FPzGecWreuvxILrlFEZJxiLPFqL</span>
<span class="sh">It7uJvtypCVQvz6UQzKdBYO7tMpRaWViB8DrWzXNZjLMrg+QHcpveg8C0Ett4scG</span>
<span class="sh">fnvLk6fTDFYrnGvwHTqiHos5i0y3bFLyS1BGwSpdLAykGtvC+VM8mRyw/Y7CPcKN</span>
<span class="sh">77kebY/9xduW1g2uxWLr0x90RuQDv9psPojT+59tRLGSp5Kt0IeD3QtnAZEFE4aN</span>
<span class="sh">vt+Pd69eg3BgZ8ZeDgoqAw3yppvOkpAFiE5pw2qPZaM4SRphl4d2Lek2zNIMyZqv</span>
<span class="sh">do5zh356HOgXtDaSg0POnRGrN/Ua+LMCRTg6GEPUnx9uQb/zt8Zu0hIexDGyykp1</span>
<span class="sh">OGqtWlv/Nc8UYuS38v0BeB6bMPeoqQUjkqs8nHlAEFn0KlgYdtDC+7SdQx6wS4te</span>
<span class="sh">dBKRNDfC4lS3jYJgs55jHqonZgkpSi3bamlxpfpW0ukGBcmq91wRe4bOw/4uD/vf</span>
<span class="sh">UwqMWOdCYcU3mdYNjTWy22ORW3SGFQxMBwpUEURCSoeqWr6aJeQ7KAYkx1PrB5T8</span>
<span class="sh">OTEc13lWf+B0PU9UJuGTsmpIuImPDVd0EVDayr3mT5dDbqTVDbe8ppf2IswABmf0</span>
<span class="sh">o3DybUeUmknYjl109rdSf+76nuREICHatxXgN3xCMFuBaN4WLO+ksd6Y1Ys=</span>
<span class="sh">-----END CERTIFICATE REQUEST-----</span>
<span class="dl">EOT</span>
<span class="w">  </span><span class="na">common_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test.my.domain"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>backend</code> - (Required) The PKI secret backend the resource belongs to.</p></li>
<li><p><code>name</code> - (Required) Name of the role to create the certificate against</p></li>
<li><p><code>csr</code> - (Required) The CSR</p></li>
<li><p><code>common_name</code> - (Required) CN of certificate to create</p></li>
<li><p><code>alt_names</code> - (Optional) List of alternative names</p></li>
<li><p><code>other_sans</code> - (Optional) List of other SANs</p></li>
<li><p><code>ip_sans</code> - (Optional) List of alternative IPs</p></li>
<li><p><code>uri_sans</code> - (Optional) List of alternative URIs</p></li>
<li><p><code>ttl</code> - (Optional) Time to live</p></li>
<li><p><code>format</code> - (Optional) The format of data</p></li>
<li><p><code>exclude_cn_from_sans</code> - (Optional) Flag to exclude CN from SANs</p></li>
<li><p><code>min_seconds_remaining</code> - (Optional) Generate a new certificate when the expiration is within this number of seconds, default is 604800 (7 days)</p></li>
<li><p><code>auto_renew</code> - (Optional) If set to <code>true</code>, certs will be renewed if the expiration is within <code>min_seconds_remaining</code>. Default <code>false</code></p></li>
<li><p><code>issuer_ref</code> - (Optional) Specifies the default issuer of this request. Can
be the value <code>default</code>, a name, or an issuer ID. Use ACLs to prevent access to
the <code>/pki/issuer/:issuer_ref/{issue,sign}/:name</code> paths to prevent users
overriding the role's <code>issuer_ref</code> value.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the fields above, the following attributes are exported:</p>

<ul>
<li><p><code>certificate</code> - The certificate</p></li>
<li><p><code>issuing_ca</code> - The issuing CA</p></li>
<li><p><code>ca_chain</code> - The CA chain</p></li>
<li><p><code>serial_number</code> - The certificate's serial number, hex formatted.</p></li>
<li><p><code>expiration</code> - The expiration date of the certificate in unix epoch format</p></li>
<li><p><code>renew_pending</code> - <code>true</code> if the current time (during refresh) is after the start of the early renewal window declared by <code>min_seconds_remaining</code>, and <code>false</code> otherwise; if <code>auto_renew</code> is set to <code>true</code> then the provider will plan to replace the certificate once renewal is pending.</p></li>
</ul>

            
        
    </body></html>