<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ec2_instance_metadata_defaults --><head>
                <title>aws_ec2_instance_metadata_defaults</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_ec2_instance_metadata_defaults">Resource: aws_ec2_instance_metadata_defaults</h1>

<p>Manages regional EC2 instance metadata default settings.
More information can be found in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-IMDS-new-instances.html">Configure instance metadata options for new instances</a> user guide.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_ec2_instance_metadata_defaults"</span><span class="w"> </span><span class="nv">"enforce-imdsv2"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">http_tokens</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"required"</span><span class="w"></span>
<span class="w">  </span><span class="na">http_put_response_hop_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>This resource supports the following arguments.</p>

<ul>
<li><code>http_endpoint</code> - (Optional) Whether the metadata service is available. Can be <code>"enabled"</code>, <code>"disabled"</code>, or <code>"no-preference"</code>. Default: <code>"no-preference"</code>.</li>
<li><code>http_tokens</code> - (Optional) Whether the metadata service requires session tokens, also referred to as _Instance Metadata Service Version 2 (IMDSv2)_. Can be <code>"optional"</code>, <code>"required"</code>, or <code>"no-preference"</code>. Default: <code>"no-preference"</code>.</li>
<li><code>http_put_response_hop_limit</code> - (Optional) The desired HTTP PUT response hop limit for instance metadata requests. The larger the number, the further instance metadata requests can travel. Can be an integer from <code>1</code> to <code>64</code>, or <code>-1</code> to indicate no preference. Default: <code>-1</code>.</li>
<li><code>instance_metadata_tags</code> - (Optional) Enables or disables access to instance tags from the instance metadata service. Can be <code>"enabled"</code>, <code>"disabled"</code>, or <code>"no-preference"</code>. Default: <code>"no-preference"</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This data source exports no additional attributes.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>You cannot import this resource.</p>

            
        
    </body></html>