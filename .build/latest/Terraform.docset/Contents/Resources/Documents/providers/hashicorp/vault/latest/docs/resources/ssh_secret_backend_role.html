<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/ssh_secret_backend_role --><head>
                <title>vault_ssh_secret_backend_role</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_ssh_secret_backend_role">vault_ssh_secret_backend_role</h1>

<p>Provides a resource to manage roles in an SSH secret backend
<a href="https://www.vaultproject.io/docs/secrets/ssh/index.html">SSH secret backend within Vault</a>.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_mount"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ssh"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_ssh_secret_backend_role"</span><span class="w"> </span><span class="nv">"foo"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"my-role"</span><span class="w"></span>
<span class="w">    </span><span class="na">backend</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.example.path</span><span class="w"></span>
<span class="w">    </span><span class="na">key_type</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"ca"</span><span class="w"></span>
<span class="w">    </span><span class="na">allow_user_certificates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_ssh_secret_backend_role"</span><span class="w"> </span><span class="nv">"bar"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"otp-role"</span><span class="w"></span>
<span class="w">    </span><span class="na">backend</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_mount.example.path</span><span class="w"></span>
<span class="w">    </span><span class="na">key_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"otp"</span><span class="w"></span>
<span class="w">    </span><span class="na">default_user</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"default"</span><span class="w"></span>
<span class="w">    </span><span class="na">allowed_users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"default,baz"</span><span class="w"></span>
<span class="w">    </span><span class="na">cidr_list</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>name</code> - (Required) Specifies the name of the role to create.</p></li>
<li><p><code>backend</code> - (Required) The path where the SSH secret backend is mounted.</p></li>
<li><p><code>key_type</code> - (Required)  Specifies the type of credentials generated by this role. This can be either <code>otp</code>, <code>dynamic</code> or <code>ca</code>.</p></li>
<li><p><code>allow_bare_domains</code> - (Optional) Specifies if host certificates that are requested are allowed to use the base domains listed in <code>allowed_domains</code>.</p></li>
<li><p><code>allow_host_certificates</code> - (Optional) Specifies if certificates are allowed to be signed for use as a 'host'.</p></li>
<li><p><code>allow_subdomains</code> - (Optional) Specifies if host certificates that are requested are allowed to be subdomains of those listed in <code>allowed_domains</code>.</p></li>
<li><p><code>allow_user_certificates</code> - (Optional) Specifies if certificates are allowed to be signed for use as a 'user'.</p></li>
<li><p><code>allow_user_key_ids</code> - (Optional) Specifies if users can override the key ID for a signed certificate with the <code>key_id</code> field.</p></li>
<li><p><code>allowed_critical_options</code> - (Optional) Specifies a comma-separated list of critical options that certificates can have when signed.</p></li>
<li><p><code>allowed_domains_template</code> - (Optional) Specifies if <code>allowed_domains</code> can be declared using
identity template policies. Non-templated domains are also permitted.</p></li>
<li><p><code>allowed_domains</code> - (Optional) The list of domains for which a client can request a host certificate.</p></li>
<li><p><code>cidr_list</code> - (Optional) The comma-separated string of CIDR blocks for which this role is applicable.</p></li>
<li><p><code>allowed_extensions</code> - (Optional) Specifies a comma-separated list of extensions that certificates can have when signed.</p></li>
<li><p><code>default_extensions</code> - (Optional) Specifies a map of extensions that certificates have when signed.</p></li>
<li><p><code>default_critical_options</code> - (Optional) Specifies a map of critical options that certificates have when signed.</p></li>
<li><p><code>allowed_users_template</code> - (Optional) Specifies if <code>allowed_users</code> can be declared using identity template policies. Non-templated users are also permitted.</p></li>
<li><p><code>allowed_users</code> - (Optional) Specifies a comma-separated list of usernames that are to be allowed, only if certain usernames are to be allowed.</p></li>
<li><p><code>default_user_template</code> - (Optional) If set, <code>default_users</code> can be specified using identity template values. A non-templated user is also permitted.</p></li>
<li><p><code>default_user</code> - (Optional) Specifies the default username for which a credential will be generated.</p></li>
<li><p><code>key_id_format</code> - (Optional) Specifies a custom format for the key id of a signed certificate.</p></li>
<li><p><code>algorithm_signer</code> - (Optional) When supplied, this value specifies a signing algorithm for the key. Possible values: ssh-rsa, rsa-sha2-256, rsa-sha2-512.</p></li>
<li><p><code>allowed_user_key_config</code> - (Optional) Set of configuration blocks to define allowed <br/>
user key configuration, like key type and their lengths. Can be specified multiple times. <br/>
<em>See <a href="#allowed-user-key-configuration">Configuration-Options</a> for more info</em></p></li>
<li><p><code>max_ttl</code> - (Optional) Specifies the maximum Time To Live value.</p></li>
<li><p><code>ttl</code> - (Optional) Specifies the Time To Live value.</p></li>
<li><p><code>not_before_duration</code> - (Optional) Specifies the duration by which to backdate the ValidAfter property.
Uses <a href="https://developer.hashicorp.com/vault/docs/concepts/duration-format">duration format strings</a>.</p></li>
<li><p><code>allow_empty_principals</code> - (Optional) Allow signing certificates with no
valid principals (e.g. any valid principal). For backwards compatibility
only. The default of false is highly recommended.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Allowed%20User%20Key%20Configuration"></a><h3 id="allowed-user-key-configuration">Allowed User Key Configuration</h3>

<ul>
<li><p><code>type</code> - (Required) The SSH public key type. <br/>
<em>Supported key types are:</em> <br/>
<code>rsa</code>, <code>ecdsa</code>, <code>ec</code>, <code>dsa</code>, <code>ed25519</code>, <code>ssh-rsa</code>, <code>ssh-dss</code>, <code>ssh-ed25519</code>,
<code>ecdsa-sha2-nistp256</code>, <code>ecdsa-sha2-nistp384</code>, <code>ecdsa-sha2-nistp521</code></p></li>
<li><p><code>lengths</code> - (Required) A list of allowed key lengths as integers. 
For key types that do not support setting the length a value of <code>[0]</code> should be used.
Setting multiple lengths is only supported on Vault 1.10+. For prior releases <code>length</code>
must be set to a single element list.</p></li>
</ul>

<p>Example configuration blocks that might be included in the <code>vault_ssh_secret_backend_role</code>
  </p><div class="codehilite"><pre><span></span><code><span class="nb">allowed_user_key_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
  <span class="w">  </span><span class="na">type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"rsa"</span><span class="w"></span>
  <span class="w">  </span><span class="na">lengths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">2048</span><span class="p">,</span><span class="w"> </span><span class="m">4096</span><span class="p">]</span><span class="w"></span>
  <span class="p">}</span><span class="w"></span>
 <br/>
  <span class="nb">allowed_user_key_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
  <span class="w">  </span><span class="na">type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"dss"</span><span class="w"></span>
  <span class="w">  </span><span class="na">lengths</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">2048</span><span class="p">,</span><span class="w"> </span><span class="m">4096</span><span class="p">]</span><span class="w"></span>
  <span class="p">}</span><span class="w"></span>
  </code></pre></div><p></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>No additional attributes are exposed by this resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>SSH secret backend roles can be imported using the <code>path</code>, e.g.</p>

<pre><code>$ terraform import vault_ssh_secret_backend_role.foo ssh/roles/my-role
</code></pre>

            
        
    </body></html>