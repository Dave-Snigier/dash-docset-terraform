<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/data-sources/ldap_dynamic_role_credentials --><head>
                <title>vault_ldap_dynamic_credentials</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_ldap_dynamic_credentials">vault_ldap_dynamic_credentials</h1>

<p>Reads dynamic role credentials from an LDAP secret backend in Vault</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data retrieved from Vault will be written in cleartext to state file generated by Terraform, will appear in the console output when Terraform runs, and may be included in plan files if secrets are interpolated into any resource attributes. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_ldap_secret_backend"</span><span class="w"> </span><span class="nv">"test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">binddn</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"..."</span><span class="w"></span>
<span class="w">  </span><span class="na">bindpass</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"..."</span><span class="w"></span>
<span class="w">  </span><span class="na">url</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="s2">"..."</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_ldap_secret_backend_dynamic_role"</span><span class="w"> </span><span class="nv">"role"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">mount</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_ldap_secret_backend.test.path</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"%s"</span><span class="w"></span>
<span class="w">  </span><span class="na">creation_ldif</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="sh">dn: cn={{.Username}},ou=users,dc=example,dc=org</span>
<span class="sh">objectClass: person</span>
<span class="sh">objectClass: top</span>
<span class="sh">cn: learn</span>
<span class="sh">sn: {{.Password | utf16le | base64}}</span>
<span class="sh">userPassword: {{.Password}}</span>
<span class="dl">EOT</span>
<span class="w">  </span><span class="na">deletion_ldif</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="sh">dn: cn={{.Username}},ou=users,dc=example,dc=org</span>
<span class="sh">changetype: delete</span>
<span class="dl">EOT</span>
<span class="w">  </span><span class="na">rollback_ldif</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="sh">dn: cn={{.Username}},ou=users,dc=example,dc=org</span>
<span class="sh">changetype: delete</span>
<span class="dl">EOT</span>
<span class="w">  </span><span class="na">default_ttl</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"60s"</span><span class="w"></span>
<span class="w">  </span><span class="na">max_ttl</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"60s"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"vault_ldap_dynamic_credentials"</span><span class="w"> </span><span class="nv">"creds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">mount</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_ldap_secret_backend.test.path</span><span class="w"></span>
<span class="w">  </span><span class="na">role_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_ldap_secret_backend_dynamic_role.role.role_name</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace of the target resource.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>mount</code> - (Required) The path to the LDAP secret backend to
read credentials from, with no leading or trailing <code>/</code>s.</p></li>
<li><p><code>role_name</code> - (Required) The name of the LDAP secret backend dynamic role to read
credentials from, with no leading or trailing <code>/</code>s.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments above, the following attributes are exported:</p>

<ul>
<li><p><code>lease_id</code> - The lease identifier assigned by Vault.</p></li>
<li><p><code>lease_duration</code> - The duration of the secret lease, in seconds relative
to the time the data was requested. </p></li>
<li><p><code>lease_renewable</code> - True if the duration of this lease can be extended
through renewal.</p></li>
<li><p><code>distinguished_names</code> - List of the distinguished names (DN) created. Each name in this list 
corresponds to each action taken within the creation_ldif statements. 
This does not de-duplicate entries, so this will have one entry for each
LDIF statement within creation_ldif. </p></li>
<li><p><code>password</code> - The password for the dynamic role.</p></li>
<li><p><code>username</code> - The username of the generated account.</p></li>
</ul>

            
        
    </body></html>