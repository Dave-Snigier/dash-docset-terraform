<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/aws_auth_backend_client --><head>
                <title>vault_aws_auth_backend_client</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="vault_aws_auth_backend_client">vault_aws_auth_backend_client</h1>

<p>Configures the client used by an AWS Auth Backend in Vault.</p>

<p>This resource sets the access key and secret key that Vault will use
when making API requests on behalf of an AWS Auth Backend. It can also
be used to override the URLs Vault uses when making those API requests.</p>

<p>For more information, see the
<a href="https://www.vaultproject.io/api-docs/auth/aws#configure-client">Vault docs</a>.</p>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>Important</em>
    <p>All data provided in the resource configuration will be written in cleartext to state and plan files generated by Terraform, and will appear in the console output when Terraform runs. Protect these artifacts accordingly. See <a href="../index.html">the main provider documentation</a> for more details.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>You can setup the AWS auth engine with Workload Identity Federation (WIF) for a secret-less configuration:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_auth_backend"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aws"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_aws_auth_backend_client"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="na">identity_token_audience</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;TOKEN_AUDIENCE&gt;"</span><span class="w"></span>
<span class="w">  </span><span class="na">identity_token_ttl</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;TOKEN_TTL&gt;"</span><span class="w"></span>
<span class="w">  </span><span class="na">role_arn</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;AWS_ROLE_ARN&gt;"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_auth_backend"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"aws"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"vault_aws_auth_backend_client"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">backend</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">vault_auth_backend.example.path</span><span class="w"></span>
<span class="w">  </span><span class="na">access_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INSERT_AWS_ACCESS_KEY"</span><span class="w"></span>
<span class="w">  </span><span class="na">secret_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"INSERT_AWS_SECRET_KEY"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>namespace</code> - (Optional) The namespace to provision the resource in.
The value should not contain leading or trailing forward slashes.
The <code>namespace</code> is always relative to the provider's configured <a href="../index.html#namespace">namespace</a>.
<em>Available only for Vault Enterprise</em>.</p></li>
<li><p><code>backend</code> - (Optional) The path the AWS auth backend being configured was
mounted at.  Defaults to <code>aws</code>.</p></li>
<li><p><code>access_key</code> - (Optional) The AWS access key that Vault should use for the
auth backend. Mutually exclusive with <code>identity_token_audience</code>.</p></li>
<li><p><code>secret_key</code> - (Optional) The AWS secret key that Vault should use for the
auth backend.</p></li>
<li><p><code>identity_token_audience</code> - (Optional) The audience claim value. Mutually exclusive with <code>access_key</code>. 
Requires Vault 1.17+. <em>Available only for Vault Enterprise</em></p></li>
<li><p><code>identity_token_ttl</code> - (Optional) The TTL of generated identity tokens in seconds. Requires Vault 1.17+.
<em>Available only for Vault Enterprise</em></p></li>
<li><p><code>role_arn</code> - (Optional) Role ARN to assume for plugin identity token federation. Requires Vault 1.17+.
<em>Available only for Vault Enterprise</em></p></li>
<li><p><code>ec2_endpoint</code> - (Optional) Override the URL Vault uses when making EC2 API
calls.</p></li>
<li><p><code>iam_endpoint</code> - (Optional) Override the URL Vault uses when making IAM API
calls.</p></li>
<li><p><code>sts_endpoint</code> - (Optional) Override the URL Vault uses when making STS API
calls.</p></li>
<li><p><code>sts_region</code> - (Optional) Override the default region when making STS API 
calls. The <code>sts_endpoint</code> argument must be set when using <code>sts_region</code>.</p></li>
<li><p><code>use_sts_region_from_client</code> - (Optional) Available in Vault v1.15+. If set, 
overrides both <code>sts_endpoint</code> and <code>sts_region</code> to instead use the region
specified in the client request headers for IAM-based authentication.
This can be useful when you have client requests coming from different 
regions and want flexibility in which regional STS API is used.</p></li>
<li><p><code>iam_server_id_header_value</code> - (Optional) The value to require in the
<code>X-Vault-AWS-IAM-Server-ID</code> header as part of <code>GetCallerIdentity</code> requests
that are used in the IAM auth method.</p></li>
<li><p><code>max_retries</code> - (Optional) Number of max retries the client should use for recoverable errors. 
The default <code>-1</code> falls back to the AWS SDK's default behavior.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>No additional attributes are exported by this resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>AWS auth backend clients can be imported using <code>auth/</code>, the <code>backend</code> path, and <code>/config/client</code> e.g.</p>

<pre><code>$ terraform import vault_aws_auth_backend_client.example auth/aws/config/client
</code></pre>

            
        
    </body></html>