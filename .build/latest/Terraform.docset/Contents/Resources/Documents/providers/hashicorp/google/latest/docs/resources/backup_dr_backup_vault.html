<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/backup_dr_backup_vault --><head>
                <title>google_backup_dr_backup_vault</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="google_backup_dr_backup_vault">google_backup_dr_backup_vault</h1>

<p>Container to store and organize immutable and indelible backups.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage%20-%20Backup%20Dr%20Backup%20Vault%20Full"></a><h2 id="example-usage-backup-dr-backup-vault-full">Example Usage - Backup Dr Backup Vault Full</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"google_backup_dr_backup_vault"</span><span class="w"> </span><span class="nv">"backup-vault-test"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"us-central1"</span><span class="w"></span>
<span class="w">  </span><span class="na">backup_vault_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"backup-vault-test"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a second backup vault built by Terraform."</span><span class="w"></span>
<span class="w">  </span><span class="na">backup_minimum_enforced_retention_duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"100000s"</span><span class="w"></span>
<span class="w">  </span><span class="nb">annotations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">annotations1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar1"</span><span class="w"></span>
<span class="w">    </span><span class="na">annotations2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"baz1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bar1"</span><span class="w"></span>
<span class="w">    </span><span class="na">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"baz1"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">force_update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="na">access_restriction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WITHIN_ORGANIZATION"</span><span class="w"></span>
<span class="w">  </span><span class="na">ignore_inactive_datasources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="na">ignore_backup_plan_references</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="na">allow_missing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>backup_minimum_enforced_retention_duration</code> -
(Required)
Required. The default and minimum enforced retention for each backup within the backup vault. The enforced retention for each backup can be extended.</p></li>
<li><p><code>location</code> -
(Required)
The GCP location for the backup vault.</p></li>
<li><p><code>backup_vault_id</code> -
(Required)
Required. ID of the requesting object.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>description</code> -
(Optional)
Optional. The description of the BackupVault instance (2048 characters or less).</p></li>
<li><p><code>labels</code> -
(Optional)
Optional. Resource labels to represent user provided metadata. 
<strong>Note</strong>: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field <code>effective_labels</code> for all of the labels present on the resource.</p></li>
<li><p><code>effective_time</code> -
(Optional)
Optional. Time after which the BackupVault resource is locked.</p></li>
<li><p><code>annotations</code> -
(Optional)
Optional. User annotations. See https://google.aip.dev/128#annotations
Stores small amounts of arbitrary data. 
<strong>Note</strong>: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field <code>effective_annotations</code> for all of the annotations present on the resource.</p></li>
<li><p><code>access_restriction</code> -
(Optional)
Access restriction for the backup vault. Default value is <code>WITHIN_ORGANIZATION</code> if not provided during creation.
Default value is <code>WITHIN_ORGANIZATION</code>.
Possible values are: <code>ACCESS_RESTRICTION_UNSPECIFIED</code>, <code>WITHIN_PROJECT</code>, <code>WITHIN_ORGANIZATION</code>, <code>UNRESTRICTED</code>, <code>WITHIN_ORG_BUT_UNRESTRICTED_FOR_BA</code>.</p></li>
<li><p><code>force_update</code> -
(Optional)
If set, allow update to extend the minimum enforced retention for backup vault. This overrides
the restriction against conflicting retention periods. This conflict may occur when the
expiration schedule defined by the associated backup plan is shorter than the minimum
retention set by the backup vault.</p></li>
<li><p><code>force_delete</code> -
(Optional, Deprecated)
If set, the following restrictions against deletion of the backup vault instance can be overridden:</p>

<ul>
<li>deletion of a backup vault instance containing no backups, but still containing empty datasources.</li>
<li>deletion of a backup vault instance that is being referenced by an active backup plan.</li>
</ul>

<p>~&gt; <strong>Warning:</strong> <code>force_delete</code> is deprecated and will be removed in a future major release. Use <code>ignore_inactive_datasources</code> instead.</p></li>
<li><p><code>ignore_inactive_datasources</code> -
(Optional)
If set, the following restrictions against deletion of the backup vault instance can be overridden:</p>

<ul>
<li>deletion of a backup vault instance containing no backups, but still containing empty datasources.</li>
</ul></li>
<li><p><code>ignore_backup_plan_references</code> -
(Optional)
If set, the following restrictions against deletion of the backup vault instance can be overridden:</p>

<ul>
<li>deletion of a backup vault instance that is being referenced by an active backup plan.</li>
</ul></li>
<li><p><code>allow_missing</code> -
(Optional)
Allow idempotent deletion of backup vault. The request will still succeed in case the backup vault does not exist.</p></li>
<li><p><code>project</code> - (Optional) The ID of the project in which the resource belongs.
If it is not provided, the provider project is used.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the arguments listed above, the following computed attributes are exported:</p>

<ul>
<li><p><code>id</code> - an identifier for the resource with format <code>projects/{{project}}/locations/{{location}}/backupVaults/{{backup_vault_id}}</code></p></li>
<li><p><code>name</code> -
Output only. Identifier. The resource name.</p></li>
<li><p><code>create_time</code> -
Output only. The time when the instance was created.</p></li>
<li><p><code>update_time</code> -
Output only. The time when the instance was updated.</p></li>
<li><p><code>deletable</code> -
Output only. Set to true when there are no backups nested under this resource.</p></li>
<li><p><code>etag</code> -
Optional. Server specified ETag for the backup vault resource to prevent simultaneous updates from overwiting each other.</p></li>
<li><p><code>state</code> -
Output only. The BackupVault resource instance state. 
Possible values:
STATE_UNSPECIFIED
CREATING
ACTIVE
DELETING
ERROR</p></li>
<li><p><code>backup_count</code> -
Output only. The number of backups in this backup vault.</p></li>
<li><p><code>service_account</code> -
Output only. Service account used by the BackupVault Service for this BackupVault.  The user should grant this account permissions in their workload project to enable the service to run backups and restores there.</p></li>
<li><p><code>total_stored_bytes</code> -
Output only. Total size of the storage used by all backup resources.</p></li>
<li><p><code>uid</code> -
Output only. Output only Immutable after resource creation until resource deletion.</p></li>
<li><p><code>terraform_labels</code> -
The combination of labels configured directly on the resource
and default labels configured on the provider.</p></li>
<li><p><code>effective_labels</code> -
All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.</p></li>
<li><p><code>effective_annotations</code> -
All of annotations (key/value pairs) present on the resource in GCP, including the annotations configured through Terraform, other clients and services.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>This resource provides the following
<a href="https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts">Timeouts</a> configuration options:</p>

<ul>
<li><code>create</code> - Default is 20 minutes.</li>
<li><code>update</code> - Default is 20 minutes.</li>
<li><code>delete</code> - Default is 20 minutes.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>BackupVault can be imported using any of these accepted formats:</p>

<ul>
<li><code>projects/{{project}}/locations/{{location}}/backupVaults/{{backup_vault_id}}</code></li>
<li><code>{{project}}/{{location}}/{{backup_vault_id}}</code></li>
<li><code>{{location}}/{{backup_vault_id}}</code></li>
</ul>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import BackupVault using one of the formats above. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"projects/{{project}}/locations/{{location}}/backupVaults/{{backup_vault_id}}"</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">google_backup_dr_backup_vault.default</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>When using the <a href="https://developer.hashicorp.com/terraform/cli/commands/import"><code>terraform import</code> command</a>, BackupVault can be imported using one of the formats above. For example:</p>

<pre><code>$ terraform import google_backup_dr_backup_vault.default projects/{{project}}/locations/{{location}}/backupVaults/{{backup_vault_id}}
$ terraform import google_backup_dr_backup_vault.default {{project}}/{{location}}/{{backup_vault_id}}
$ terraform import google_backup_dr_backup_vault.default {{location}}/{{backup_vault_id}}
</code></pre>

<a class="dashAnchor" name="//apple_ref/cpp/Section/User%20Project%20Overrides"></a><h2 id="user-project-overrides">User Project Overrides</h2>

<p>This resource supports <a href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override">User Project Overrides</a>.</p>

            
        
    </body></html>