<html><!-- Online page at https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/connect_instance_storage_config --><head>
                <title>aws_connect_instance_storage_config</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="resource-aws_connect_instance_storage_config">Resource: aws_connect_instance_storage_config</h1>

<p>Provides an Amazon Connect Instance Storage Config resource. For more information see
<a href="https://docs.aws.amazon.com/connect/latest/adminguide/amazon-connect-get-started.html">Amazon Connect: Getting Started</a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20Config%20Kinesis%20Firehose%20Config"></a><h3 id="storage-config-kinesis-firehose-config">Storage Config Kinesis Firehose Config</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_connect_instance_storage_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"CONTACT_TRACE_RECORDS"</span><span class="w"></span>

<span class="w">  </span><span class="nb">storage_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">kinesis_firehose_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">firehose_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_kinesis_firehose_delivery_stream.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">storage_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"KINESIS_FIREHOSE"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20Config%20Kinesis%20Stream%20Config"></a><h3 id="storage-config-kinesis-stream-config">Storage Config Kinesis Stream Config</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_connect_instance_storage_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"CONTACT_TRACE_RECORDS"</span><span class="w"></span>

<span class="w">  </span><span class="nb">storage_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">kinesis_stream_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">stream_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_kinesis_stream.example.arn</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">storage_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"KINESIS_STREAM"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20Config%20Kinesis%20Video%20Stream%20Config"></a><h3 id="storage-config-kinesis-video-stream-config">Storage Config Kinesis Video Stream Config</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_connect_instance_storage_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MEDIA_STREAMS"</span><span class="w"></span>

<span class="w">  </span><span class="nb">storage_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">kinesis_video_stream_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">prefix</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">      </span><span class="na">retention_period_hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>

<span class="w">      </span><span class="nb">encryption_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">encryption_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"KMS"</span><span class="w"></span>
<span class="w">        </span><span class="na">key_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_kms_key.example.arn</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">storage_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"KINESIS_VIDEO_STREAM"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20Config%20S3%20Config"></a><h3 id="storage-config-s3-config">Storage Config S3 Config</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_connect_instance_storage_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"CHAT_TRANSCRIPTS"</span><span class="w"></span>

<span class="w">  </span><span class="nb">storage_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">s3_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">bucket_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.example.id</span><span class="w"></span>
<span class="w">      </span><span class="na">bucket_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">storage_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"S3"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20Config%20S3%20Config%20with%20Encryption%20Config"></a><h3 id="storage-config-s3-config-with-encryption-config">Storage Config S3 Config with Encryption Config</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"aws_connect_instance_storage_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"CHAT_TRANSCRIPTS"</span><span class="w"></span>

<span class="w">  </span><span class="nb">storage_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">s3_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">bucket_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.example.id</span><span class="w"></span>
<span class="w">      </span><span class="na">bucket_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>

<span class="w">      </span><span class="nb">encryption_config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">encryption_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"KMS"</span><span class="w"></span>
<span class="w">        </span><span class="na">key_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_kms_key.example.arn</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">storage_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"S3"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>This resource supports the following arguments:</p>

<ul>
<li><code>instance_id</code> - (Required) Specifies the identifier of the hosting Amazon Connect Instance.</li>
<li><code>resource_type</code> - (Required) A valid resource type. Valid Values: <code>AGENT_EVENTS</code> | <code>ATTACHMENTS</code> | <code>CALL_RECORDINGS</code> | <code>CHAT_TRANSCRIPTS</code> | <code>CONTACT_EVALUATIONS</code> | <code>CONTACT_TRACE_RECORDS</code> | <code>EMAIL_MESSAGES</code> | <code>MEDIA_STREAMS</code> | <code>REAL_TIME_CONTACT_ANALYSIS_CHAT_SEGMENTS</code> | <code>REAL_TIME_CONTACT_ANALYSIS_SEGMENTS</code> | <code>REAL_TIME_CONTACT_ANALYSIS_VOICE_SEGMENTS</code> | <code>SCHEDULED_REPORTS</code> | <code>SCREEN_RECORDINGS</code>.</li>
<li><code>storage_config</code> - (Required) Specifies the storage configuration options for the Connect Instance. <a href="#storage_config">Documented below</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/storage_config"></a><h3 id="storage_config"><code>storage_config</code></h3>

<p>The <code>storage_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>kinesis_firehose_config</code> - (Required if <code>type</code> is set to <code>KINESIS_FIREHOSE</code>) A block that specifies the configuration of the Kinesis Firehose delivery stream. <a href="#kinesis_firehose_config">Documented below</a>.</li>
<li><code>kinesis_stream_config</code> - (Required if <code>type</code> is set to <code>KINESIS_STREAM</code>) A block that specifies the configuration of the Kinesis data stream. <a href="#kinesis_stream_config">Documented below</a>.</li>
<li><code>kinesis_video_stream_config</code> - (Required if <code>type</code> is set to <code>KINESIS_VIDEO_STREAM</code>) A block that specifies the configuration of the Kinesis video stream. <a href="#kinesis_video_stream_config">Documented below</a>.</li>
<li><code>s3_config</code> - (Required if <code>type</code> is set to <code>S3</code>) A block that specifies the configuration of S3 Bucket. <a href="#s3_config">Documented below</a>.</li>
<li><code>storage_type</code> - (Required) A valid storage type. Valid Values: <code>S3</code> | <code>KINESIS_VIDEO_STREAM</code> | <code>KINESIS_STREAM</code> | <code>KINESIS_FIREHOSE</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/kinesis_firehose_config"></a><h4 id="kinesis_firehose_config"><code>kinesis_firehose_config</code></h4>

<p>The <code>kinesis_firehose_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>firehose_arn</code> - (Required) The Amazon Resource Name (ARN) of the delivery stream.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/kinesis_stream_config"></a><h4 id="kinesis_stream_config"><code>kinesis_stream_config</code></h4>

<p>The <code>kinesis_stream_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>stream_arn</code> - (Required) The Amazon Resource Name (ARN) of the data stream.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/kinesis_video_stream_config"></a><h4 id="kinesis_video_stream_config"><code>kinesis_video_stream_config</code></h4>

<p>The <code>kinesis_video_stream_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>encryption_config</code> - (Required) The encryption configuration. <a href="#encryption_config">Documented below</a>.</li>
<li><code>prefix</code> - (Required) The prefix of the video stream. Minimum length of <code>1</code>. Maximum length of <code>128</code>. When read from the state, the value returned is <code>&lt;prefix&gt;-connect-&lt;connect_instance_alias&gt;-contact-</code> since the API appends additional details to the <code>prefix</code>.</li>
<li><code>retention_period_hours</code> - (Required) The number of hours data is retained in the stream. Kinesis Video Streams retains the data in a data store that is associated with the stream. Minimum value of <code>0</code>. Maximum value of <code>87600</code>. A value of <code>0</code>, indicates that the stream does not persist data.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/s3_config"></a><h4 id="s3_config"><code>s3_config</code></h4>

<p>The <code>s3_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>bucket_name</code> - (Required) The S3 bucket name.</li>
<li><code>bucket_prefix</code> - (Required) The S3 bucket prefix.</li>
<li><code>encryption_config</code> - (Optional) The encryption configuration. <a href="#encryption_config">Documented below</a>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/encryption_config"></a><h4 id="encryption_config"><code>encryption_config</code></h4>

<p>The <code>encryption_config</code> configuration block supports the following arguments:</p>

<ul>
<li><code>encryption_type</code> - (Required) The type of encryption. Valid Values: <code>KMS</code>.</li>
<li><code>key_id</code> - (Required) The full ARN of the encryption key. Be sure to provide the full ARN of the encryption key, not just the ID.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>This resource exports the following attributes in addition to the arguments above:</p>

<ul>
<li><code>association_id</code> - The existing association identifier that uniquely identifies the resource type and storage config for the given instance ID.</li>
<li><code>id</code> - The identifier of the hosting Amazon Connect Instance, <code>association_id</code>, and <code>resource_type</code> separated by a colon (<code>:</code>).</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>In Terraform v1.5.0 and later, use an <a href="https://developer.hashicorp.com/terraform/language/import"><code>import</code> block</a> to import Amazon Connect Instance Storage Configs using the <code>instance_id</code>, <code>association_id</code>, and <code>resource_type</code> separated by a colon (<code>:</code>). For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_connect_instance_storage_config.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"f1288a1f-6193-445a-b47e-af739b2:c1d4e5f6-1b3c-1b3c-1b3c-c1d4e5f6c1d4e5:CHAT_TRANSCRIPTS"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Using <code>terraform import</code>, import Amazon Connect Instance Storage Configs using the <code>instance_id</code>, <code>association_id</code>, and <code>resource_type</code> separated by a colon (<code>:</code>). For example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">% </span>terraform import aws_connect_instance_storage_config.example f1288a1f-6193-445a-b47e-af739b2:c1d4e5f6-1b3c-1b3c-1b3c-c1d4e5f6c1d4e5:CHAT_TRANSCRIPTS
</code></pre></div>

            
        
    </body></html>