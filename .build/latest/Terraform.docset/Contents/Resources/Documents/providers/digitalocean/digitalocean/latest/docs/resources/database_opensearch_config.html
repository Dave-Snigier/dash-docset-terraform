<html><!-- Online page at https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/database_opensearch_config --><head>
                <title>digitalocean_database_opensearch_config</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="digitalocean_database_opensearch_config">digitalocean_database_opensearch_config</h1>

<p>Provides a virtual resource that can be used to change advanced configuration
options for a DigitalOcean managed Opensearch database cluster.</p>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Opensearch configurations are only removed from state when destroyed. The remote configuration is not unset.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"digitalocean_database_opensearch_config"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w">                                            </span><span class="o">=</span><span class="w"> </span><span class="nv">digitalocean_database_cluster.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_enabled</span><span class="w">                                           </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_history_enabled</span><span class="w">                                   </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_history_max_age_hours</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="m">24</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_history_max_docs</span><span class="w">                                  </span><span class="o">=</span><span class="w"> </span><span class="m">2500000</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_history_rollover_check_period_hours</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="w"></span>
<span class="w">  </span><span class="na">ism_history_rollover_retention_period_days</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"></span>
<span class="w">  </span><span class="na">http_max_content_length_bytes</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="m">100000000</span><span class="w"></span>
<span class="w">  </span><span class="na">http_max_header_size_bytes</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">8192</span><span class="w"></span>
<span class="w">  </span><span class="na">http_max_initial_line_length_bytes</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="m">4096</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_query_bool_max_clause_count</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="m">1024</span><span class="w"></span>
<span class="w">  </span><span class="na">search_max_buckets</span><span class="w">                                    </span><span class="o">=</span><span class="w"> </span><span class="m">10000</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_fielddata_cache_size_percentage</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_memory_index_buffer_size_percentage</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_memory_min_index_buffer_size_mb</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">48</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_memory_max_index_buffer_size_mb</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_queries_cache_size_percentage</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_recovery_max_mb_per_sec</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="m">40</span><span class="w"></span>
<span class="w">  </span><span class="na">indices_recovery_max_concurrent_file_chunks</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="na">action_auto_create_index_enabled</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">action_destructive_requires_name</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">enable_security_audit</span><span class="w">                                 </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_search_size</span><span class="w">                               </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_search_throttled_size</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_search_throttled_queue_size</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_search_queue_size</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_get_size</span><span class="w">                                  </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_get_queue_size</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_analyze_size</span><span class="w">                              </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_analyze_queue_size</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_write_size</span><span class="w">                                </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_write_queue_size</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">  </span><span class="na">thread_pool_force_merge_size</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="w">  </span><span class="na">override_main_response_version</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">script_max_compilations_rate</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="s2">"use-context"</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_max_shards_per_node</span><span class="w">                           </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_routing_allocation_node_concurrent_recoveries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="na">plugins_alerting_filter_by_backend_roles_enabled</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">reindex_remote_whitelist</span><span class="w">                              </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"cloud.digitalocean.com:8080"</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"digitalocean_database_cluster"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-opensearch-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">engine</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"opensearch"</span><span class="w"></span>
<span class="w">  </span><span class="na">version</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">  </span><span class="na">size</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"db-s-1vcpu-2gb"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"nyc3"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported. See the <a href="https://docs.digitalocean.com/reference/api/api-reference/#operation/databases_patch_config">DigitalOcean API documentation</a>
for additional details on each option.</p>

<ul>
<li><code>cluster_id</code> - (Required) The ID of the target Opensearch cluster.</li>
<li><code>ism_enabled</code> - (Optional) Specifies whether ISM is enabled or not. Default: <code>true</code></li>
<li><code>ism_history_enabled</code> - (Optional) Specifies whether audit history is enabled or not. The logs from ISM are automatically indexed to a logs document. Default: <code>true</code></li>
<li><code>ism_history_max_age_hours</code> - (Optional) Maximum age before rolling over the audit history index, in hours. Default: <code>24</code></li>
<li><code>ism_history_max_docs</code> - (Optional) Maximum number of documents before rolling over the audit history index. Default: <code>2500000</code></li>
<li><code>ism_history_rollover_check_period_hours</code> - (Optional) The time between rollover checks for the audit history index, in hours. Default: <code>8</code></li>
<li><code>ism_history_rollover_retention_period_days</code> - (Optional) Length of time long audit history indices are kept, in days. Default: <code>30</code></li>
<li><code>http_max_content_length_bytes</code> - (Optional) Maximum content length for HTTP requests to the OpenSearch HTTP API, in bytes. Default: <code>100000000</code></li>
<li><code>http_max_header_size_bytes</code> - (Optional) Maximum size of allowed headers, in bytes. Default: <code>8192</code></li>
<li><code>http_max_initial_line_length_bytes</code> - (Optional) Maximum length of an HTTP URL, in bytes. Default: <code>4096</code></li>
<li><code>indices_query_bool_max_clause_count</code> - (Optional) Maximum number of clauses Lucene BooleanQuery can have. Only increase it if necessary, as it may cause performance issues. Default: <code>1024</code></li>
<li><code>search_max_buckets</code> - (Optional) Maximum number of aggregation buckets allowed in a single response. Default: <code>10000</code></li>
<li><code>indices_fielddata_cache_size_percentage</code> - (Optional) Maximum amount of heap memory used for field data cache, expressed as a percentage. Decreasing the value too much will increase overhead of loading field data. Increasing the value too much will decrease amount of heap available for other operations.</li>
<li><code>indices_memory_index_buffer_size_percentage</code> - (Optional) Total amount of heap used for indexing buffer before writing segments to disk, expressed as a percentage. Too low value will slow down indexing; too high value will increase indexing performance but causes performance issues for query performance. Default: <code>10</code></li>
<li><code>indices_memory_min_index_buffer_size_mb</code> - (Optional) Minimum amount of heap used for indexing buffer before writing segments to disk, in mb. Works in conjunction with indices_memory_index_buffer_size_percentage, each being enforced. Default: <code>48</code></li>
<li><code>indices_memory_max_index_buffer_size_mb</code> - (Optional) Maximum amount of heap used for indexing buffer before writing segments to disk, in mb. Works in conjunction with indices_memory_index_buffer_size_percentage, each being enforced. The default is unbounded.</li>
<li><code>indices_queries_cache_size_percentage</code> - (Optional) Maximum amount of heap used for query cache. Too low value will decrease query performance and increase performance for other operations; too high value will cause issues with other functionality. Default: <code>10</code></li>
<li><code>indices_recovery_max_mb_per_sec</code> - (Optional) Limits total inbound and outbound recovery traffic for each node, expressed in mb per second. Applies to both peer recoveries as well as snapshot recoveries (i.e., restores from a snapshot). Default: <code>40</code></li>
<li><code>indices_recovery_max_concurrent_file_chunks</code> - (Optional) Maximum number of file chunks sent in parallel for each recovery. Default: <code>2</code></li>
<li><code>action_auto_create_index_enabled</code> - (Optional) Specifices whether to allow automatic creation of indices. Default: <code>true</code></li>
<li><code>action_destructive_requires_name</code> - (Optional) Specifies whether to require explicit index names when deleting indices.</li>
<li><code>enable_security_audit</code> - (Optional) Specifies whether to allow security audit logging. Default: <code>false</code></li>
<li><code>thread_pool_search_size</code> - (Optional) Number of workers in the search operation thread pool. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>thread_pool_search_throttled_size</code> - (Optional) Number of workers in the search throttled operation thread pool. This pool is used for searching frozen indices. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>thread_pool_search_throttled_queue_size</code> - (Optional) Size of queue for operations in the search throttled thread pool.</li>
<li><code>thread_pool_search_queue_size</code> - (Optional) Size of queue for operations in the search thread pool.</li>
<li><code>thread_pool_get_size</code> - (Optional) Number of workers in the get operation thread pool. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>thread_pool_get_queue_size</code> - (Optional) Size of queue for operations in the get thread pool.</li>
<li><code>thread_pool_analyze_size</code> - (Optional) Number of workers in the analyze operation thread pool. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>thread_pool_analyze_queue_size</code> - (Optional) Size of queue for operations in the analyze thread pool.</li>
<li><code>thread_pool_write_size</code> - (Optional) Number of workers in the write operation thread pool. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>thread_pool_write_queue_size</code> - (Optional) Size of queue for operations in the write thread pool.</li>
<li><code>thread_pool_force_merge_size</code> - (Optional) Number of workers in the force merge operation thread pool. This pool is used for forcing a merge between shards of one or more indices. Do note this may have maximum value depending on CPU count - value is automatically lowered if set to higher than maximum value.</li>
<li><code>override_main_response_version</code> - (Optional) Compatibility mode sets OpenSearch to report its version as 7.10 so clients continue to work. Default: <code>false</code></li>
<li><code>script_max_compilations_rate</code> - (Optional) Limits the number of inline script compilations within a period of time. Default is <code>use-context</code></li>
<li><code>cluster_max_shards_per_node</code> - (Optional) Maximum number of shards allowed per data node.</li>
<li><code>cluster_routing_allocation_node_concurrent_recoveries</code> - (Optional) Maximum concurrent incoming/outgoing shard recoveries (normally replicas) are allowed to happen per node. Default: <code>2</code></li>
<li><code>plugins_alerting_filter_by_backend_roles_enabled</code> - (Optional) Enable or disable filtering of alerting by backend roles. Default: <code>false</code></li>
<li><code>reindex_remote_whitelist</code> - (Optional) Allowlist of remote IP addresses for reindexing. Changing this value will cause all OpenSearch instances to restart.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>All above attributes are exported. If an attribute was set outside of Terraform, it will be computed.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>A Opensearch database cluster's configuration can be imported using the <code>id</code> the parent cluster, e.g.</p>

<pre><code>terraform import digitalocean_database_opensearch_config.example 4b62829a-9c42-465b-aaa3-84051048e712
</code></pre>

            
        
    </body></html>