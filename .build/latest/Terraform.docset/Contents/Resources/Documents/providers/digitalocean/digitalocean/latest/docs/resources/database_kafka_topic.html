<html><!-- Online page at https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/database_kafka_topic --><head>
                <title>digitalocean_database_kafka_topic</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="digitalocean_database_kafka_topic">digitalocean_database_kafka_topic</h1>

<p>Provides a DigitalOcean Kafka topic for Kafka clusters.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Create%20a%20new%20Kafka%20topic"></a><h3 id="create-a-new-kafka-topic">Create a new Kafka topic</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"digitalocean_database_kafka_topic"</span><span class="w"> </span><span class="nv">"topic-01"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nv">digitalocean_database_cluster.kafka-example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"topic-01"</span><span class="w"></span>
<span class="w">  </span><span class="na">partition_count</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">  </span><span class="na">replication_factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">  </span><span class="nb">config</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">cleanup_policy</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="s2">"compact"</span><span class="w"></span>
<span class="w">    </span><span class="na">compression_type</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="s2">"uncompressed"</span><span class="w"></span>
<span class="w">    </span><span class="na">delete_retention_ms</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="m">14000</span><span class="w"></span>
<span class="w">    </span><span class="na">file_delete_delay_ms</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="m">170000</span><span class="w"></span>
<span class="w">    </span><span class="na">flush_messages</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="m">92233</span><span class="w"></span>
<span class="w">    </span><span class="na">flush_ms</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="m">92233720368</span><span class="w"></span>
<span class="w">    </span><span class="na">index_interval_bytes</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="m">40962</span><span class="w"></span>
<span class="w">    </span><span class="na">max_compaction_lag_ms</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">9223372036854775807</span><span class="w"></span>
<span class="w">    </span><span class="na">max_message_bytes</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="m">1048588</span><span class="w"></span>
<span class="w">    </span><span class="na">message_down_conversion_enable</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">message_format_version</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.0-IV1"</span><span class="w"></span>
<span class="w">    </span><span class="na">message_timestamp_difference_max_ms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9223372036854775807</span><span class="w"></span>
<span class="w">    </span><span class="na">message_timestamp_type</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"log_append_time"</span><span class="w"></span>
<span class="w">    </span><span class="na">min_cleanable_dirty_ratio</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">0.5</span><span class="w"></span>
<span class="w">    </span><span class="na">min_compaction_lag_ms</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="m">20000</span><span class="w"></span>
<span class="w">    </span><span class="na">min_insync_replicas</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"></span>
<span class="w">    </span><span class="na">preallocate</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="na">retention_bytes</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="err">-</span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">retention_ms</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="err">-</span><span class="m">1</span><span class="w"></span>
<span class="w">    </span><span class="na">segment_bytes</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="m">209715200</span><span class="w"></span>
<span class="w">    </span><span class="na">segment_index_bytes</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="m">10485760</span><span class="w"></span>
<span class="w">    </span><span class="na">segment_jitter_ms</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"></span>
<span class="w">    </span><span class="na">segment_ms</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="m">604800000</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"digitalocean_database_cluster"</span><span class="w"> </span><span class="nv">"kafka-example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-kafka-cluster"</span><span class="w"></span>
<span class="w">  </span><span class="na">engine</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"kafka"</span><span class="w"></span>
<span class="w">  </span><span class="na">version</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"3.5"</span><span class="w"></span>
<span class="w">  </span><span class="na">size</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"db-s-2vcpu-2gb"</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"nyc1"</span><span class="w"></span>
<span class="w">  </span><span class="na">node_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"></span>
<span class="w">  </span><span class="na">tags</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"production"</span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>cluster_id</code> - (Required) The ID of the source database cluster. Note: This must be a Kafka cluster.</li>
<li><code>name</code> - (Required) The name for the topic.</li>
<li><code>partition_count</code> - (Optional) The number of partitions for the topic. Default and minimum set at 3, maximum is 2048.</li>
<li><code>replication_factor</code> - (Optional) The number of nodes that topics are replicated across. Default and minimum set at 2, maximum is the number of nodes in the cluster.</li>
<li><code>config</code> - (Optional) A set of advanced configuration parameters. Defaults will be set for any of the parameters that are not included.
The <code>config</code> block is documented below.</li>
</ul>

<p><code>config</code> supports the following:</p>

<ul>
<li><code>cleanup_policy</code> - (Optional) The topic cleanup policy that describes whether messages should be deleted, compacted, or both when retention policies are violated.
This may be one of "delete", "compact", or "compact_delete".</li>
<li><code>compression_type</code> - (Optional) The topic compression codecs used for a given topic.
This may be one of "uncompressed", "gzip", "snappy", "lz4", "producer", "zstd". "uncompressed" indicates that there is no compression and "producer" retains the original compression codec set by the producer.</li>
<li><code>delete_retention_ms</code> - (Optional) The amount of time, in ms, that deleted records are retained.</li>
<li><code>file_delete_delay_ms</code> - (Optional) The amount of time, in ms, to wait before deleting a topic log segment from the filesystem.</li>
<li><code>flush_messages</code> - (Optional) The number of messages accumulated on a topic partition before they are flushed to disk.</li>
<li><code>flush_ms</code> - (Optional) The maximum time, in ms, that a topic is kept in memory before being flushed to disk.</li>
<li><code>index_interval_bytes</code> - (Optional) The interval, in bytes, in which entries are added to the offset index.</li>
<li><code>max_compaction_lag_ms</code> - (Optional) The maximum time, in ms, that a particular message will remain uncompacted. This will not apply if the <code>compression_type</code> is set to "uncompressed" or it is set to <code>producer</code> and the producer is not using compression.</li>
<li><code>max_message_bytes</code> - (Optional) The maximum size, in bytes, of a message.</li>
<li><code>message_down_conversion_enable</code> - (Optional) Determines whether down-conversion of message formats for consumers is enabled.</li>
<li><code>message_format_version</code> - (Optional) The version of the inter-broker protocol that will be used. This may be one of "0.8.0", "0.8.1", "0.8.2", "0.9.0", "0.10.0", "0.10.0-IV0", "0.10.0-IV1", "0.10.1", "0.10.1-IV0", "0.10.1-IV1", "0.10.1-IV2", "0.10.2", "0.10.2-IV0", "0.11.0", "0.11.0-IV0", "0.11.0-IV1", "0.11.0-IV2", "1.0", "1.0-IV0", "1.1", "1.1-IV0", "2.0", "2.0-IV0", "2.0-IV1", "2.1", "2.1-IV0", "2.1-IV1", "2.1-IV2", "2.2", "2.2-IV0", "2.2-IV1", "2.3", "2.3-IV0", "2.3-IV1", "2.4", "2.4-IV0", "2.4-IV1", "2.5", "2.5-IV0", "2.6", "2.6-IV0", "2.7", "2.7-IV0", "2.7-IV1", "2.7-IV2", "2.8", "2.8-IV0", "2.8-IV1", "3.0", "3.0-IV0", "3.0-IV1", "3.1", "3.1-IV0", "3.2", "3.2-IV0", "3.3", "3.3-IV0", "3.3-IV1", "3.3-IV2", "3.3-IV3", "3.4", "3.4-IV0", "3.5", "3.5-IV0", "3.5-IV1", "3.5-IV2", "3.6", "3.6-IV0", "3.6-IV1", "3.6-IV2".</li>
<li><code>message_timestamp_difference_max_ms</code> - (Optional) The maximum difference, in ms, between the timestamp specific in a message and when the broker receives the message.</li>
<li><code>message_timestamp_type</code> - (Optional) Specifies which timestamp to use for the message. This may be one of "create_time" or "log_append_time".</li>
<li><code>min_cleanable_dirty_ratio</code> - (Optional) A scale between 0.0 and 1.0 which controls the frequency of the compactor. Larger values mean more frequent compactions. This is often paired with <code>max_compaction_lag_ms</code> to control the compactor frequency.</li>
<li><code>min_insync_replicas</code> - (Optional) The number of replicas that must acknowledge a write before it is considered successful. -1 is a special setting to indicate that all nodes must ack a message before a write is considered successful. Default is 1, indicating at least 1 replica must acknowledge a write to be considered successful.</li>
<li><code>preallocate</code> - (Optional) Determines whether to preallocate a file on disk when creating a new log segment within a topic.</li>
<li><code>retention_bytes</code> - (Optional) The maximum size, in bytes, of a topic before messages are deleted. -1 is a special setting indicating that this setting has no limit.</li>
<li><code>retention_ms</code> - (Optional) The maximum time, in ms, that a topic log file is retained before deleting it. -1 is a special setting indicating that this setting has no limit.</li>
<li><code>segment_bytes</code> - (Optional) The maximum size, in bytes, of a single topic log file.</li>
<li><code>segment_index_bytes</code> - (Optional) The maximum size, in bytes, of the offset index.</li>
<li><code>segment_jitter_ms</code> - (Optional) The maximum time, in ms, subtracted from the scheduled segment disk flush time to avoid the thundering herd problem for segment flushing.</li>
<li><code>segment_ms</code> - (Optional) The maximum time, in ms, before the topic log will flush to disk.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to the above arguments, the following attributes are exported:</p>

<ul>
<li><code>state</code> - The current status of the topic. Possible values are 'active', 'configuring', and 'deleting'.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Topics can be imported using the <code>id</code> of the source cluster and the <code>name</code> of the topic joined with a comma. For example:</p>

<pre><code>terraform import digitalocean_database_kafka_topic.topic-01 245bcfd0-7f31-4ce6-a2bc-475a116cca97,topic-01
</code></pre>

            
        
    </body></html>