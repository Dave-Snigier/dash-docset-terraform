<html><!-- Online page at https://registry.terraform.io/providers/oracle/oci/latest/docs/resources/network_load_balancer_backend_set --><head>
                <title>oci_network_load_balancer_backend_set</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="oci_network_load_balancer_backend_set">oci_network_load_balancer_backend_set</h1>

<p>This resource provides the Backend Set resource in Oracle Cloud Infrastructure Network Load Balancer service.</p>

<p>Adds a backend set to a network load balancer.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"oci_network_load_balancer_backend_set"</span><span class="w"> </span><span class="nv">"test_backend_set"</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">    #Required</span>
<span class="w">    </span><span class="nb">health_checker</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">        #Required</span>
<span class="w">        </span><span class="na">protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_protocol</span><span class="c1"></span>

<span class="c1">        #Optional</span>
<span class="w">        </span><span class="nb">dns</span><span class="w"> </span><span class="p">{</span><span class="c1"></span>
<span class="c1">            #Required</span>
<span class="w">            </span><span class="na">domain_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">oci_identity_domain.test_domain.name</span><span class="c1"></span>

<span class="c1">            #Optional</span>
<span class="w">            </span><span class="na">query_class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_dns_query_class</span><span class="w"></span>
<span class="w">            </span><span class="na">query_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_dns_query_type</span><span class="w"></span>
<span class="w">            </span><span class="na">rcodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_dns_rcodes</span><span class="w"></span>
<span class="w">            </span><span class="na">transport_protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_dns_transport_protocol</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="na">interval_in_millis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_interval_in_millis</span><span class="w"></span>
<span class="w">        </span><span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_port</span><span class="w"></span>
<span class="w">        </span><span class="na">request_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_request_data</span><span class="w"></span>
<span class="w">        </span><span class="na">response_body_regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_response_body_regex</span><span class="w"></span>
<span class="w">        </span><span class="na">response_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_response_data</span><span class="w"></span>
<span class="w">        </span><span class="na">retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_retries</span><span class="w"></span>
<span class="w">        </span><span class="na">return_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_return_code</span><span class="w"></span>
<span class="w">        </span><span class="na">timeout_in_millis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_timeout_in_millis</span><span class="w"></span>
<span class="w">        </span><span class="na">url_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_health_checker_url_path</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_name</span><span class="w"></span>
<span class="w">    </span><span class="na">network_load_balancer_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">oci_network_load_balancer_network_load_balancer.test_network_load_balancer.id</span><span class="w"></span>
<span class="w">    </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_policy</span><span class="c1"></span>

<span class="c1">    #Optional</span>
<span class="w">    </span><span class="na">are_operationally_active_backends_preferred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_are_operationally_active_backends_preferred</span><span class="w"></span>
<span class="w">    </span><span class="na">ip_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_ip_version</span><span class="w"></span>
<span class="w">    </span><span class="na">is_fail_open</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_is_fail_open</span><span class="w"></span>
<span class="w">    </span><span class="na">is_instant_failover_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_is_instant_failover_enabled</span><span class="w"></span>
<span class="w">    </span><span class="na">is_instant_failover_tcp_reset_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_is_instant_failover_tcp_reset_enabled</span><span class="w"></span>
<span class="w">    </span><span class="na">is_preserve_source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.backend_set_is_preserve_source</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>are_operationally_active_backends_preferred</code> - (Optional) (Updatable) If enabled, NLB supports active-standby backends. The standby backend takes over the traffic when the active node fails, and continues to serve the traffic even when the old active node is back healthy. </li>
<li><code>backends</code> - (Optional) (Updatable) An array of backends to be associated with the backend set.
<ul>
<li><code>ip_address</code> - (Optional) (Updatable) The IP address of the backend server.  Example: <code>10.0.0.3</code> </li>
<li><code>is_backup</code> - (Optional) (Updatable) Whether the network load balancer should treat this server as a backup unit. If <code>true</code>, then the network load balancer forwards no ingress traffic to this backend server unless all other backend servers not marked as "isBackup" fail the health check policy.  Example: <code>false</code> </li>
<li><code>is_drain</code> - (Optional) (Updatable) Whether the network load balancer should drain this server. Servers marked "isDrain" receive no incoming traffic.  Example: <code>false</code> </li>
<li><code>is_offline</code> - (Optional) (Updatable) Whether the network load balancer should treat this server as offline. Offline servers receive no incoming traffic.  Example: <code>false</code> </li>
<li><code>name</code> - (Optional) (Updatable) A read-only field showing the IP address/OCID and port that uniquely identify this backend server in the backend set.  Example: <code>10.0.0.3:8080</code>, or <code>ocid1.privateip..oc1.&lt;var&gt;&amp;lt;unique_ID&amp;gt;&lt;/var&gt;:443</code> or <code>10.0.0.3:0</code> </li>
<li><code>port</code> - (Required) (Updatable) The communication port for the backend server.  Example: <code>8080</code> </li>
<li><code>target_id</code> - (Optional) (Updatable) The IP OCID/Instance OCID associated with the backend server. Example: <code>ocid1.privateip..oc1.&lt;var&gt;&amp;lt;unique_ID&amp;gt;&lt;/var&gt;</code> </li>
<li><code>weight</code> - (Optional) (Updatable) The network load balancing policy weight assigned to the server. Backend servers with a higher weight receive a larger proportion of incoming traffic. For example, a server weighted '3' receives three times the number of new connections as a server weighted '1'. For more information about load balancing policies, see <a href="https://docs.cloud.oracle.com/iaas/Content/NetworkLoadBalancer/introduction.htm#Policies">Network Load Balancer Policies</a>.  Example: <code>3</code> </li>
</ul></li>
<li><code>health_checker</code> - (Required) (Updatable) The health check policy configuration. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/NetworkLoadBalancer/HealthCheckPolicies/update-health-check-policy.htm">Editing Network Load Balancer Health Check Policies</a>. 
<ul>
<li><code>dns</code> - (Optional) (Updatable) DNS healthcheck configurations.
<ul>
<li><code>domain_name</code> - (Required) (Updatable) The absolute fully-qualified domain name to perform periodic DNS queries. If not provided, an extra dot will be added at the end of a domain name during the query. </li>
<li><code>query_class</code> - (Optional) (Updatable) The class the dns health check query to use; either IN or CH.  Example: <code>IN</code> </li>
<li><code>query_type</code> - (Optional) (Updatable) The type the dns health check query to use; A, AAAA, TXT.  Example: <code>A</code> </li>
<li><code>rcodes</code> - (Optional) (Updatable) An array that represents accepetable RCODE values for DNS query response. Example: ["NOERROR", "NXDOMAIN"] </li>
<li><code>transport_protocol</code> - (Optional) (Updatable) DNS transport protocol; either UDP or TCP.  Example: <code>UDP</code> </li>
</ul></li>
<li><code>interval_in_millis</code> - (Optional) (Updatable) The interval between health checks, in milliseconds. The default value is 10000 (10 seconds).  Example: <code>10000</code> </li>
<li><code>port</code> - (Optional) (Updatable) The backend server port against which to run the health check. If the port is not specified, then the network load balancer uses the port information from the <code>Backend</code> object. The port must be specified if the backend port is 0.  Example: <code>8080</code> </li>
<li><code>protocol</code> - (Required) (Updatable) The protocol the health check must use; either HTTP, HTTPS, UDP, TCP or DNS.  Example: <code>HTTP</code> </li>
<li><code>request_data</code> - (Optional) (Updatable) Base64 encoded pattern to be sent as UDP or TCP health check probe.</li>
<li><code>response_body_regex</code> - (Optional) (Updatable) A regular expression for parsing the response body from the backend server.  Example: <code>^((?!false).|\s)*$</code> </li>
<li><code>response_data</code> - (Optional) (Updatable) Base64 encoded pattern to be validated as UDP or TCP health check probe response.</li>
<li><code>retries</code> - (Optional) (Updatable) The number of retries to attempt before a backend server is considered "unhealthy". This number also applies when recovering a server to the "healthy" state. The default value is 3.  Example: <code>3</code> </li>
<li><code>return_code</code> - (Optional) (Updatable) The status code a healthy backend server should return. If you configure the health check policy to use the HTTP protocol, then you can use common HTTP status codes such as "200".  Example: <code>200</code> </li>
<li><code>timeout_in_millis</code> - (Optional) (Updatable) The maximum time, in milliseconds, to wait for a reply to a health check. A health check is successful only if a reply returns within this timeout period. The default value is 3000 (3 seconds).  Example: <code>3000</code> </li>
<li><code>url_path</code> - (Optional) (Updatable) The path against which to run the health check.  Example: <code>/healthcheck</code></li>
</ul></li>
<li><code>ip_version</code> - (Optional) (Updatable) IP version associated with the backend set.</li>
<li><code>is_fail_open</code> - (Optional) (Updatable) If enabled, the network load balancer will continue to distribute traffic in the configured distribution in the event all backends are unhealthy. The value is false by default. </li>
<li><code>is_instant_failover_enabled</code> - (Optional) (Updatable) If enabled existing connections will be forwarded to an alternative healthy backend as soon as current backend becomes unhealthy. </li>
<li><code>is_instant_failover_tcp_reset_enabled</code> - (Optional) (Updatable) If enabled along with instant failover, the network load balancer will send TCP RST to the clients for the existing connections instead of failing over to a healthy backend. This only applies when using the instant failover. By default, TCP RST is enabled. </li>
<li><code>is_preserve_source</code> - (Optional) (Updatable) If this parameter is enabled, then the network load balancer preserves the source IP of the packet when it is forwarded to backends. Backends see the original source IP. If the isPreserveSourceDestination parameter is enabled for the network load balancer resource, then this parameter cannot be disabled. The value is true by default. </li>
<li><p><code>name</code> - (Required) A user-friendly name for the backend set that must be unique and cannot be changed.</p>

<p>Valid backend set names include only alphanumeric characters, dashes, and underscores. Backend set names cannot contain spaces. Avoid entering confidential information.</p>

<p>Example: <code>example_backend_set</code> </p></li>
<li><code>network_load_balancer_id</code> - (Required) The <a href="https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm">OCID</a> of the network load balancer to update.</li>
<li><code>policy</code> - (Required) (Updatable) The network load balancer policy for the backend set.  Example: `FIVE_TUPLE`` </li>
</ul>

<p><em>* IMPORTANT *</em>
Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>are_operationally_active_backends_preferred</code> - If enabled, NLB supports active-standby backends. The standby backend takes over the traffic when the active node fails, and continues to serve the traffic even when the old active node is back healthy. </li>
<li><code>backends</code> - An array of backends. 
<ul>
<li><code>ip_address</code> - The IP address of the backend server. Example: <code>10.0.0.3</code> </li>
<li><code>is_backup</code> - Whether the network load balancer should treat this server as a backup unit. If <code>true</code>, then the network load balancer forwards no ingress traffic to this backend server unless all other backend servers not marked as "isBackup" fail the health check policy.  Example: <code>false</code> </li>
<li><code>is_drain</code> - Whether the network load balancer should drain this server. Servers marked "isDrain" receive no incoming traffic.  Example: <code>false</code> </li>
<li><code>is_offline</code> - Whether the network load balancer should treat this server as offline. Offline servers receive no incoming traffic.  Example: <code>false</code> </li>
<li><code>name</code> - A read-only field showing the IP address/IP OCID and port that uniquely identify this backend server in the backend set.  Example: <code>10.0.0.3:8080</code>, or <code>ocid1.privateip..oc1.&lt;var&gt;&amp;lt;unique_ID&amp;gt;&lt;/var&gt;:443</code> or <code>10.0.0.3:0</code> </li>
<li><code>port</code> - The communication port for the backend server.  Example: <code>8080</code> </li>
<li><code>target_id</code> - The IP OCID/Instance OCID associated with the backend server. Example: <code>ocid1.privateip..oc1.&lt;var&gt;&amp;lt;unique_ID&amp;gt;&lt;/var&gt;</code> </li>
<li><code>weight</code> - The network load balancing policy weight assigned to the server. Backend servers with a higher weight receive a larger proportion of incoming traffic. For example, a server weighted '3' receives three times the number of new connections as a server weighted '1'. For more information about network load balancing policies, see <a href="https://docs.cloud.oracle.com/iaas/Content/NetworkLoadBalancer/introduction.htm#Policies">Network Load Balancer Policies</a>.  Example: <code>3</code> </li>
</ul></li>
<li><code>health_checker</code> - The health check policy configuration. For more information, see <a href="https://docs.cloud.oracle.com/iaas/Content/NetworkLoadBalancer/HealthCheckPolicies/update-health-check-management.htm">Editing Network Load Balancer Health Check Policies</a>. 
<ul>
<li><code>dns</code> - DNS healthcheck configurations.
<ul>
<li><code>domain_name</code> - The absolute fully-qualified domain name to perform periodic DNS queries. If not provided, an extra dot will be added at the end of a domain name during the query. </li>
<li><code>query_class</code> - The class the dns health check query to use; either IN or CH.  Example: <code>IN</code> </li>
<li><code>query_type</code> - The type the dns health check query to use; A, AAAA, TXT.  Example: <code>A</code> </li>
<li><code>rcodes</code> - An array that represents accepetable RCODE values for DNS query response. Example: ["NOERROR", "NXDOMAIN"] </li>
<li><code>transport_protocol</code> - DNS transport protocol; either UDP or TCP.  Example: <code>UDP</code> </li>
</ul></li>
<li><code>interval_in_millis</code> - The interval between health checks, in milliseconds. The default value is 10000 (10 seconds).  Example: <code>10000</code> </li>
<li><code>port</code> - The backend server port against which to run the health check. If the port is not specified, then the network load balancer uses the port information from the <code>Backend</code> object. The port must be specified if the backend port is 0.  Example: <code>8080</code> </li>
<li><code>protocol</code> - The protocol the health check must use; either HTTP, HTTPS, UDP, TCP or DNS.  Example: <code>HTTP</code> </li>
<li><code>request_data</code> - Base64 encoded pattern to be sent as UDP or TCP health check probe.</li>
<li><code>response_body_regex</code> - A regular expression for parsing the response body from the backend server.  Example: <code>^((?!false).|\s)*$</code> </li>
<li><code>response_data</code> - Base64 encoded pattern to be validated as UDP or TCP health check probe response.</li>
<li><code>retries</code> - The number of retries to attempt before a backend server is considered "unhealthy". This number also applies when recovering a server to the "healthy" state. The default value is 3.  Example: <code>3</code> </li>
<li><code>return_code</code> - The status code a healthy backend server should return. If you configure the health check policy to use the HTTP protocol, then you can use common HTTP status codes such as "200".  Example: <code>200</code> </li>
<li><code>timeout_in_millis</code> - The maximum time, in milliseconds, to wait for a reply to a health check. A health check is successful only if a reply returns within this timeout period. The default value is 3000 (3 seconds).  Example: <code>3000</code> </li>
<li><code>url_path</code> - The path against which to run the health check.  Example: <code>/healthcheck</code></li>
</ul></li>
<li><code>ip_version</code> - IP version associated with the backend set.</li>
<li><code>is_fail_open</code> - If enabled, the network load balancer will continue to distribute traffic in the configured distribution in the event all backends are unhealthy. The value is false by default. </li>
<li><code>is_instant_failover_enabled</code> - If enabled existing connections will be forwarded to an alternative healthy backend as soon as current backend becomes unhealthy. </li>
<li><code>is_instant_failover_tcp_reset_enabled</code> - If enabled along with instant failover, the network load balancer will send TCP RST to the clients for the existing connections instead of failing over to a healthy backend. This only applies when using the instant failover. By default, TCP RST is enabled. </li>
<li><code>is_preserve_source</code> - If this parameter is enabled, then the network load balancer preserves the source IP of the packet when it is forwarded to backends. Backends see the original source IP. If the isPreserveSourceDestination parameter is enabled for the network load balancer resource, then this parameter cannot be disabled. The value is true by default. </li>
<li><p><code>name</code> - A user-friendly name for the backend set that must be unique and cannot be changed.</p>

<p>Valid backend set names include only alphanumeric characters, dashes, and underscores. Backend set names cannot contain spaces. Avoid entering confidential information.</p>

<p>Example: <code>example_backend_set</code> </p></li>
<li><code>policy</code> - The network load balancer policy for the backend set.  Example: <code>FIVE_TUPLE</code> </li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://registry.terraform.io/providers/oracle/oci/latest/docs/guides/changing_timeouts">timeouts</a> for certain operations:
    * <code>create</code> - (Defaults to 20 minutes), when creating the Backend Set
    * <code>update</code> - (Defaults to 20 minutes), when updating the Backend Set
    * <code>delete</code> - (Defaults to 20 minutes), when destroying the Backend Set</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>BackendSets can be imported using the <code>id</code>, e.g.</p>

<pre><code>$ terraform import oci_network_load_balancer_backend_set.test_backend_set "networkLoadBalancers/{networkLoadBalancerId}/backendSets/{backendSetName}" 
</code></pre>

            
        
    </body></html>