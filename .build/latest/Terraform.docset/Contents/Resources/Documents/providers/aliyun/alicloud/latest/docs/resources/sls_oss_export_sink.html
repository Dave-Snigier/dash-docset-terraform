<html><!-- Online page at https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/sls_oss_export_sink --><head>
                <title>alicloud_sls_oss_export_sink</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="alicloud_sls_oss_export_sink">alicloud_sls_oss_export_sink</h1>

<p>Provides a Log Service (SLS) Oss Export Sink resource.</p>

<p>OSS export task.</p>

<p>For information about Log Service (SLS) Oss Export Sink and how to use it, see <a href="https://www.alibabacloud.com/help/en/">What is Oss Export Sink</a>.</p>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Available since v1.237.0.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>Basic Usage</p>

<div style="display: block;margin-bottom: 40px;"><div class="oics-button" style="float: right;position: absolute;margin-bottom: 10px;">
  <a href="https://api.aliyun.com/terraform?resource=alicloud_sls_oss_export_sink&amp;exampleId=21d3deb2-4eda-f28f-57e3-941c074cfc19fa89488f&amp;activeTab=example&amp;spm=docs.r.sls_oss_export_sink.0.21d3deb24e&amp;intl_lang=EN_US" target="_blank">
    <img alt="Open in AliCloud" src="https://img.alicdn.com/imgextra/i1/O1CN01hjjqXv1uYUlY56FyX_!!6000000006049-55-tps-254-36.svg" style="max-height: 44px; max-width: 100%;"/>
  </a>
</div></div>

<div class="codehilite"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">"name"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"alicloud"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"cn-hangzhou"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"random_integer"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10000</span><span class="w"></span>
<span class="w">  </span><span class="na">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">99999</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_log_project"</span><span class="w"> </span><span class="nv">"defaulteyHJsO"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-oss-example-910"</span><span class="w"></span>
<span class="w">  </span><span class="na">project_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s2">"%s1%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">var.name</span><span class="p">,</span><span class="w"> </span><span class="nv">random_integer.default.result</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_log_store"</span><span class="w"> </span><span class="nv">"defaultxeHfXC"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">hot_ttl</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"8"</span><span class="w"></span>
<span class="w">  </span><span class="na">retention_period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"30"</span><span class="w"></span>
<span class="w">  </span><span class="na">shard_count</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">  </span><span class="na">project_name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_log_project.defaulteyHJsO.project_name</span><span class="w"></span>
<span class="w">  </span><span class="na">logstore_name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s2">"%s1%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">var.name</span><span class="p">,</span><span class="w"> </span><span class="nv">random_integer.default.result</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_oss_bucket"</span><span class="w"> </span><span class="nv">"defaultiwj0xO"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">bucket</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="s2">"%s1%s"</span><span class="p">,</span><span class="w"> </span><span class="nv">var.name</span><span class="p">,</span><span class="w"> </span><span class="nv">random_integer.default.result</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="na">storage_class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Standard"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_sls_oss_export_sink"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_log_project.defaulteyHJsO.project_name</span><span class="w"></span>
<span class="w">  </span><span class="nb">configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">logstore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_log_store.defaultxeHfXC.logstore_name</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"acs:ram::12345678901234567:role/aliyunlogdefaultrole"</span><span class="w"></span>
<span class="w">    </span><span class="nb">sink</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">bucket</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_oss_bucket.defaultiwj0xO.bucket</span><span class="w"></span>
<span class="w">      </span><span class="na">role_arn</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"acs:ram::12345678901234567:role/aliyunlogdefaultrole"</span><span class="w"></span>
<span class="w">      </span><span class="na">time_zone</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"+0700"</span><span class="w"></span>
<span class="w">      </span><span class="na">content_type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"json"</span><span class="w"></span>
<span class="w">      </span><span class="na">compression_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"none"</span><span class="w"></span>
<span class="w">      </span><span class="na">content_detail</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"> </span><span class="s2">"enableTag"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="no">false</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<span class="w">      </span><span class="na">buffer_interval</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"300"</span><span class="w"></span>
<span class="w">      </span><span class="na">buffer_size</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"256"</span><span class="w"></span>
<span class="w">      </span><span class="na">endpoint</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://oss-cn-shanghai-internal.aliyuncs.com"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">from_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1732165733"</span><span class="w"></span>
<span class="w">    </span><span class="na">to_time</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"1732166733"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">job_name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"export-oss-1731404933-00001"</span><span class="w"></span>
<span class="w">  </span><span class="na">display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"exampleterraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>configuration</code> - (Required, List) OSSExportConfiguration See <a href="#configuration"><code>configuration</code></a> below.</li>
<li><code>description</code> - (Optional) The description of the job.</li>
<li><code>display_name</code> - (Required) The display name of the job.</li>
<li><code>job_name</code> - (Required, ForceNew) The unique identifier of the OSS data shipping job.</li>
<li><code>project</code> - (Required, ForceNew) The name of the project.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/configuration"></a><h3 id="configuration"><code>configuration</code></h3>

<p>The configuration supports the following:</p>

<ul>
<li><code>from_time</code> - (Required, Int) The beginning of the time range to ship data. The value 1 specifies that the data shipping job ships data from the first log in the Logstore. Example value: 1718380800</li>
<li><code>logstore</code> - (Required) The name of the Logstore.</li>
<li><code>role_arn</code> - (Required) The Alibaba Cloud Resource Name (ARN) of the Resource Access Management (RAM) role that is used to read data from Simple Log Service. Example value: acs:ram::1234567890:role/aliyunlogdefaultrole</li>
</ul>

<ul>
<li><code>sink</code> - (Required, List) The configurations of the Object Storage Service (OSS) data shipping job. See <a href="#configuration-sink"><code>sink</code></a> below.</li>
<li><code>to_time</code> - (Required, Int) The end of the time range to ship data. The value 0 specifies that the data shipping job continuously ships data until the job is manually stopped. Example value: 1718380800</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/configuration-sink"></a><h3 id="configuration-sink"><code>configuration-sink</code></h3>

<p>The configuration-sink supports the following:</p>

<ul>
<li><code>bucket</code> - (Required) The OSS bucket.</li>
<li><code>buffer_interval</code> - (Required) The interval between two data shipping operations. Valid values: 300 to 900. Unit: seconds.</li>
</ul>

<ul>
<li><code>buffer_size</code> - (Required) The size of the OSS object to which data is shipped. Valid values: 5 to 256. Unit: MB.</li>
<li><code>compression_type</code> - (Required) Supports four compression types, such as snappy, gzip, zstd, and none.</li>
<li><p><code>content_detail</code> - (Required, JsonString) The OSS file content details. Note: the value of this parameter should be updated based on the value of the contentType parameter.</p>

<p>If the contentType value is JSON, the parameters of the contentDetail value are as follows:</p>

<p>If the tag is allowed to be posted, the value of the parameter enableTag is true. Example:{"enableTag": true}</p>

<p>You are not allowed to post tags. The value of the parameter enableTag is false. Example:{"enableTag": false}</p>

<p>If the contentType value is csv, the parameters of the contentDetail value are as follows:</p>

<p>The parameter columns is the key of the log in the source logstore.</p>

<p>The delimiter parameter, which can be ",","|","", or "\t".</p>

<p>The header parameter determines whether the OSS file retains the header. The optional value is true or false.</p>

<p>The lineFeed parameter. Optional values are "\t", "\n", or "".</p>

<p>The invalid field content parameter is null to specify the delivery content when the field name does not exist.</p>

<p>The escape character parameter "quote". Optional values are "" "," '", or" ".</p>

<p>Example:{"null": "-", "header": false, "lineFeed": "\n", "quote": "", "delimiter": ",", "columns": ["a", "B", "c", "d"]}</p>

<p>When the contentType value is parquet, the parameters of the contentDetail value are as follows:</p>

<p>The columns parameter is the key of the log in the source Logstore and must carry the data type of the key, for example:{"columns": [{"name": "a", "type": "string"}, {"name": "B", "type": "string"}, {"name": "c", "type": "string": "string"}]}</p>

<p>When the contentType value is set to orc, the parameters of the contentDetail value are as follows:</p>

<p>The columns parameter is the key of the log in the source Logstore and must carry the data type of the key, for example:{"columns": [{"name": "a", "type": "string"}, {"name": "B", "type": "string"}, {"name": "c", "type": "string": "string"}]}</p></li>
<li><code>content_type</code> - (Required) The storage format of the OSS object. Valid values: json, parquet, csv, and orc.</li>
<li><code>delay_seconds</code> - (Optional, Int) The latency of data shipping. The value of this parameter cannot exceed the data retention period of the source Logstore.</li>
<li><code>endpoint</code> - (Required) The OSS Endpoint can only be an OSS intranet Endpoint and only supports the same region. Example value: https://oss-cn-hangzhou-internal.aliyuncs.com</li>
<li><code>path_format</code> - (Optional) The directory is dynamically generated according to the time. The default value is% Y/%m/%d/%H/%M. The corresponding generated directory is, for example, 2017/01/23/12/00. Note that the partition format cannot start and end. Example values:%Y/%m/%d</li>
<li><code>path_format_type</code> - (Optional) The partition format type. only support time</li>
<li><code>prefix</code> - (Optional) The prefix of the OSS object.</li>
<li><p><code>role_arn</code> - (Required) The ARN of the RAM role that is used to write data to OSS. Example value: acs:ram::xxxxxxx</p></li>
<li><p><code>suffix</code> - (Optional) The suffix of the OSS object.</p></li>
<li><code>time_zone</code> - (Required) The time zone. Example value: +0800</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the resource supplied above.The value is formulated as <code>&lt;project&gt;:&lt;job_name&gt;</code>.</li>
<li><code>create_time</code> - Creation time. Example value: 1718787534</li>
<li><code>status</code> - The status of the post task. Example value: RUNNING</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 5 mins) Used when create the Oss Export Sink.</li>
<li><code>delete</code> - (Defaults to 5 mins) Used when delete the Oss Export Sink.</li>
<li><code>update</code> - (Defaults to 5 mins) Used when update the Oss Export Sink.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Log Service (SLS) Oss Export Sink can be imported using the id, e.g.</p>

<div class="codehilite"><pre><span></span><code>$ terraform import alicloud_sls_oss_export_sink.example &lt;project&gt;:&lt;job_name&gt;
</code></pre></div>

            
        
    </body></html>