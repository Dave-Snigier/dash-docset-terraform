<html><!-- Online page at https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/ecs_image_pipeline --><head>
                <title>alicloud_ecs_image_pipeline</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="alicloud_ecs_image_pipeline">alicloud_ecs_image_pipeline</h1>

<p>Provides a ECS Image Pipeline resource.</p>

<p>For information about ECS Image Pipeline and how to use it, see <a href="https://www.alibabacloud.com/help/en/doc-detail/200427.html">What is Image Pipeline</a>.</p>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Available in v1.163.0+.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>Basic Usage</p>

<div style="display: block;margin-bottom: 40px;"><div class="oics-button" style="float: right;position: absolute;margin-bottom: 10px;">
  <a href="https://api.aliyun.com/terraform?resource=alicloud_ecs_image_pipeline&amp;exampleId=0a8d95e4-07a9-e56f-43f9-c3992f0d2e1744f83f55&amp;activeTab=example&amp;spm=docs.r.ecs_image_pipeline.0.0a8d95e407&amp;intl_lang=EN_US" target="_blank">
    <img alt="Open in AliCloud" src="https://img.alicdn.com/imgextra/i1/O1CN01hjjqXv1uYUlY56FyX_!!6000000006049-55-tps-254-36.svg" style="max-height: 44px; max-width: 100%;"/>
  </a>
</div></div>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_resource_manager_resource_groups"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name_regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"default"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_zones"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">available_resource_creation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VSwitch"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_images"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name_regex</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"^ubuntu_18.*64"</span><span class="w"></span>
<span class="w">  </span><span class="na">most_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="na">owners</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"system"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_instance_types"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">image_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_images.default.ids.0</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_account"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_vpc"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"172.17.3.0/24"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_vswitch"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vswitch_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">cidr_block</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"172.17.3.0/24"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_vpc.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">zone_id</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_zones.default.zones.0.id</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_ecs_image_pipeline"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">add_account</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">data.alicloud_account.default.id</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">base_image</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_images.default.ids.0</span><span class="w"></span>
<span class="w">  </span><span class="na">base_image_type</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"IMAGE"</span><span class="w"></span>
<span class="w">  </span><span class="na">build_content</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"RUN yum update -y"</span><span class="w"></span>
<span class="w">  </span><span class="na">delete_instance_on_failure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="na">image_name</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_type</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_instance_types.default.ids.0</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_group_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_resource_manager_resource_groups.default.groups.0.id</span><span class="w"></span>
<span class="w">  </span><span class="na">internet_max_bandwidth_out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="w"></span>
<span class="w">  </span><span class="na">system_disk_size</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="m">40</span><span class="w"></span>
<span class="w">  </span><span class="na">to_region_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"cn-qingdao", "cn-zhangjiakou"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">vswitch_id</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_vswitch.default.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">Created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"TF"</span><span class="w"></span>
<span class="w">    </span><span class="na">For</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"Acceptance-test"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>add_account</code> - (Optional, ForceNew) The ID of Alibaba Cloud account to which to share the created image.</li>
<li><code>base_image</code> - (Required, ForceNew) The source image. When you set <code>base_image_type</code> to <code>IMAGE</code>, set <code>base_image</code> to the ID of a custom image. When you set <code>base_image_type</code> to <code>IMAGE_FAMILY</code>, set <code>base_image</code> to the name of an image family.</li>
<li><code>base_image_type</code> - (Required, ForceNew) The type of the source image. Valid values: <code>IMAGE</code>, <code>IMAGE_FAMILY</code>.
<ul>
<li>IMAGE: custom image.</li>
<li>IMAGE_FAMILY: image family.</li>
</ul></li>
<li><code>build_content</code> - (Optional, ForceNew) The content of the image template. The content cannot be greater than 16 KB in size, and can contain up to 127 commands.</li>
<li><code>delete_instance_on_failure</code> - (Optional, ForceNew) Specifies whether to release the intermediate instance if the image cannot be created.</li>
<li><code>description</code> - (Optional, ForceNew) The description of the image template. The description must be <code>2</code> to <code>256</code> characters in length and cannot start with <code>http://</code> or <code>https://</code>. <strong>Note:</strong> If the intermediate instance cannot be started, the instance is released by default.</li>
<li><code>image_name</code> - (Optional, ForceNew) The name prefix of the image to be created. The prefix must be <code>2</code> to <code>64</code> characters in length. It must start with a letter and cannot start with <code>http://</code> or <code>https://</code>. It can contain letters, digits, colons (:), underscores (_), periods (.),and hyphens (-).</li>
<li><code>instance_type</code> - (Optional, ForceNew) The instance type of the instance. You can call the DescribeInstanceTypes operation to query instance types. If you do not specify this parameter, an instance type that provides the fewest vCPUs and memory resources is automatically selected. This configuration is subject to resource availability of instance types. For example, the <code>ecs.g6.large</code> instance type is selected by default. If available <code>ecs.g6.large</code> resources are insufficient, the <code>ecs.g6.xlarge</code> instance type is selected.</li>
<li><code>internet_max_bandwidth_out</code> - (Optional, ForceNew) The size of the outbound public bandwidth for the intermediate instance. Unit: <code>Mbit/s</code>. Valid values: <code>0</code> to <code>100</code>. Default value: <code>0</code>.</li>
<li><code>name</code> - (Optional, ForceNew) The name of the image template. The name must be <code>2</code> to <code>128</code> characters in length. It must start with a letter and cannot start with <code>http://</code> or <code>https://</code>. It can contain letters, digits, colons (:), underscores (_), periods (.),and hyphens (-).</li>
<li><code>system_disk_size</code> - (Optional, ForceNew) The size of the system disk of the intermediate instance. Unit: GiB. Valid values: <code>20</code> to <code>500</code>. Default value: <code>40</code>.</li>
<li><code>tags</code> - (Optional, ForceNew) A mapping of tags to assign to the resource.</li>
<li><code>resource_group_id</code> - (Optional, ForceNew, Computed) The ID of the resource group.</li>
<li><code>to_region_id</code> - (Optional, ForceNew) The ID of region to which to distribute the created image.</li>
<li><code>vswitch_id</code> - (Optional, ForceNew) The ID of the vSwitch. If you do not specify this parameter, a virtual private cloud (VPC) and a vSwitch are created by default.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>id</code> - The resource ID in terraform of Image Pipeline.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>ECS Image Pipeline can be imported using the id, e.g.</p>

<div class="codehilite"><pre><span></span><code>$ terraform import alicloud_ecs_image_pipeline.example &lt;id&gt;
</code></pre></div>

            
        
    </body></html>