<html><!-- Online page at https://registry.terraform.io/providers/aliyun/alicloud/latest/docs/resources/gpdb_hadoop_data_source --><head>
                <title>alicloud_gpdb_hadoop_data_source</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="alicloud_gpdb_hadoop_data_source">alicloud_gpdb_hadoop_data_source</h1>

<p>Provides a GPDB Hadoop Data Source resource.</p>

<p>Hadoop DataSource Config.</p>

<p>For information about GPDB Hadoop Data Source and how to use it, see <a href="https://www.alibabacloud.com/help/en/">What is Hadoop Data Source</a>.</p>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Available since v1.230.0.</p>
</aside>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>Basic Usage</p>

<div style="display: block;margin-bottom: 40px;"><div class="oics-button" style="float: right;position: absolute;margin-bottom: 10px;">
  <a href="https://api.aliyun.com/terraform?resource=alicloud_gpdb_hadoop_data_source&amp;exampleId=272afeb1-2bde-883a-9063-f94812d51a2d804ac0d4&amp;activeTab=example&amp;spm=docs.r.gpdb_hadoop_data_source.0.272afeb12b&amp;intl_lang=EN_US" target="_blank">
    <img alt="Open in AliCloud" src="https://img.alicdn.com/imgextra/i1/O1CN01hjjqXv1uYUlY56FyX_!!6000000006049-55-tps-254-36.svg" style="max-height: 44px; max-width: 100%;"/>
  </a>
</div></div>

<div class="codehilite"><pre><span></span><code><span class="kr">variable</span><span class="w"> </span><span class="nv">"name"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"terraform-example"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"alicloud"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"cn-beijing"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_zones"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">available_resource_creation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VSwitch"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_vpcs"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name_regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"^default-NODELETING$"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_vswitches"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_vpcs.default.ids.0</span><span class="w"></span>
<span class="w">  </span><span class="na">zone_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"cn-beijing-h"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_ecs_key_pair"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">key_pair_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_security_group"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_vpcs.default.ids.0</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_ram_role"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">document</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOF</span><span class="sh"></span>
<span class="err">    {</span>
<span class="err">        "Statement": [</span>
<span class="err">        {</span>
<span class="err">            "Action": "sts:AssumeRole",</span>
<span class="err">            "Effect": "Allow",</span>
<span class="err">            "Principal": {</span>
<span class="err">            "Service": [</span>
<span class="err">                "emr.aliyuncs.com",</span>
<span class="err">                "ecs.aliyuncs.com"</span>
<span class="err">            ]</span>
<span class="err">            }</span>
<span class="err">        }</span>
<span class="err">        ],</span>
<span class="err">        "Version": "1"</span>
<span class="err">    }</span>
<span class="err">    EOF</span>
<span class="err">  description = "this is a role example."</span>
<span class="err">  force       = true</span>
<span class="err">}</span>

<span class="err">data "alicloud_resource_manager_resource_groups" "default" {</span>
<span class="err">  status = "OK"</span>
<span class="err">}</span>

<span class="err">data "alicloud_kms_keys" "default" {</span>
<span class="err">  status = "Enabled"</span>
<span class="err">}</span>

<span class="err">resource "alicloud_emrv2_cluster" "default" {</span>
<span class="err">  node_groups {</span>
<span class="err">    vswitch_ids = [</span>
<span class="err">      data.alicloud_vswitches.default.ids[0]</span>
<span class="err">    ]</span>
<span class="err">    instance_types = [</span>
<span class="err">      "ecs.g6.xlarge"</span>
<span class="err">    ]</span>
<span class="err">    node_count           = "1"</span>
<span class="err">    spot_instance_remedy = "false"</span>
<span class="err">    data_disks {</span>
<span class="err">      count             = "3"</span>
<span class="err">      category          = "cloud_essd"</span>
<span class="err">      size              = "80"</span>
<span class="err">      performance_level = "PL0"</span>
<span class="err">    }</span>

<span class="err">    node_group_name   = "emr-master"</span>
<span class="err">    payment_type      = "PayAsYouGo"</span>
<span class="err">    with_public_ip    = "false"</span>
<span class="err">    graceful_shutdown = "false"</span>
<span class="err">    system_disk {</span>
<span class="err">      category          = "cloud_essd"</span>
<span class="err">      size              = "80"</span>
<span class="err">      performance_level = "PL0"</span>
<span class="err">      count             = "1"</span>
<span class="err">    }</span>

<span class="err">    node_group_type = "MASTER"</span>
<span class="err">  }</span>
<span class="err">  node_groups {</span>
<span class="err">    spot_instance_remedy = "false"</span>
<span class="err">    node_group_type      = "CORE"</span>
<span class="err">    vswitch_ids = [</span>
<span class="err">      data.alicloud_vswitches.default.ids[0]</span>
<span class="err">    ]</span>
<span class="err">    node_count        = "2"</span>
<span class="err">    graceful_shutdown = "false"</span>
<span class="err">    system_disk {</span>
<span class="err">      performance_level = "PL0"</span>
<span class="err">      count             = "1"</span>
<span class="err">      category          = "cloud_essd"</span>
<span class="err">      size              = "80"</span>
<span class="err">    }</span>

<span class="err">    data_disks {</span>
<span class="err">      count             = "3"</span>
<span class="err">      performance_level = "PL0"</span>
<span class="err">      category          = "cloud_essd"</span>
<span class="err">      size              = "80"</span>
<span class="err">    }</span>

<span class="err">    node_group_name = "emr-core"</span>
<span class="err">    payment_type    = "PayAsYouGo"</span>
<span class="err">    instance_types = [</span>
<span class="err">      "ecs.g6.xlarge"</span>
<span class="err">    ]</span>
<span class="err">    with_public_ip = "false"</span>
<span class="err">  }</span>

<span class="err">  deploy_mode = "NORMAL"</span>
<span class="err">  tags = {</span>
<span class="err">    Created = "TF"</span>
<span class="err">    For     = "example"</span>
<span class="err">  }</span>
<span class="err">  release_version = "EMR-5.10.0"</span>
<span class="err">  applications = [</span>
<span class="err">    "HADOOP-COMMON",</span>
<span class="err">    "HDFS",</span>
<span class="err">    "YARN"</span>
<span class="err">  ]</span>
<span class="err">  node_attributes {</span>
<span class="err">    zone_id              = "cn-beijing-h"</span>
<span class="err">    key_pair_name        = alicloud_ecs_key_pair.default.id</span>
<span class="err">    data_disk_encrypted  = "true"</span>
<span class="err">    data_disk_kms_key_id = data.alicloud_kms_keys.default.ids.0</span>
<span class="err">    vpc_id               = data.alicloud_vpcs.default.ids.0</span>
<span class="err">    ram_role             = alicloud_ram_role.default.name</span>
<span class="err">    security_group_id    = alicloud_security_group.default.id</span>
<span class="err">  }</span>

<span class="err">  resource_group_id = data.alicloud_resource_manager_resource_groups.default.ids.0</span>
<span class="err">  cluster_name      = var.name</span>
<span class="err">  payment_type      = "PayAsYouGo"</span>
<span class="err">  cluster_type      = "DATAFLOW"</span>
<span class="err">}</span>

<span class="err">resource "alicloud_gpdb_instance" "defaultZoepvx" {</span>
<span class="err">  instance_spec         = "2C8G"</span>
<span class="err">  description           = var.name</span>
<span class="err">  seg_node_num          = "2"</span>
<span class="err">  seg_storage_type      = "cloud_essd"</span>
<span class="err">  instance_network_type = "VPC"</span>
<span class="err">  payment_type          = "PayAsYouGo"</span>
<span class="err">  ssl_enabled           = "0"</span>
<span class="err">  engine_version        = "6.0"</span>
<span class="err">  zone_id               = "cn-beijing-h"</span>
<span class="err">  vswitch_id            = data.alicloud_vswitches.default.ids[0]</span>
<span class="err">  storage_size          = "50"</span>
<span class="err">  master_cu             = "4"</span>
<span class="err">  vpc_id                = data.alicloud_vpcs.default.ids.0</span>
<span class="err">  db_instance_mode      = "StorageElastic"</span>
<span class="err">  engine                = "gpdb"</span>
<span class="err">  db_instance_category  = "Basic"</span>
<span class="err">}</span>

<span class="err">resource "alicloud_gpdb_external_data_service" "defaultyOxz1K" {</span>
<span class="err">  service_name        = var.name</span>
<span class="err">  db_instance_id      = alicloud_gpdb_instance.defaultZoepvx.id</span>
<span class="err">  service_description = var.name</span>
<span class="err">  service_spec        = "8"</span>
<span class="err">}</span>

<span class="err">resource "alicloud_gpdb_hadoop_data_source" "default" {</span>
<span class="err">  hdfs_conf               = "aaa"</span>
<span class="err">  data_source_name        = alicloud_gpdb_external_data_service.defaultyOxz1K.service_name</span>
<span class="err">  yarn_conf               = "aaa"</span>
<span class="err">  hive_conf               = "aaa"</span>
<span class="err">  hadoop_create_type      = "emr"</span>
<span class="err">  data_source_description = var.name</span>
<span class="err">  map_reduce_conf         = "aaa"</span>
<span class="err">  data_source_type        = "hive"</span>
<span class="err">  hadoop_core_conf        = "aaa"</span>
<span class="err">  emr_instance_id         = alicloud_emrv2_cluster.default.id</span>
<span class="err">  db_instance_id          = alicloud_gpdb_instance.defaultZoepvx.id</span>
<span class="err">  hadoop_hosts_address    = "aaa"</span>
<span class="err">}</span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="s2">"Statement"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="s2">"Action"</span><span class="o">:</span><span class="w"> </span><span class="s2">"sts:AssumeRole"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">"Effect"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">"Principal"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="s2">"Service"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="s2">"emr.aliyuncs.com"</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="s2">"ecs.aliyuncs.com"</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="s2">"Version"</span><span class="o">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="err">EOF</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"this is a role example."</span><span class="w"></span>
<span class="w">  </span><span class="na">force</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_resource_manager_resource_groups"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"OK"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">data</span><span class="w"> </span><span class="nc">"alicloud_kms_keys"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_emrv2_cluster"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">node_groups</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">vswitch_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="nv">data.alicloud_vswitches.default.ids[0</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">instance_types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"ecs.g6.xlarge"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">node_count</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">    </span><span class="na">spot_instance_remedy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">    </span><span class="nb">data_disks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">count</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"3"</span><span class="w"></span>
<span class="w">      </span><span class="na">category</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud_essd"</span><span class="w"></span>
<span class="w">      </span><span class="na">size</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"80"</span><span class="w"></span>
<span class="w">      </span><span class="na">performance_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PL0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="na">node_group_name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"emr-master"</span><span class="w"></span>
<span class="w">    </span><span class="na">payment_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"PayAsYouGo"</span><span class="w"></span>
<span class="w">    </span><span class="na">with_public_ip</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">    </span><span class="na">graceful_shutdown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">    </span><span class="nb">system_disk</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">category</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud_essd"</span><span class="w"></span>
<span class="w">      </span><span class="na">size</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"80"</span><span class="w"></span>
<span class="w">      </span><span class="na">performance_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PL0"</span><span class="w"></span>
<span class="w">      </span><span class="na">count</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="na">node_group_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MASTER"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">node_groups</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">spot_instance_remedy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">    </span><span class="na">node_group_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"CORE"</span><span class="w"></span>
<span class="w">    </span><span class="na">vswitch_ids</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="nv">data.alicloud_vswitches.default.ids[0</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">node_count</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">    </span><span class="na">graceful_shutdown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">    </span><span class="nb">system_disk</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">performance_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PL0"</span><span class="w"></span>
<span class="w">      </span><span class="na">count</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"1"</span><span class="w"></span>
<span class="w">      </span><span class="na">category</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud_essd"</span><span class="w"></span>
<span class="w">      </span><span class="na">size</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"80"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="nb">data_disks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">count</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"3"</span><span class="w"></span>
<span class="w">      </span><span class="na">performance_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"PL0"</span><span class="w"></span>
<span class="w">      </span><span class="na">category</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud_essd"</span><span class="w"></span>
<span class="w">      </span><span class="na">size</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"80"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="na">node_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"emr-core"</span><span class="w"></span>
<span class="w">    </span><span class="na">payment_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"PayAsYouGo"</span><span class="w"></span>
<span class="w">    </span><span class="na">instance_types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="s2">"ecs.g6.xlarge"</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">with_public_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">deploy_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="w"></span>
<span class="w">  </span><span class="nb">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">Created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"TF"</span><span class="w"></span>
<span class="w">    </span><span class="na">For</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"example"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">release_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"EMR-5.10.0"</span><span class="w"></span>
<span class="w">  </span><span class="na">applications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">"HADOOP-COMMON"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"HDFS"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="s2">"YARN"</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="nb">node_attributes</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">zone_id</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"cn-beijing-h"</span><span class="w"></span>
<span class="w">    </span><span class="na">key_pair_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_ecs_key_pair.default.id</span><span class="w"></span>
<span class="w">    </span><span class="na">data_disk_encrypted</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">    </span><span class="na">data_disk_kms_key_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_kms_keys.default.ids.0</span><span class="w"></span>
<span class="w">    </span><span class="na">vpc_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_vpcs.default.ids.0</span><span class="w"></span>
<span class="w">    </span><span class="na">ram_role</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_ram_role.default.name</span><span class="w"></span>
<span class="w">    </span><span class="na">security_group_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_security_group.default.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">resource_group_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_resource_manager_resource_groups.default.ids.0</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">payment_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"PayAsYouGo"</span><span class="w"></span>
<span class="w">  </span><span class="na">cluster_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"DATAFLOW"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_gpdb_instance"</span><span class="w"> </span><span class="nv">"defaultZoepvx"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_spec</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"2C8G"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">seg_node_num</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"2"</span><span class="w"></span>
<span class="w">  </span><span class="na">seg_storage_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"cloud_essd"</span><span class="w"></span>
<span class="w">  </span><span class="na">instance_network_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"VPC"</span><span class="w"></span>
<span class="w">  </span><span class="na">payment_type</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"PayAsYouGo"</span><span class="w"></span>
<span class="w">  </span><span class="na">ssl_enabled</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"0"</span><span class="w"></span>
<span class="w">  </span><span class="na">engine_version</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"6.0"</span><span class="w"></span>
<span class="w">  </span><span class="na">zone_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"cn-beijing-h"</span><span class="w"></span>
<span class="w">  </span><span class="na">vswitch_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_vswitches.default.ids[0</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">storage_size</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"50"</span><span class="w"></span>
<span class="w">  </span><span class="na">master_cu</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"4"</span><span class="w"></span>
<span class="w">  </span><span class="na">vpc_id</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="nv">data.alicloud_vpcs.default.ids.0</span><span class="w"></span>
<span class="w">  </span><span class="na">db_instance_mode</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"StorageElastic"</span><span class="w"></span>
<span class="w">  </span><span class="na">engine</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"gpdb"</span><span class="w"></span>
<span class="w">  </span><span class="na">db_instance_category</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Basic"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_gpdb_external_data_service"</span><span class="w"> </span><span class="nv">"defaultyOxz1K"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">service_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">db_instance_id</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_gpdb_instance.defaultZoepvx.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">service_spec</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"8"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"alicloud_gpdb_hadoop_data_source"</span><span class="w"> </span><span class="nv">"default"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">hdfs_conf</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="w">  </span><span class="na">data_source_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_gpdb_external_data_service.defaultyOxz1K.service_name</span><span class="w"></span>
<span class="w">  </span><span class="na">yarn_conf</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="w">  </span><span class="na">hive_conf</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="w">  </span><span class="na">hadoop_create_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"emr"</span><span class="w"></span>
<span class="w">  </span><span class="na">data_source_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.name</span><span class="w"></span>
<span class="w">  </span><span class="na">map_reduce_conf</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="w">  </span><span class="na">data_source_type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"hive"</span><span class="w"></span>
<span class="w">  </span><span class="na">hadoop_core_conf</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="w">  </span><span class="na">emr_instance_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_emrv2_cluster.default.id</span><span class="w"></span>
<span class="w">  </span><span class="na">db_instance_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">alicloud_gpdb_instance.defaultZoepvx.id</span><span class="w"></span>
<span class="w">  </span><span class="na">hadoop_hosts_address</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"aaa"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>db_instance_id</code> - (Required, ForceNew) The instance ID.</li>
</ul>

<ul>
<li><code>data_source_description</code> - (Optional) Data Source Description</li>
<li><code>data_source_name</code> - (Optional, ForceNew) Data Source Name</li>
<li><p><code>data_source_type</code> - (Optional) The type of the data source. Valid values:</p>

<ul>
<li>mysql</li>
<li><p>postgresql</p></li>
<li><p>hdfs</p></li>
<li>hive</li>
</ul></li>
<li><code>emr_instance_id</code> - (Optional) The ID of the Emr instance.</li>
<li><p><code>hadoop_core_conf</code> - (Optional) The string that specifies the content of the Hadoop core-site.xml file.</p></li>
<li><p><code>hadoop_create_type</code> - (Optional) The type of the external service. Valid values:</p>

<ul>
<li>emr: E-MapReduce (EMR) Hadoop cluster.</li>
<li>selfCreate: self-managed Hadoop cluster.</li>
</ul></li>
<li><p><code>hadoop_hosts_address</code> - (Optional) The IP address and hostname of the Hadoop cluster (data source) in the /etc/hosts file.</p></li>
<li><p><code>hdfs_conf</code> - (Optional) The string that specifies the content of the Hadoop hdfs-site.xml file. This parameter must be specified when DataSourceType is set to HDFS.</p></li>
<li><p><code>hive_conf</code> - (Optional) The string that specifies the content of the Hadoop hive-site.xml file. This parameter must be specified when DataSourceType is set to Hive.</p></li>
<li><p><code>map_reduce_conf</code> - (Optional) The content of the Hadoop mapred-site.xml file. This parameter must be specified when DataSourceType is set to HDFS.</p></li>
<li><p><code>yarn_conf</code> - (Optional) The string that specifies the content of the Hadoop yarn-site.xml file. This parameter must be specified when DataSourceType is set to HDFS.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the resource supplied above.The value is formulated as <code>&lt;db_instance_id&gt;:&lt;data_source_id&gt;</code>.</li>
<li><code>create_time</code> - Creation time</li>
<li><code>data_source_id</code> - The data source ID.</li>
</ul>

<ul>
<li><code>status</code> - Data Source Status</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 5 mins) Used when create the Hadoop Data Source.</li>
<li><code>delete</code> - (Defaults to 5 mins) Used when delete the Hadoop Data Source.</li>
<li><code>update</code> - (Defaults to 5 mins) Used when update the Hadoop Data Source.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>GPDB Hadoop Data Source can be imported using the id, e.g.</p>

<div class="codehilite"><pre><span></span><code>$ terraform import alicloud_gpdb_hadoop_data_source.example &lt;db_instance_id&gt;:&lt;data_source_id&gt;
</code></pre></div>

            
        
    </body></html>