<html><!-- Online page at https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/guides/sample-project --><head>
                <title>Sample Project for Confluent Terraform Provider</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="sample-project-for-confluent-terraform-provider">Sample Project for Confluent Terraform Provider</h1>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Summary"></a><h2 id="summary">Summary</h2>

<p><a href="https://asciinema.org/a/580630"><img alt="asciicast" src="https://asciinema.org/a/580630.svg"/></a></p>

<p>Use the Confluent Terraform provider to enable the lifecycle management of Confluent Cloud resources:</p>

<ul>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_environment">Environments</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_cluster">Kafka Clusters</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_byok_key">BYOK Key</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_topic">Topics</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_connector">Connectors</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_network">Networks</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_private_link_access">Private Link Accesses</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_network_link_service">Network Link Service</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_network_link_endpoint">Network Link Endpoint</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_peering">Peerings</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_transit_gateway_attachment">Transit Gateway Attachments</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_service_account">Service Accounts</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_api_key">Cloud API Keys and Cluster API Keys (Kafka API Keys, ksqlDB API Keys, Schema Registry API Keys)</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_acl">Access Control Lists (ACLs)</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_role_binding">Role Bindings</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_cluster_link">Cluster Links</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_identity_provider">Identity Providers</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_identity_pool">Identity Pool</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_client_quota">Kafka Client Quotas</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_cluster_config">Kafka Cluster Configs</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_kafka_mirror_topic">Kafka Mirror Topics</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_schema_registry_cluster">Schema Registry Clusters</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_schema_registry_cluster_config">Schema Registry Cluster Configs</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_schema_registry_cluster_mode">Schema Registry Cluster Modes</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_subject_config">Subject Configs</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_subject_mode">Subject Modes</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_ksql_cluster">ksqlDB Clusters</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_schema">Schemas</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_invitation">Invitation</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_tag">Tag</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_tag_binding">Tag Binding</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_business_metadata">Business Metadata</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_business_metadata_binding">Business Metadata Binding</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_network_link_service">Network Link Service</a></li>
<li><a href="https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_network_link_endpoint">Network Link Endpoint</a></li>
</ul>

<p>In this guide, you will:</p>

<ol>
<li><a href="#create-a-cloud-api-key">Create a Cloud API Key</a>
<ul>
<li>Create a <a href="https://docs.confluent.io/cloud/current/access-management/identity/service-accounts.html">service account</a> called <code>tf_runner</code>in Confluent Cloud</li>
<li>Assign the <code>OrganizationAdmin</code> <a href="https://docs.confluent.io/cloud/current/access-management/access-control/cloud-rbac.html#organizationadmin">role</a> to the <code>tf_runner</code> service account</li>
<li>Create a <a href="https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/api-keys.html#cloud-cloud-api-keys">Cloud API Key</a> for the <code>tf_runner</code> service account</li>
</ul></li>
<li><p><a href="#create-resources-on-confluent-cloud-via-terraform">Create Resources on Confluent Cloud via Terraform</a></p>

<ul>
<li><p>Select the appropriate Terraform configuration from a list of example configurations that describe the following infrastructure setup:</p>

<ul>
<li>An <a href="https://docs.confluent.io/cloud/current/access-management/hierarchy/cloud-environments.html">environment</a> named <code>Staging</code> that contains a <a href="https://docs.confluent.io/cloud/current/clusters/index.html">Kafka cluster</a> called <code>inventory</code> with a <a href="https://docs.confluent.io/cloud/current/client-apps/topics/manage.html">Kafka topic</a> named <code>orders</code></li>
<li>3 service accounts: <code>app_manager</code>, <code>app_producer</code>, and <code>app_consumer</code> with an associated <a href="https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/api-keys.html#resource-specific-api-keys">Kafka API Key</a> each</li>
<li><p>Appropriate permissions for service accounts granted either using <a href="https://docs.confluent.io/cloud/current/access-management/access-control/cloud-rbac.html">Role-based Access Control (RBAC)</a> or <a href="https://docs.confluent.io/cloud/current/access-management/access-control/acl.html">ACLs</a>:</p>

<ul>
<li>the <code>app_manager</code> service account's Kafka API Key is used for creating the <code>orders</code> topic on the <code>inventory</code> Kafka cluster and creating ACLs if needed.</li>
<li>the <code>app_producer</code> service account's Kafka API Key is used for _producing_ messages to the <code>orders</code> topic</li>
<li>the <code>app_consumer</code> service account's Kafka API Key is used for _consuming_ messages from the <code>orders</code> topic</li>
</ul>

<p></p><p></p><p>-&gt; <strong>Note:</strong> API Keys inherit the permissions granted to the owner.</p></li>
</ul><p></p></li>
<li><p>Initialize and apply the selected Terraform configuration</p></li>
</ul><p></p></li>
<li><a href="#optional-run-a-quick-test">[Optional] Run a quick test</a>
<ul>
<li>Use the <a href="https://docs.confluent.io/confluent-cli/current/install.html#install-confluent-cli">Confluent CLI</a> to 
<ul>
<li>Produce messages to the <code>orders</code> topic using the <code>app_producer</code> service account's Kafka API Key</li>
<li>Consume messages from the <code>orders</code> topic using the <code>app_consumer</code> service account's Kafka API Key</li>
</ul></li>
</ul></li>
<li><a href="#optional-teardown-confluent-cloud-resources">[Optional] Destroy created resources on Confluent Cloud</a></li>
</ol>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Prerequisites"></a><h2 id="prerequisites">Prerequisites</h2>

<aside class="admonition danger">
    <strong>danger</strong>
    <em>Warning</em>
    <p>Terraform version <code>1.6.0</code> is not supported. See <a href="https://github.com/confluentinc/terraform-provider-confluent/issues/315">this issue</a> for more details.</p>
</aside>

<ol>
<li>A Confluent Cloud account. If you do not have a Confluent Cloud account, <a href="https://www.confluent.io/confluent-cloud/tryfree/">create one now</a>. </li>
<li><p>Terraform (0.14+) installed:</p>

<ul>
<li>Install Terraform version manager <a href="https://github.com/tfutils/tfenv">tfutils/tfenv</a></li>
<li>Alternatively, install the <a href="https://learn.hashicorp.com/tutorials/terraform/install-cli#install-terraform">Terraform CLI</a></li>
<li><p>To ensure you're using the acceptable version of Terraform you may run the following command:</p>

<div class="codehilite"><pre><span></span><code>terraform version
</code></pre></div>

<p>Your output should resemble:</p>

<div class="codehilite"><pre><span></span><code>Terraform v0.14.0 <span class="c1"># any version &gt;= v0.14.0 is OK</span>
...
</code></pre></div></li>
</ul></li>
</ol>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Create%20a%20Cloud%20API%20Key"></a><h2 id="create-a-cloud-api-key">Create a Cloud API Key</h2>

<ol>
<li>Open the <a href="https://confluent.cloud/settings/api-keys/create">Confluent Cloud Console</a> and click <strong>Granular access</strong> tab, and then click <strong>Next</strong>.</li>
<li>Click <strong>Create a new one to create</strong> tab. Enter the new service account name (<code>tf_runner</code>), then click <strong>Next</strong>.</li>
<li>The Cloud API key and secret are generated for the <code>tf_runner</code> service account. Save your Cloud API key and secret in a secure location. You will need this API key and secret <strong>to use the Confluent Terraform Provider</strong>.</li>
<li><a href="https://confluent.cloud/settings/org/assignments">Assign</a> the <code>OrganizationAdmin</code> role to the <code>tf_runner</code> service account by following <a href="https://docs.confluent.io/cloud/current/access-management/access-control/cloud-rbac.html#add-a-role-binding-for-a-user-or-service-account">this guide</a>.</li>
</ol>

<p><img alt="Assigning the OrganizationAdmin role to tf_runner service account" src="https://github.com/confluentinc/terraform-provider-confluent/raw/master/docs/images/OrganizationAdmin.png"/></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Create%20Resources%20on%20Confluent%20Cloud%20via%20Terraform"></a><h2 id="create-resources-on-confluent-cloud-via-terraform">Create Resources on Confluent Cloud via Terraform</h2>

<ol>
<li><p>Clone the <a href="https://github.com/confluentinc/terraform-provider-confluent">repository</a> containing the example configurations:</p>

<div class="codehilite"><pre><span></span><code>git clone https://github.com/confluentinc/terraform-provider-confluent.git
</code></pre></div></li>
<li><p>Change into <code>configurations</code> subdirectory:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> terraform-provider-confluent/examples/configurations
</code></pre></div></li>
<li><p>The <code>configurations</code> directory has a subdirectory for each of the following configurations:</p>

<ul>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/basic-kafka-acls"><code>basic-kafka-acls</code></a>: _Basic_ Kafka cluster with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/basic-kafka-acls-with-alias"><code>basic-kafka-acls-with-alias</code></a>: _Basic_ Kafka cluster with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/standard-kafka-acls"><code>standard-kafka-acls</code></a>: _Standard_ Kafka cluster with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/standard-kafka-rbac"><code>standard-kafka-rbac</code></a>: _Standard_ Kafka cluster with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-public-kafka-acls"><code>dedicated-public-kafka-acls</code></a>: _Dedicated_ Kafka cluster that is accessible over the public internet with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-public-kafka-rbac"><code>dedicated-public-kafka-rbac</code></a>: _Dedicated_ Kafka cluster that is accessible over the public internet with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-privatelink-aws-kafka-acls"><code>dedicated-privatelink-aws-kafka-acls</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via PrivateLink connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-privatelink-aws-kafka-rbac"><code>dedicated-privatelink-aws-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via PrivateLink connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-privatelink-azure-kafka-rbac"><code>dedicated-privatelink-azure-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on Azure that is accessible via PrivateLink connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-privatelink-azure-kafka-acls"><code>dedicated-privatelink-azure-kafka-acls</code></a>: _Dedicated_ Kafka cluster on Azure that is accessible via PrivateLink connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-private-service-connect-gcp-kafka-acls"><code>dedicated-private-service-connect-gcp-kafka-acls</code></a>: _Dedicated_ Kafka cluster on GCP that is accessible via Private Service Connect connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-private-service-connect-gcp-kafka-rbac"><code>dedicated-private-service-connect-gcp-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on GCP that is accessible via Private Service Connect connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vnet-peering-azure-kafka-acls"><code>dedicated-vnet-peering-azure-kafka-acls</code></a>: _Dedicated_ Kafka cluster on Azure that is accessible via VPC Peering connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vnet-peering-azure-kafka-rbac"><code>dedicated-vnet-peering-azure-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on Azure that is accessible via VPC Peering connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vpc-peering-aws-kafka-acls"><code>dedicated-vpc-peering-aws-kafka-acls</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via VPC Peering connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vpc-peering-aws-kafka-rbac"><code>dedicated-vpc-peering-aws-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via VPC Peering connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vpc-peering-gcp-kafka-acls"><code>dedicated-vpc-peering-gcp-kafka-acls</code></a>: _Dedicated_ Kafka cluster on GCP that is accessible via VPC Peering connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-vpc-peering-gcp-kafka-rbac"><code>dedicated-vpc-peering-gcp-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on GCP that is accessible via VPC Peering connections with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-transit-gateway-attachment-aws-kafka-acls"><code>dedicated-transit-gateway-attachment-aws-kafka-acls</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via Transit Gateway Endpoint with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/dedicated-transit-gateway-attachment-aws-kafka-rbac"><code>dedicated-transit-gateway-attachment-aws-kafka-rbac</code></a>: _Dedicated_ Kafka cluster on AWS that is accessible via Transit Gateway Endpoint with authorization using RBAC</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/enterprise-privatelinkattachment-aws-kafka-acls"><code>enterprise-privatelinkattachment-aws-kafka-acls</code></a>: _Enterprise_ Kafka cluster on AWS that is accessible via PrivateLink connections with authorization using ACLs</li>
<li><a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/enterprise-privatelinkattachment-azure-kafka-acls"><code>enterprise-privatelinkattachment-azure-kafka-acls</code></a>: _Enterprise_ Kafka cluster on Azure that is accessible via PrivateLink connections with authorization using ACLs</li>
</ul>

<p>-&gt; <strong>Note:</strong> _Basic_ Kafka cluster with authorization using RBAC configuration is not supported, because both <code>DeveloperRead</code> and <code>DeveloperWrite</code> roles are not available for _Basic_ Kafka clusters.</p>

<p>-&gt; <strong>Note:</strong> When considering whether to use RBAC or ACLs for access control, it is suggested you use RBAC as the default because of its ease of use and manageability at scale, but for edge cases where you need to have more granular access control, or wish to explicitly deny access, ACLs may make more sense. For example, you could use RBAC to allow access for a group of users, but an ACL to deny access for a particular member of that group.</p>

<p>-&gt; <strong>Note:</strong> When using a private networking option, you must execute <code>terraform</code> on a system with connectivity to the Kafka REST API. Check the <a href="https://docs.confluent.io/cloud/current/api.html#tag/Topic-(v3)">Kafka REST API docs</a> to learn more about it.</p>

<p>-&gt; <strong>Note:</strong> If you're interested in a more granular setup with TF configuration split between a Kafka Ops team and a Product team, see <a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/kafka-ops-env-admin-product-team">kafka-ops-env-admin-product-team</a> and <a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations/kafka-ops-kafka-admin-product-team">kafka-ops-kafka-admin-product-team</a>.</p></li>
<li><p>Select the target configuration and change into its directory:</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Using the example configuration #1 as an example </span>
<span class="nb">cd</span> basic-kafka-acls
</code></pre></div></li>
<li><p>Download and install the providers defined in the configuration:</p>

<div class="codehilite"><pre><span></span><code>terraform init
</code></pre></div></li>
<li><p>Use the saved Cloud API Key of the <code>tf_runner</code> service account to set values to the <code>confluent_cloud_api_key</code> and <code>confluent_cloud_api_secret</code> input variables <a href="https://www.terraform.io/language/values/variables#environment-variables">using environment variables</a>:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">export</span> <span class="nv">TF_VAR_confluent_cloud_api_key</span><span class="o">=</span><span class="s2">"&lt;cloud_api_key&gt;"</span>
<span class="nb">export</span> <span class="nv">TF_VAR_confluent_cloud_api_secret</span><span class="o">=</span><span class="s2">"&lt;cloud_api_secret&gt;"</span>
</code></pre></div></li>
<li><p>Ensure the configuration is syntactically valid and internally consistent:</p>

<div class="codehilite"><pre><span></span><code>terraform validate
</code></pre></div></li>
<li><p>Apply the configuration:</p>

<div class="codehilite"><pre><span></span><code>terraform apply
</code></pre></div>

<p>!&gt; <strong>Warning:</strong> Before running <code>terraform apply</code>, please take a look at the corresponding <a href="https://github.com/confluentinc/terraform-provider-confluent/blob/master/examples/configurations/basic-kafka-acls/README.md">README file</a> for other instructions.</p></li>
<li><p>You have now created infrastructure using Terraform! Visit the <a href="https://confluent.cloud/environments">Confluent Cloud Console</a> or use the <a href="https://docs.confluent.io/confluent-cli/current/install.html#install-confluent-cli">Confluent CLI</a> to see the resources you provisioned.</p></li>
</ol>

<a class="dashAnchor" name="//apple_ref/cpp/Section/%5BOptional%5D%20Run%20a%20Quick%20Test"></a><h2 id="optional-run-a-quick-test">[Optional] Run a Quick Test</h2>

<ol>
<li><p>Ensure you're using the acceptable version of the <a href="https://docs.confluent.io/confluent-cli/current/install.html#install-confluent-cli">Confluent CLI</a> by running the following command:</p>

<div class="codehilite"><pre><span></span><code>confluent version
</code></pre></div>

<p>Your output should resemble:</p>

<div class="codehilite"><pre><span></span><code>...
Version:     v2.5.1 <span class="c1"># any version &gt;= v2.0 is OK</span>
...
</code></pre></div></li>
<li><p>Run the following command to print out generated Confluent CLI commands with the correct resource IDs injected:  </p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Alternatively, you could also run terraform output -json resource-ids</span>
terraform output resource-ids
</code></pre></div>

<p>Your output should resemble:</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># 1. Log in to Confluent Cloud</span>
$ confluent login

<span class="c1"># 2. Produce key-value records to topic '&lt;TOPIC_NAME&gt;' by using &lt;APP-PRODUCER'S NAME&gt;'s Kafka API Key</span>
<span class="c1"># Enter a few records and then press 'Ctrl-C' when you're done.</span>
<span class="c1"># Sample records:</span>
<span class="c1"># {"number":1,"date":18500,"shipping_address":"899 W Evelyn Ave, Mountain View, CA 94041, USA","cost":15.00}</span>
<span class="c1"># {"number":2,"date":18501,"shipping_address":"1 Bedford St, London WC2E 9HG, United Kingdom","cost":5.00}</span>
<span class="c1"># {"number":3,"date":18502,"shipping_address":"3307 Northland Dr Suite 400, Austin, TX 78731, USA","cost":10.00} </span>
$ confluent kafka topic produce &lt;TOPIC_NAME&gt; --environment &lt;ENVIRONMENT_ID&gt; --cluster &lt;CLUSTER_ID&gt; --api-key <span class="s2">"&lt;APP-PRODUCER'S KAFKA API KEY&gt;"</span> --api-secret <span class="s2">"&lt;APP-PRODUCER'S KAFKA API SECRET&gt;"</span>

<span class="c1"># 3. Consume records from topic '&lt;TOPIC_NAME&gt;' by using &lt;APP-CONSUMER'S NAME&gt;'s Kafka API Key</span>
$ confluent kafka topic consume &lt;TOPIC_NAME&gt; --from-beginning --environment &lt;ENVIRONMENT_ID&gt; --cluster &lt;CLUSTER_ID&gt; --api-key <span class="s2">"&lt;APP-CONSUMER'S KAFKA API KEY&gt;"</span> --api-secret <span class="s2">"&lt;APP-CONSUMER'S KAFKA API SECRET&gt;"</span>
<span class="c1"># When you are done, press 'Ctrl-C'.</span>
</code></pre></div></li>
<li><p>Execute printed out commands.</p>

<p>-&gt; <strong>Note:</strong> Add the <code>--from-beginning</code> flag to enable printing all messages from the beginning of the topic.</p></li>
</ol>

<a class="dashAnchor" name="//apple_ref/cpp/Section/%5BOptional%5D%20Teardown%20Confluent%20Cloud%20resources"></a><h2 id="optional-teardown-confluent-cloud-resources">[Optional] Teardown Confluent Cloud resources</h2>

<p>Run the following command to destroy all the resources you created:</p>

<div class="codehilite"><pre><span></span><code>terraform destroy
</code></pre></div>

<p>This command destroys all the resources specified in your Terraform state. <code>terraform destroy</code> doesn't destroy resources running elsewhere that aren't managed by the current Terraform project.</p>

<p>Now you've created and destroyed an entire Confluent Cloud deployment!</p>

<p>Visit the <a href="https://confluent.cloud/environments">Confluent Cloud Console</a> to verify the resources have been destroyed to avoid unexpected charges.</p>

<p>If you're interested in additional Confluent Cloud infrastructure configurations view our <a href="https://github.com/confluentinc/terraform-provider-confluent/tree/master/examples/configurations">repository</a> for more end-to-end examples.</p>

            
        
    </body></html>