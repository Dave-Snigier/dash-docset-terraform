<html><!-- Online page at https://registry.terraform.io/providers/terraform-provider-openstack/openstack/latest/docs/resources/objectstorage_container_v1 --><head>
                <title>openstack_objectstorage_container_v1</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="openstack_objectstorage_container_v1">openstack_objectstorage_container_v1</h1>

<p>Manages a V1 container resource within OpenStack.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Container"></a><h3 id="basic-container">Basic Container</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"openstack_objectstorage_container_v1"</span><span class="w"> </span><span class="nv">"container_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RegionOne"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-1"</span><span class="w"></span>

<span class="w">  </span><span class="nb">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">content_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w"></span>
<span class="w">  </span><span class="na">versioning</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Basic%20Container%20with%20legacy%20versioning"></a><h3 id="basic-container-with-legacy-versioning">Basic Container with legacy versioning</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"openstack_objectstorage_container_v1"</span><span class="w"> </span><span class="nv">"container_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RegionOne"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-1"</span><span class="w"></span>

<span class="w">  </span><span class="nb">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">content_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w"></span>

<span class="w">  </span><span class="nb">versioning_legacy</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">type</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"versions"</span><span class="w"></span>
<span class="w">    </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-versions"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Global%20Read%20Access"></a><h3 id="global-read-access">Global Read Access</h3>

<div class="codehilite"><pre><span></span><code><span class="c1"># Requires that a user know the object name they are attempting to download</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"openstack_objectstorage_container_v1"</span><span class="w"> </span><span class="nv">"container_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RegionOne"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-1"</span><span class="w"></span>

<span class="w">  </span><span class="na">container_read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">".r:*"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Global%20Read%20and%20List%20Access"></a><h3 id="global-read-and-list-access">Global Read and List Access</h3>

<div class="codehilite"><pre><span></span><code><span class="c1"># Any user can read any object, and list all objects in the container</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"openstack_objectstorage_container_v1"</span><span class="w"> </span><span class="nv">"container_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RegionOne"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-1"</span><span class="w"></span>

<span class="w">  </span><span class="na">container_read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">".r:*,.rlistings"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Write-Only%20Access%20for%20a%20User"></a><h3 id="write-only-access-for-a-user">Write-Only Access for a User</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"openstack_identity_auth_scope_v3"</span><span class="w"> </span><span class="nv">"current"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"current"</span><span class="w"></span>
<span class="p">}</span><span class="c1"></span>

<span class="c1"># The named user can only upload objects, not read objects or list the container</span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"openstack_objectstorage_container_v1"</span><span class="w"> </span><span class="nv">"container_1"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"RegionOne"</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"tf-test-container-1"</span><span class="w"></span>

<span class="w">  </span><span class="na">container_read</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">".r:-${var.username}"</span><span class="w"></span>
<span class="w">  </span><span class="na">container_write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"${data.openstack_identity_auth_scope_v3.current.project_id}:${var.username}"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>region</code> - (Optional) The region in which to create the container. If
omitted, the <code>region</code> argument of the provider is used. Changing this
creates a new container.</p></li>
<li><p><code>name</code> - (Required) A unique name for the container. Changing this creates a
new container.</p></li>
<li><p><code>container_read</code> - (Optional) Sets an access control list (ACL) that grants
read access. This header can contain a comma-delimited list of users that
can read the container (allows the GET method for all objects in the
container). Changing this updates the access control list read access.</p></li>
<li><p><code>container_sync_to</code> - (Optional) The destination for container synchronization.
Changing this updates container synchronization.</p></li>
<li><p><code>container_sync_key</code> - (Optional) The secret key for container synchronization.
Changing this updates container synchronization.</p></li>
<li><p><code>container_write</code> - (Optional) Sets an ACL that grants write access.
Changing this updates the access control list write access.</p></li>
<li><p><code>versioning</code> - (Optional) A boolean that can enable or disable object
versioning. The default value is <code>false</code>. To use this feature, your Swift
version must be 2.24 or higher (as described in the <a href="https://docs.openstack.org/releasenotes/swift/ussuri.html#relnotes-2-24-0-stable-ussuri">OpenStack Swift Ussuri release notes</a>),
and a cloud administrator must have set the <code>allow_object_versioning = true</code>
configuration option in Swift. If you cannot set this versioning type, you may
want to consider using <code>versioning_legacy</code> instead.</p></li>
<li><p><code>versioning_legacy</code> - (Deprecated) Enable legacy object versioning. The structure is described below.</p></li>
<li><p><code>metadata</code> - (Optional) Custom key/value pairs to associate with the container.
Changing this updates the existing container metadata.</p></li>
<li><p><code>content_type</code> - (Optional) The MIME type for the container. Changing this
updates the MIME type.</p></li>
<li><p><code>storage_policy</code> - (Optional) The storage policy to be used for the container. 
Changing this creates a new container.</p></li>
<li><p><code>force_destroy</code> - (Optional, Default:false ) A boolean that indicates all objects should be deleted from the container so that the container can be destroyed without error. These objects are not recoverable.</p></li>
</ul>

<p>The <code>versioning_legacy</code> block supports:</p>

<ul>
<li><code>type</code> - (Required) Versioning type which can be <code>versions</code> or <code>history</code> according to <a href="https://docs.openstack.org/swift/latest/api/object_versioning.html">Openstack documentation</a>.</li>
<li><code>location</code> - (Required) Container in which versions will be stored.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>region</code> - See Argument Reference above.</li>
<li><code>name</code> - See Argument Reference above.</li>
<li><code>container_read</code> - See Argument Reference above.</li>
<li><code>container_sync_to</code> - See Argument Reference above.</li>
<li><code>container_sync_key</code> - See Argument Reference above.</li>
<li><code>container_write</code> - See Argument Reference above.</li>
<li><code>versioning</code> - See Argument Reference above.</li>
<li><code>versioning_legacy</code> - See Argument Reference above.</li>
<li><code>metadata</code> - See Argument Reference above.</li>
<li><code>content_type</code> - See Argument Reference above.</li>
<li><code>storage_policy</code> - See Argument Reference above.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>This resource can be imported by specifying the name of the container:</p>

<p>Some attributes can't be imported :</p>

<ul>
<li><code>force_destroy</code></li>
<li><code>content_type</code></li>
<li><code>metadata</code></li>
<li><code>container_sync_to</code></li>
<li><code>container_sync_key</code></li>
</ul>

<p>So you'll have to <code>terraform plan</code> and <code>terraform apply</code> after the import to fix those missing attributes.</p>

<pre><code>$ terraform import openstack_objectstorage_container_v1.container_1 container_name
</code></pre>

            
        
    </body></html>