<html><!-- Online page at https://registry.terraform.io/providers/microsoft/azuredevops/latest/docs/resources/serviceendpoint_kubernetes --><head>
                <title>azuredevops_serviceendpoint_kubernetes</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="azuredevops_serviceendpoint_kubernetes">azuredevops_serviceendpoint_kubernetes</h1>

<p>Manages a Kubernetes service endpoint within Azure DevOps.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_kubernetes"</span><span class="w"> </span><span class="nv">"example-azure"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Kubernetes"</span><span class="w"></span>
<span class="w">  </span><span class="na">apiserver_url</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://sample-kubernetes-cluster.hcp.westeurope.azmk8s.io"</span><span class="w"></span>
<span class="w">  </span><span class="na">authorization_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"AzureSubscription"</span><span class="w"></span>

<span class="w">  </span><span class="nb">azure_subscription</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">subscription_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">    </span><span class="na">subscription_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example"</span><span class="w"></span>
<span class="w">    </span><span class="na">tenant_id</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">    </span><span class="na">resourcegroup_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-rg"</span><span class="w"></span>
<span class="w">    </span><span class="na">namespace</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"default"</span><span class="w"></span>
<span class="w">    </span><span class="na">cluster_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-aks"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_kubernetes"</span><span class="w"> </span><span class="nv">"example-kubeconfig"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Kubernetes"</span><span class="w"></span>
<span class="w">  </span><span class="na">apiserver_url</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://sample-kubernetes-cluster.hcp.westeurope.azmk8s.io"</span><span class="w"></span>
<span class="w">  </span><span class="na">authorization_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Kubeconfig"</span><span class="w"></span>

<span class="w">  </span><span class="nb">kubeconfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">kube_config</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="dl">EOT</span><span class="sh"></span>
<span class="err">                              apiVersion: v1</span>
<span class="err">                              clusters:</span>
<span class="err">                              - cluster:</span>
<span class="err">                                  certificate-authority: fake-ca-file</span>
<span class="err">                                  server: https://1.2.3.4</span>
<span class="err">                                name: development</span>
<span class="err">                              contexts:</span>
<span class="err">                              - context:</span>
<span class="err">                                  cluster: development</span>
<span class="err">                                  namespace: frontend</span>
<span class="err">                                  user: developer</span>
<span class="err">                                name: dev-frontend</span>
<span class="err">                              current-context: dev-frontend</span>
<span class="err">                              kind: Config</span>
<span class="err">                              preferences: {}</span>
<span class="err">                              users:</span>
<span class="err">                              - name: developer</span>
<span class="err">                                user:</span>
<span class="err">                                  client-certificate: fake-cert-file</span>
<span class="err">                                  client-key: fake-key-file</span>
<span class="err">                             EOT</span>
<span class="err">    accept_untrusted_certs = true</span>
<span class="err">    cluster_context        = "dev-frontend"</span>
<span class="err">  }</span>
<span class="err">}</span>

<span class="err">resource "azuredevops_serviceendpoint_kubernetes" "example-service-account" {</span>
<span class="err">  project_id            = azuredevops_project.example.id</span>
<span class="err">  service_endpoint_name = "Example Kubernetes"</span>
<span class="err">  apiserver_url         = "https://sample-kubernetes-cluster.hcp.westeurope.azmk8s.io"</span>
<span class="err">  authorization_type    = "ServiceAccount"</span>

<span class="err">  service_account {</span>
<span class="err">    token   = "000000000000000000000000"</span>
<span class="err">    ca_cert = "0000000000000000000000000000000"</span>
<span class="err">  }</span>
<span class="err">}</span>
<span class="w">                              </span><span class="err">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="err">v</span><span class="m">1</span><span class="w"></span>
<span class="w">                              </span><span class="err">clusters</span><span class="p">:</span><span class="w"></span>
<span class="w">                              </span><span class="err">-</span><span class="w"> </span><span class="err">cluster</span><span class="p">:</span><span class="w"></span>
<span class="w">                                  </span><span class="err">certificate-authority</span><span class="p">:</span><span class="w"> </span><span class="err">fake-ca-file</span><span class="w"></span>
<span class="w">                                  </span><span class="err">server</span><span class="p">:</span><span class="w"> </span><span class="err">https</span><span class="p">:</span><span class="c1">//1.2.3.4</span>
<span class="w">                                </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="err">development</span><span class="w"></span>
<span class="w">                              </span><span class="err">contexts</span><span class="p">:</span><span class="w"></span>
<span class="w">                              </span><span class="err">-</span><span class="w"> </span><span class="err">context</span><span class="p">:</span><span class="w"></span>
<span class="w">                                  </span><span class="err">cluster</span><span class="p">:</span><span class="w"> </span><span class="err">development</span><span class="w"></span>
<span class="w">                                  </span><span class="err">namespace</span><span class="p">:</span><span class="w"> </span><span class="err">frontend</span><span class="w"></span>
<span class="w">                                  </span><span class="err">user</span><span class="p">:</span><span class="w"> </span><span class="err">developer</span><span class="w"></span>
<span class="w">                                </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="err">dev-frontend</span><span class="w"></span>
<span class="w">                              </span><span class="err">current-context</span><span class="p">:</span><span class="w"> </span><span class="err">dev-frontend</span><span class="w"></span>
<span class="w">                              </span><span class="err">kind</span><span class="p">:</span><span class="w"> </span><span class="err">Config</span><span class="w"></span>
<span class="w">                              </span><span class="err">preferences</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">                              </span><span class="err">users</span><span class="p">:</span><span class="w"></span>
<span class="w">                              </span><span class="err">-</span><span class="w"> </span><span class="err">name</span><span class="p">:</span><span class="w"> </span><span class="err">developer</span><span class="w"></span>
<span class="w">                                </span><span class="err">user</span><span class="p">:</span><span class="w"></span>
<span class="w">                                  </span><span class="err">client-certificate</span><span class="p">:</span><span class="w"> </span><span class="err">fake-cert-file</span><span class="w"></span>
<span class="w">                                  </span><span class="err">client-key</span><span class="p">:</span><span class="w"> </span><span class="err">fake-key-file</span><span class="w"></span>
<span class="w">                             </span><span class="err">EOT</span><span class="w"></span>
<span class="w">    </span><span class="na">accept_untrusted_certs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">cluster_context</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"dev-frontend"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_kubernetes"</span><span class="w"> </span><span class="nv">"example-service-account"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Kubernetes"</span><span class="w"></span>
<span class="w">  </span><span class="na">apiserver_url</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://sample-kubernetes-cluster.hcp.westeurope.azmk8s.io"</span><span class="w"></span>
<span class="w">  </span><span class="na">authorization_type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"ServiceAccount"</span><span class="w"></span>

<span class="w">  </span><span class="nb">service_account</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">token</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"000000000000000000000000"</span><span class="w"></span>
<span class="w">    </span><span class="na">ca_cert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>project_id</code> - (Required) The ID of the project.</p></li>
<li><p><code>service_endpoint_name</code> - (Required) The Service Endpoint name.</p></li>
<li><p><code>apiserver_url</code> - (Required) The hostname (in form of URI) of the Kubernetes API.</p></li>
<li><p><code>authorization_type</code> - (Required) The authentication method used to authenticate on the Kubernetes cluster. The value should be one of AzureSubscription, Kubeconfig, ServiceAccount.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>azure_subscription</code> - (Optional) An <code>azure_subscription</code> block as defined below.</p></li>
<li><p><code>kubeconfig</code> - (Optional) A <code>kubeconfig</code> block as defined below.</p></li>
<li><p><code>service_account</code> - (Optional)  A <code>service_account</code> block as defined below.</p></li>
</ul>

<hr/>

<p>An <code>azure_subscription</code> block supports the following:</p>

<p>The configuration for <code>authorization_type=AzureSubscription</code>.</p>

<ul>
<li><p><code>azure_environment</code> - (Optional) Azure environment refers to whether the public cloud offering or domestic (government) clouds are being used. Currently, only the public cloud is supported. The value must be AzureCloud. This is also the default-value.</p></li>
<li><p><code>cluster_name</code> - (Required) The name of the Kubernetes cluster.</p></li>
<li><p><code>subscription_id</code> - (Required) The id of the Azure subscription.</p></li>
<li><p><code>subscription_name</code> - (Required) The name of the Azure subscription.</p></li>
<li><p><code>tenant_id</code> - (Required) The id of the tenant used by the subscription.</p></li>
<li><p><code>resourcegroup_id</code> - (Required) The resource group name, to which the Kubernetes cluster is deployed.</p></li>
<li><p><code>namespace</code> - (Optional) The Kubernetes namespace. Default value is "default".</p></li>
<li><p><code>cluster_admin</code> - (Optional) Set this option to allow use cluster admin credentials.</p></li>
</ul>

<hr/>

<p>A <code>kubeconfig</code> block supports the following: </p>

<p>The configuration for <code>authorization_type=Kubeconfig</code>. </p>

<ul>
<li><p><code>kube_config</code> - (Required) The content of the kubeconfig in yaml notation to be used to communicate with the API-Server of Kubernetes.</p></li>
<li><p><code>accept_untrusted_certs</code> - (Optional) Set this option to allow clients to accept a self-signed certificate.</p></li>
<li><p><code>cluster_context</code> - (Optional) Context within the kubeconfig file that is to be used for identifying the cluster. Default value is the current-context set in kubeconfig.</p></li>
</ul>

<hr/>

<p>A <code>service_account</code> block supports the following:  </p>

<p>The configuration for <code>authorization_type=ServiceAccount</code>. This type uses the credentials of a service account currently deployed to the cluster.</p>

<ul>
<li><p><code>token</code> - (Required) The token from a Kubernetes secret object.</p></li>
<li><p><code>ca_cert</code> - (Required) The certificate from a Kubernetes secret object.</p></li>
<li><p><code>accept_untrusted_certs</code> - (Optional) Set this option to allow clients to accept a self-signed certificate. Defaults to <code>false</code>.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the service endpoint.</li>
<li><code>project_id</code> - The ID of the project.</li>
<li><code>service_endpoint_name</code> - The Service Endpoint name.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Relevant%20Links"></a><h2 id="relevant-links">Relevant Links</h2>

<ul>
<li><a href="https://docs.microsoft.com/en-us/rest/api/azure/devops/serviceendpoint/endpoints?view=azure-devops-rest-7.0">Azure DevOps Service REST API 7.0 - Endpoints</a></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 2 minutes) Used when creating the Kubernetes Service Endpoint.</li>
<li><code>read</code> - (Defaults to 1 minute) Used when retrieving the Kubernetes Service Endpoint.</li>
<li><code>update</code> - (Defaults to 2 minutes) Used when updating the Kubernetes Service Endpoint.</li>
<li><code>delete</code> - (Defaults to 2 minutes) Used when deleting the Kubernetes Service Endpoint.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Azure DevOps Kubernetes Service Endpoint can be imported using <strong>projectID/serviceEndpointID</strong> or <strong>projectName/serviceEndpointID</strong></p>

<div class="codehilite"><pre><span></span><code>terraform import azuredevops_serviceendpoint_kubernetes.example <span class="m">00000000</span>-0000-0000-0000-000000000000/00000000-0000-0000-0000-000000000000
</code></pre></div>

            
        
    </body></html>