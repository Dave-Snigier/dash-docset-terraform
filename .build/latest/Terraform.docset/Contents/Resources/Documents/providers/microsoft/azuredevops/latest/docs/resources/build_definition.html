<html><!-- Online page at https://registry.terraform.io/providers/microsoft/azuredevops/latest/docs/resources/build_definition --><head>
                <title>azuredevops_build_definition</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="azuredevops_build_definition">azuredevops_build_definition</h1>

<p>Manages a Build Definition within Azure DevOps.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Azure%20DevOps"></a><h3 id="azure-devops">Azure DevOps</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_git_repository"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Repository"</span><span class="w"></span>
<span class="w">  </span><span class="nb">initialization</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">init_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Clean"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_variable_group"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Pipeline Variables"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="w">  </span><span class="na">allow_access</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>

<span class="w">  </span><span class="nb">variable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"FOO"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"BAR"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_build_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Build Definition"</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"\\ExampleFolder"</span><span class="w"></span>

<span class="w">  </span><span class="nb">ci_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">use_yaml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">schedules</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">branch_filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"master"</span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="na">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"test", "regression"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">days_to_build</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"Wed", "Sun"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">schedule_only_with_changes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">start_hours</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">    </span><span class="na">start_minutes</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="m">59</span><span class="w"></span>
<span class="w">    </span><span class="na">time_zone</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"(UTC) Coordinated Universal Time"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">repository</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_type</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"TfsGit"</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_git_repository.example.id</span><span class="w"></span>
<span class="w">    </span><span class="na">branch_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_git_repository.example.default_branch</span><span class="w"></span>
<span class="w">    </span><span class="na">yml_path</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"azure-pipelines.yml"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="na">variable_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="nv">azuredevops_variable_group.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="nb">variable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"PipelineVariable"</span><span class="w"></span>
<span class="w">    </span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Go Microsoft!"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">variable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"PipelineSecret"</span><span class="w"></span>
<span class="w">    </span><span class="na">secret_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ZGV2cw"</span><span class="w"></span>
<span class="w">    </span><span class="na">is_secret</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/GitHub%20Enterprise"></a><h3 id="github-enterprise">GitHub Enterprise</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_github_enterprise"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example GitHub Enterprise"</span><span class="w"></span>
<span class="w">  </span><span class="na">url</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.contoso.com"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>

<span class="w">  </span><span class="nb">auth_personal</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">personal_access_token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_build_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Build Definition"</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"\\ExampleFolder"</span><span class="w"></span>

<span class="w">  </span><span class="nb">ci_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">use_yaml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">repository</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_type</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"GitHubEnterprise"</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;GitHub Org&gt;/&lt;Repo Name&gt;"</span><span class="w"></span>
<span class="w">    </span><span class="na">github_enterprise_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.company.com"</span><span class="w"></span>
<span class="w">    </span><span class="na">branch_name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"master"</span><span class="w"></span>
<span class="w">    </span><span class="na">yml_path</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"azure-pipelines.yml"</span><span class="w"></span>
<span class="w">    </span><span class="na">service_connection_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_serviceendpoint_github_enterprise.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">schedules</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">branch_filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"main"</span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="na">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"test", "regression"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="na">days_to_build</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"Wed", "Sun"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="na">schedule_only_with_changes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span><span class="w"></span>
<span class="w">    </span><span class="na">start_hours</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">    </span><span class="na">start_minutes</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="m">59</span><span class="w"></span>
<span class="w">    </span><span class="na">time_zone</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"(UTC) Coordinated Universal Time"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Build%20Completion%20Trigger"></a><h3 id="build-completion-trigger">Build Completion Trigger</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_build_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Build Definition"</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"\\ExampleFolder"</span><span class="w"></span>

<span class="w">  </span><span class="nb">ci_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">use_yaml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">repository</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_type</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"GitHubEnterprise"</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;GitHub Org&gt;/&lt;Repo Name&gt;"</span><span class="w"></span>
<span class="w">    </span><span class="na">github_enterprise_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"https://github.company.com"</span><span class="w"></span>
<span class="w">    </span><span class="na">branch_name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"main"</span><span class="w"></span>
<span class="w">    </span><span class="na">yml_path</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"azure-pipelines.yml"</span><span class="w"></span>
<span class="w">    </span><span class="na">service_connection_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_serviceendpoint_github_enterprise.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">build_completion_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">build_definition_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"></span>
<span class="w">    </span><span class="nb">branch_filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"main"</span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="na">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"test"</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Pull%20Request%20Trigger"></a><h3 id="pull-request-trigger">Pull Request Trigger</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_github"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_build_definition"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Build Definition"</span><span class="w"></span>
<span class="w">  </span><span class="na">path</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"\\ExampleFolder"</span><span class="w"></span>

<span class="w">  </span><span class="nb">ci_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">use_yaml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">repository</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_type</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"GitHub"</span><span class="w"></span>
<span class="w">    </span><span class="na">repo_id</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"&lt;GitHub Org&gt;/&lt;Repo Name&gt;"</span><span class="w"></span>
<span class="w">    </span><span class="na">branch_name</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">"main"</span><span class="w"></span>
<span class="w">    </span><span class="na">yml_path</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"azure-pipelines.yml"</span><span class="w"></span>
<span class="w">    </span><span class="na">service_connection_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.azuredevops_serviceendpoint_github.example.id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="nb">pull_request_trigger</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">override</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nb">branch_filter</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="na">include</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"main"</span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">forks</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">enabled</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">      </span><span class="na">share_secrets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>project_id</code> - (Required) The project ID or project name.</p></li>
<li><p><code>name</code> - (Required) The name of the build definition.</p></li>
<li><p><code>repository</code> - (Required) A <code>repository</code> block as documented below.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>path</code> - (Optional) The folder path of the build definition.</p></li>
<li><p><code>agent_pool_name</code> - (Optional) The agent pool that should execute the build. Defaults to <code>Azure Pipelines</code>.</p></li>
<li><p><code>ci_trigger</code> - (Optional) A <code>ci_trigger</code> block as documented below.</p></li>
<li><p><code>pull_request_trigger</code> - (Optional) A <code>pull_request_trigger</code> block as documented below.</p></li>
<li><p><code>build_completion_trigger</code> - (Optional) A <code>build_completion_trigger</code> block as documented below.</p></li>
<li><p><code>variable_groups</code> - (Optional) A list of variable group IDs (integers) to link to the build definition.</p></li>
<li><p><code>variable</code> - (Optional) A list of <code>variable</code> blocks, as documented below.</p></li>
<li><p><code>features</code>- (Optional) A <code>features</code> blocks as documented below.</p></li>
<li><p><code>queue_status</code>- (Optional) The queue status of the build definition. Possible values are: <code>enabled</code> or <code>paused</code> or <code>disabled</code>. Defaults to <code>enabled</code>.</p></li>
</ul>

<hr/>

<p><code>features</code> block supports the following:</p>

<ul>
<li><p><code>skip_first_run</code> (Optional) Trigger the pipeline to run after the creation. Defaults to <code>true</code>.</p>

<p>~&gt; <strong>Note</strong> The first run(<code>skip_first_run = false</code>) will only be triggered on create. If the first run fails, the build definition will still be marked as successfully created. A warning message indicating the inability to run pipeline will be displayed.</p></li>
</ul>

<hr/>

<p><code>variable</code> block supports the following:</p>

<ul>
<li><p><code>name</code> - (Required) The name of the variable.</p></li>
<li><p><code>value</code> - (Optional) The value of the variable.</p></li>
<li><p><code>secret_value</code> - (Optional) The secret value of the variable. Used when <code>is_secret</code> set to <code>true</code>.</p></li>
<li><p><code>is_secret</code> - (Optional) True if the variable is a secret. Defaults to <code>false</code>.</p></li>
<li><p><code>allow_override</code> - (Optional) True if the variable can be overridden. Defaults to <code>true</code>.</p></li>
</ul>

<hr/>

<p><code>repository</code> block supports the following:</p>

<ul>
<li><p><code>branch_name</code> - (Optional) The branch name for which builds are triggered. Defaults to <code>master</code>.</p></li>
<li><p><code>repo_id</code> - (Required) The id of the repository. For <code>TfsGit</code> repos, this is simply the ID of the repository. For <code>Github</code> repos, this will take the form of <code>&lt;GitHub Org&gt;/&lt;Repo Name&gt;</code>. For <code>Bitbucket</code> repos, this will take the form of <code>&lt;Workspace ID&gt;/&lt;Repo Name&gt;</code>.</p></li>
<li><p><code>repo_type</code> - (Optional) The repository type. Possible values are: <code>GitHub</code> or <code>TfsGit</code> or <code>Bitbucket</code> or <code>GitHub Enterprise</code>. Defaults to <code>GitHub</code>. If <code>repo_type</code> is <code>GitHubEnterprise</code>, must use existing project and GitHub Enterprise service connection.</p></li>
<li><p><code>service_connection_id</code> - (Optional) The service connection ID. Used if the <code>repo_type</code> is <code>GitHub</code> or <code>GitHubEnterprise</code>.</p></li>
<li><p><code>yml_path</code> - (Required) The path of the Yaml file describing the build definition.</p></li>
<li><p><code>github_enterprise_url</code> - (Optional) The Github Enterprise URL. Used if <code>repo_type</code> is <code>GithubEnterprise</code>.</p></li>
<li><p><code>report_build_status</code> - (Optional) Report build status. Default is true.</p></li>
</ul>

<hr/>

<p><code>ci_trigger</code> block supports the following:</p>

<ul>
<li><p><code>use_yaml</code> - (Optional) Use the azure-pipeline file for the build configuration. Defaults to <code>false</code>.</p></li>
<li><p><code>override</code> - (Optional) Override the azure-pipeline file and use a this configuration for all builds.</p></li>
</ul>

<hr/>

<p><code>ci_trigger</code> <code>override</code> block supports the following:</p>

<ul>
<li><p><code>branch_filter</code> - (Required) The branches to include and exclude from the trigger. A <code>branch_filter</code> block as documented below.</p></li>
<li><p><code>batch</code> - (Optional) If you set batch to true, when a pipeline is running, the system waits until the run is completed, then starts another run with all changes that have not yet been built. Defaults to <code>true</code>.</p></li>
<li><p><code>path_filter</code> - (Optional) Specify file paths to include or exclude. Note that the wildcard syntax is different between branches/tags and file paths.</p></li>
<li><p><code>max_concurrent_builds_per_branch</code> - (Optional) The number of max builds per branch. Defaults to <code>1</code>.</p></li>
<li><p><code>polling_interval</code> - (Optional) How often the external repository is polled. Defaults to <code>0</code>.</p></li>
<li><p><code>polling_job_id</code> - (Computed) This is the ID of the polling job that polls the external repository. Once the build definition is saved/updated, this value is set.</p></li>
</ul>

<hr/>

<p><code>build_completion_trigger</code> block supports the following:</p>

<ul>
<li><p><code>build_definition_id</code> - (Required) The ID of the build pipeline will be triggered.</p></li>
<li><p><code>branch_filter</code> - (Required) The branches to include and exclude from the trigger. A <code>branch_filter</code> block as documented below.</p></li>
</ul>

<hr/>

<p><code>pull_request_trigger</code> block supports the following:</p>

<ul>
<li><p><code>use_yaml</code> - (Optional) Use the azure-pipeline file for the build configuration. Defaults to <code>false</code>.</p></li>
<li><p><code>initial_branch</code> - (Optional) When use_yaml is true set this to the name of the branch that the azure-pipelines.yml exists on. Defaults to <code>Managed by Terraform</code>.</p></li>
<li><p><code>forks</code> - (Required) Set permissions for Forked repositories.</p></li>
<li><p><code>override</code> - (Optional) Override the azure-pipeline file and use this configuration for all builds.</p></li>
</ul>

<hr/>

<p><code>forks</code> block supports the following:</p>

<ul>
<li><p><code>enabled</code> - (Required) Build pull requests from forks of this repository.</p></li>
<li><p><code>share_secrets</code> - (Required) Make secrets available to builds of forks.</p></li>
</ul>

<hr/>

<p><code>pull_request_trigger</code> <code>override</code> block supports the following:</p>

<ul>
<li><p><code>branch_filter</code> - (Required) The branches to include and exclude from the trigger. A <code>branch_filter</code> block as documented below.</p></li>
<li><p><code>auto_cancel</code> - (Optional) . Defaults to <code>true</code>.</p></li>
<li><p><code>path_filter</code> - (Optional) Specify file paths to include or exclude. Note that the wildcard syntax is different between branches/tags and file paths.</p></li>
</ul>

<hr/>

<p><code>schedules</code> block supports the following:</p>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Schedule pipeline will not use any schedules defined in the YAML file. To use schedules from the YAML file, delete all scheduled triggers.</p>
</aside>

<ul>
<li><p><code>days_to_build</code>: (Required) When to build. Possible values are: <code>Mon</code>, <code>Tue</code>, <code>Wed</code>, <code>Thu</code>, <code>Fri</code>, <code>Sat</code>, <code>Sun</code>.</p></li>
<li><p><code>schedule_only_with_changes</code>: (Optional) Schedule builds if the source or pipeline has changed. Defaults to <code>true</code>.</p></li>
<li><p><code>start_hours</code>: (Optional) Build start hour. Possible values are: <code>0 ~ 23</code>. Defaults to <code>0</code>.</p></li>
<li><p><code>start_minutes</code>: (Optional) Build start minute. Possible values are: <code>0 ~ 59</code>. Defaults to <code>0</code>.</p></li>
<li><p><code>time_zone</code>: (Optional) Build time zone. Defaults to <code>(UTC) Coordinated Universal Time</code>. Possible values are:
<code>(UTC-12:00) International Date Line West</code>, <br/>
<code>(UTC-11:00) Coordinated Universal Time-11</code>, <br/>
<code>(UTC-10:00) Aleutian Islands</code>, <br/>
<code>(UTC-10:00) Hawaii</code>, <br/>
<code>(UTC-09:30) Marquesas Islands</code>, <br/>
<code>(UTC-09:00) Alaska</code>, <br/>
<code>(UTC-09:00) Coordinated Universal Time-09</code>, <br/>
<code>(UTC-08:00) Baja California</code>, <br/>
<code>(UTC-08:00) Coordinated Universal Time-08</code>, <br/>
<code>(UTC-08:00) Pacific Time (US &amp;Canada)</code>, <br/>
<code>(UTC-07:00) Arizona</code>, <br/>
<code>(UTC-07:00) Chihuahua, La Paz, Mazatlan</code>, <br/>
<code>(UTC-07:00) Mountain Time (US &amp;Canada)</code>, <br/>
<code>(UTC-07:00) Yukon</code>, <br/>
<code>(UTC-06:00) Central America</code>, <br/>
<code>(UTC-06:00) Central Time (US &amp;Canada)</code>, <br/>
<code>(UTC-06:00) Easter Island</code>, <br/>
<code>(UTC-06:00) Guadalajara, Mexico City, Monterrey</code>, <br/>
<code>(UTC-06:00) Saskatchewan</code>, <br/>
<code>(UTC-05:00) Bogota, Lima, Quito, Rio Branco</code>, <br/>
<code>(UTC-05:00) Chetumal</code>, <br/>
<code>(UTC-05:00) Eastern Time (US &amp;Canada)</code>, <br/>
<code>(UTC-05:00) Haiti</code>, <br/>
<code>(UTC-05:00) Havana</code>, <br/>
<code>(UTC-05:00) Indiana (East)</code>, <br/>
<code>(UTC-05:00) Turks and Caicos</code>, <br/>
<code>(UTC-04:00) Asuncion</code>, <br/>
<code>(UTC-04:00) Atlantic Time (Canada)</code>, <br/>
<code>(UTC-04:00) Caracas</code>, <br/>
<code>(UTC-04:00) Cuiaba</code>, <br/>
<code>(UTC-04:00) Georgetown, La Paz, Manaus, San Juan</code>, <br/>
<code>(UTC-04:00) Santiago</code>, <br/>
<code>(UTC-03:30) Newfoundland</code>, <br/>
<code>(UTC-03:00) Araguaina</code>, <br/>
<code>(UTC-03:00) Brasilia</code>, <br/>
<code>(UTC-03:00) Cayenne, Fortaleza</code>, <br/>
<code>(UTC-03:00) City of Buenos Aires</code>, <br/>
<code>(UTC-03:00) Greenland</code>, <br/>
<code>(UTC-03:00) Montevideo</code>, <br/>
<code>(UTC-03:00) Punta Arenas</code>, <br/>
<code>(UTC-03:00) Saint Pierre and Miquelon</code>, <br/>
<code>(UTC-03:00) Salvador</code>, <br/>
<code>(UTC-02:00) Coordinated Universal Time-02</code>, <br/>
<code>(UTC-02:00) Mid-Atlantic - Old</code>, <br/>
<code>(UTC-01:00) Azores</code>, <br/>
<code>(UTC-01:00) Cabo Verde Is.</code>, <br/>
<code>(UTC) Coordinated Universal Time</code>, <br/>
<code>(UTC+00:00) Dublin, Edinburgh, Lisbon, London</code>, <br/>
<code>(UTC+00:00) Monrovia, Reykjavik</code>, <br/>
<code>(UTC+00:00) Sao Tome</code>, <br/>
<code>(UTC+01:00) Casablanca</code>, <br/>
<code>(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</code>, <br/>
<code>(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</code>, <br/>
<code>(UTC+01:00) Brussels, Copenhagen, Madrid, Paris</code>, <br/>
<code>(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb</code>, <br/>
<code>(UTC+01:00) West Central Africa</code>, <br/>
<code>(UTC+02:00) Amman</code>, <br/>
<code>(UTC+02:00) Athens, Bucharest</code>, <br/>
<code>(UTC+02:00) Beirut</code>, <br/>
<code>(UTC+02:00) Cairo</code>, <br/>
<code>(UTC+02:00) Chisinau</code>, <br/>
<code>(UTC+02:00) Damascus</code>, <br/>
<code>(UTC+02:00) Gaza, Hebron</code>, <br/>
<code>(UTC+02:00) Harare, Pretoria</code>, <br/>
<code>(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</code>, <br/>
<code>(UTC+02:00) Jerusalem</code>, <br/>
<code>(UTC+02:00) Juba</code>, <br/>
<code>(UTC+02:00) Kaliningrad</code>, <br/>
<code>(UTC+02:00) Khartoum</code>, <br/>
<code>(UTC+02:00) Tripoli</code>, <br/>
<code>(UTC+02:00) Windhoek</code>, <br/>
<code>(UTC+03:00) Baghdad</code>, <br/>
<code>(UTC+03:00) Istanbul</code>, <br/>
<code>(UTC+03:00) Kuwait, Riyadh</code>, <br/>
<code>(UTC+03:00) Minsk</code>, <br/>
<code>(UTC+03:00) Moscow, St. Petersburg</code>, <br/>
<code>(UTC+03:00) Nairobi</code>, <br/>
<code>(UTC+03:00) Volgograd</code>, <br/>
<code>(UTC+03:30) Tehran</code>, <br/>
<code>(UTC+04:00) Abu Dhabi, Muscat</code>, <br/>
<code>(UTC+04:00) Astrakhan, Ulyanovsk</code>, <br/>
<code>(UTC+04:00) Baku</code>, <br/>
<code>(UTC+04:00) Izhevsk, Samara</code>, <br/>
<code>(UTC+04:00) Port Louis</code>, <br/>
<code>(UTC+04:00) Saratov</code>, <br/>
<code>(UTC+04:00) Tbilisi</code>, <br/>
<code>(UTC+04:00) Yerevan</code>, <br/>
<code>(UTC+04:30) Kabul</code>, <br/>
<code>(UTC+05:00) Ashgabat, Tashkent</code>, <br/>
<code>(UTC+05:00) Ekaterinburg</code>, <br/>
<code>(UTC+05:00) Islamabad, Karachi</code>, <br/>
<code>(UTC+05:00) Qyzylorda</code>, <br/>
<code>(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi</code>, <br/>
<code>(UTC+05:30) Sri Jayawardenepura</code>, <br/>
<code>(UTC+05:45) Kathmandu</code>, <br/>
<code>(UTC+06:00) Astana</code>, <br/>
<code>(UTC+06:00) Dhaka</code>, <br/>
<code>(UTC+06:00) Omsk</code>, <br/>
<code>(UTC+06:30) Yangon (Rangoon)</code>, <br/>
<code>(UTC+07:00) Bangkok, Hanoi, Jakarta</code>, <br/>
<code>(UTC+07:00) Barnaul, Gorno-Altaysk</code>, <br/>
<code>(UTC+07:00) Hovd</code>, <br/>
<code>(UTC+07:00) Krasnoyarsk</code>, <br/>
<code>(UTC+07:00) Novosibirsk</code>, <br/>
<code>(UTC+07:00) Tomsk</code>, <br/>
<code>(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi</code>, <br/>
<code>(UTC+08:00) Irkutsk</code>, <br/>
<code>(UTC+08:00) Kuala Lumpur, Singapore</code>, <br/>
<code>(UTC+08:00) Perth</code>, <br/>
<code>(UTC+08:00) Taipei</code>, <br/>
<code>(UTC+08:00) Ulaanbaatar</code>, <br/>
<code>(UTC+08:45) Eucla</code>, <br/>
<code>(UTC+09:00) Chita</code>, <br/>
<code>(UTC+09:00) Osaka, Sapporo, Tokyo</code>, <br/>
<code>(UTC+09:00) Pyongyang</code>, <br/>
<code>(UTC+09:00) Seoul</code>, <br/>
<code>(UTC+09:00) Yakutsk</code>, <br/>
<code>(UTC+09:30) Adelaide</code>, <br/>
<code>(UTC+09:30) Darwin</code>, <br/>
<code>(UTC+10:00) Brisbane</code>, <br/>
<code>(UTC+10:00) Canberra, Melbourne, Sydney</code>, <br/>
<code>(UTC+10:00) Guam, Port Moresby</code>, <br/>
<code>(UTC+10:00) Hobart</code>, <br/>
<code>(UTC+10:00) Vladivostok</code>, <br/>
<code>(UTC+10:30) Lord Howe Island</code>, <br/>
<code>(UTC+11:00) Bougainville Island</code>, <br/>
<code>(UTC+11:00) Chokurdakh</code>, <br/>
<code>(UTC+11:00) Magadan</code>, <br/>
<code>(UTC+11:00) Norfolk Island</code>, <br/>
<code>(UTC+11:00) Sakhalin</code>, <br/>
<code>(UTC+11:00) Solomon Is., New Caledonia</code>, <br/>
<code>(UTC+12:00) Anadyr, Petropavlovsk-Kamchatsky</code>, <br/>
<code>(UTC+12:00) Auckland, Wellington</code>, <br/>
<code>(UTC+12:00) Coordinated Universal Time+12</code>, <br/>
<code>(UTC+12:00) Fiji</code>, <br/>
<code>(UTC+12:00) Petropavlovsk-Kamchatsky - Old</code>, <br/>
<code>(UTC+12:45) Chatham Islands</code>, <br/>
<code>(UTC+13:00) Coordinated Universal Time+13</code>, <br/>
<code>(UTC+13:00) Nuku'alofa</code>, <br/>
<code>(UTC+13:00) Samoa</code>, <br/>
<code>(UTC+14:00) Kiritimati Island</code>.</p></li>
<li><p><code>branch_filter</code> - A <code>branch_filter</code> block as defined below.</p></li>
</ul>

<hr/>

<p><code>branch_filter</code> block supports the following:</p>

<ul>
<li><p><code>include</code> - (Optional) List of branch patterns to include.</p></li>
<li><p><code>exclude</code> - (Optional) List of branch patterns to exclude.</p></li>
</ul>

<hr/>

<p><code>path_filter</code> block supports the following:</p>

<ul>
<li><p><code>include</code> - (Optional) List of path patterns to include.</p></li>
<li><p><code>exclude</code> - (Optional) List of path patterns to exclude.</p></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>In addition to all arguments above, the following attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the build definition</li>
<li><code>revision</code> - The revision of the build definition</li>
</ul>

<hr/>

<p>A <code>schedules</code> block exports the following:</p>

<ul>
<li><code>schedule_job_id</code> - The ID of the schedule job </li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Remarks"></a><h2 id="remarks">Remarks</h2>

<p>The path attribute can not end in <code>\</code> unless the path is the root value of <code>\</code>. </p>

<p>Valid path values (yaml encoded) include:</p>

<ul>
<li><code>\\</code></li>
<li><code>\\ExampleFolder</code></li>
<li><code>\\Nested\\Example Folder</code></li>
</ul>

<p>The value of <code>\\ExampleFolder\\</code> would be invalid.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Relevant%20Links"></a><h2 id="relevant-links">Relevant Links</h2>

<ul>
<li><a href="https://docs.microsoft.com/en-us/rest/api/azure/devops/build/definitions?view=azure-devops-rest-7.0">Azure DevOps Service REST API 7.0 - Build Definitions</a></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 30 minutes) Used when creating the Build Definition.</li>
<li><code>read</code> - (Defaults to 5 minute) Used when retrieving the Build Definition.</li>
<li><code>update</code> - (Defaults to 30 minutes) Used when updating the Build Definition.</li>
<li><code>delete</code> - (Defaults to 30 minutes) Used when deleting the Build Definition.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Azure DevOps Build Definitions can be imported using the project name/definitions Id or by the project Guid/definitions Id, e.g.</p>

<div class="codehilite"><pre><span></span><code>terraform import azuredevops_build_definition.example <span class="s2">"Example Project"</span>/10
</code></pre></div>

<p>or</p>

<div class="codehilite"><pre><span></span><code>terraform import azuredevops_build_definition.example <span class="m">00000000</span>-0000-0000-0000-000000000000/0
</code></pre></div>

            
        
    </body></html>