<html><!-- Online page at https://registry.terraform.io/providers/microsoft/azuredevops/latest/docs/resources/serviceendpoint_azurerm --><head>
                <title>azuredevops_serviceendpoint_azurerm</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="azuredevops_serviceendpoint_azurerm">azuredevops_serviceendpoint_azurerm</h1>

<p>Manages Manual or Automatic Azure Resource Manager service endpoint within Azure DevOps.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Requirements%20%28Manual%20AzureRM%20Service%20Endpoint%29"></a><h2 id="requirements-manual-azurerm-service-endpoint">Requirements (Manual AzureRM Service Endpoint)</h2>

<p>Before to create a service end point in Azure DevOps, you need to create a Service Principal in your Azure subscription.</p>

<p>For detailed steps to create a service principal with Azure cli see the <a href="https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli?view=azure-cli-latest">documentation</a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Service%20Principal%20Manual%20AzureRM%20Service%20Endpoint%20%28Subscription%20Scoped%29"></a><h3 id="service-principal-manual-azurerm-service-endpoint-subscription-scoped">Service Principal Manual AzureRM Service Endpoint (Subscription Scoped)</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example AzureRM"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ServicePrincipal"</span><span class="w"></span>
<span class="w">  </span><span class="nb">credentials</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">serviceprincipalid</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">    </span><span class="na">serviceprincipalkey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Subscription Name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Service%20Principal%20Manual%20AzureRM%20Service%20Endpoint%20%28ManagementGroup%20Scoped%29"></a><h3 id="service-principal-manual-azurerm-service-endpoint-managementgroup-scoped">Service Principal Manual AzureRM Service Endpoint (ManagementGroup Scoped)</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example AzureRM"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ServicePrincipal"</span><span class="w"></span>
<span class="w">  </span><span class="nb">credentials</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">serviceprincipalid</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">    </span><span class="na">serviceprincipalkey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_management_group_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"managementGroup"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_management_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"managementGroup"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Service%20Principal%20Automatic%20AzureRM%20Service%20Endpoint"></a><h3 id="service-principal-automatic-azurerm-service-endpoint">Service Principal Automatic AzureRM Service Endpoint</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example AzureRM"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ServicePrincipal"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_id</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_name</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Subscription Name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Workload%20Identity%20Federation%20Manual%20AzureRM%20Service%20Endpoint%20%28Subscription%20Scoped%29"></a><h3 id="workload-identity-federation-manual-azurerm-service-endpoint-subscription-scoped">Workload Identity Federation Manual AzureRM Service Endpoint (Subscription Scoped)</h3>

<div class="codehilite"><pre><span></span><code><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">azurerm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"hashicorp/azurerm"</span><span class="w"></span>
<span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"=3.0.0"</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">provider</span><span class="w"> </span><span class="nv">"azurerm"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb">features</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="nb">locals</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">service_connection_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-federated-sc"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azurerm_resource_group"</span><span class="w"> </span><span class="nv">"identity"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"identity"</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UK South"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azurerm_user_assigned_identity"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">location</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_resource_group.identity.location</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-identity"</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"azurerm_resource_group.identity.name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="nv">local.service_connection_name</span><span class="w"></span>
<span class="w">  </span><span class="na">description</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by Terraform"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WorkloadIdentityFederation"</span><span class="w"></span>
<span class="w">  </span><span class="nb">credentials</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">serviceprincipalid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_user_assigned_identity.example.client_id</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Subscription Name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azurerm_federated_identity_credential"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"example-federated-credential"</span><span class="w"></span>
<span class="w">  </span><span class="na">resource_group_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_resource_group.identity.name</span><span class="w"></span>
<span class="w">  </span><span class="na">parent_id</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nv">azurerm_user_assigned_identity.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">audience</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"api://AzureADTokenExchange"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">issuer</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_serviceendpoint_azurerm.example.workload_identity_federation_issuer</span><span class="w"></span>
<span class="w">  </span><span class="na">subject</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_serviceendpoint_azurerm.example.workload_identity_federation_subject</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Workload%20Identity%20Federation%20Automatic%20AzureRM%20Service%20Endpoint"></a><h3 id="workload-identity-federation-automatic-azurerm-service-endpoint">Workload Identity Federation Automatic AzureRM Service Endpoint</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example AzureRM"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WorkloadIdentityFederation"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_id</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_name</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Subscription Name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Managed%20Identity%20AzureRM%20Service%20Endpoint"></a><h3 id="managed-identity-azurerm-service-endpoint">Managed Identity AzureRM Service Endpoint</h3>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_project"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Project"</span><span class="w"></span>
<span class="w">  </span><span class="na">visibility</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"private"</span><span class="w"></span>
<span class="w">  </span><span class="na">version_control</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"Git"</span><span class="w"></span>
<span class="w">  </span><span class="na">work_item_template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Agile"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"azuredevops_serviceendpoint_azurerm"</span><span class="w"> </span><span class="nv">"example"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">project_id</span><span class="w">                             </span><span class="o">=</span><span class="w"> </span><span class="nv">azuredevops_project.example.id</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_name</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example AzureRM"</span><span class="w"></span>
<span class="w">  </span><span class="na">service_endpoint_authentication_scheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ManagedServiceIdentity"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_spn_tenantid</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_id</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="w"></span>
<span class="w">  </span><span class="na">azurerm_subscription_name</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">"Example Subscription Name"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><p><code>project_id</code> - (Required) The ID of the project.</p></li>
<li><p><code>service_endpoint_name</code> - (Required) The Service Endpoint Name.</p></li>
<li><p><code>azurerm_spn_tenantid</code> - (Required) The Tenant ID of the service principal.</p></li>
</ul>

<hr/>

<ul>
<li><p><code>service_endpoint_authentication_scheme</code> - (Optional) Specifies the type of Azure Resource Manager Service Endpoint. Possible values are <code>WorkloadIdentityFederation</code>, <code>ManagedServiceIdentity</code> or <code>ServicePrincipal</code>. Defaults to <code>ServicePrincipal</code> for backwards compatibility.</p>

<p>~&gt; <strong>NOTE:</strong> The <code>WorkloadIdentityFederation</code> authentication scheme is currently in private preview. Your organisation must be part of the preview and the feature toggle must be turned on to use it. More details can be found <a href="https://aka.ms/azdo-rm-workload-identity">here</a>.</p></li>
<li><p><code>azurerm_management_group_id</code> - (Optional) The Management group ID of the Azure targets.</p></li>
<li><p><code>azurerm_management_group_name</code> - (Optional) The Management group Name of the targets.</p></li>
<li><p><code>azurerm_subscription_id</code> - (Optional) The Subscription ID of the Azure targets.</p></li>
<li><p><code>azurerm_subscription_name</code> - (Optional) The Subscription Name of the targets.</p></li>
<li><p><code>environment</code> - (Optional) The Cloud Environment to use. Defaults to <code>AzureCloud</code>. Possible values are <code>AzureCloud</code>, <code>AzureChinaCloud</code>, <code>AzureUSGovernment</code>, <code>AzureGermanCloud</code> and <code>AzureStack</code>. Changing this forces a new resource to be created.</p></li>
<li><p><code>server_url</code> - (Optional) The server URL of the service endpoint. Changing this forces a new resource to be created.</p></li>
</ul>

<aside class="admonition warning">
    <strong>warning</strong>
    <em>warning</em>
    <p>One of either <code>Subscription</code> scoped i.e. <code>azurerm_subscription_id</code>, <code>azurerm_subscription_name</code> or <code>ManagementGroup</code> scoped i.e. <code>azurerm_management_group_id</code>, <code>azurerm_management_group_name</code> values must be specified.</p>
</aside>

<ul>
<li><p><code>credentials</code> - (Optional) A <code>credentials</code> block as defined below.</p></li>
<li><p><code>description</code> - (Optional) Service connection description.</p></li>
<li><p><code>resource_group</code> - (Optional) The resource group used for scope of automatic service endpoint.</p></li>
<li><p><code>features</code> - (Optional) A <code>features</code> block as defined below.</p></li>
</ul>

<hr/>

<p>A <code>credentials</code> block supports the following:</p>

<ul>
<li><p><code>serviceprincipalid</code> - (Required) The service principal application ID</p></li>
<li><p><code>serviceprincipalkey</code> - (Optional) The service principal secret. This not required if <code>service_endpoint_authentication_scheme</code> is set to <code>WorkloadIdentityFederation</code>.</p></li>
<li><p><code>serviceprincipalcertificate</code> - (Optional) The service principal certificate. This not required if <code>service_endpoint_authentication_scheme</code> is set to <code>WorkloadIdentityFederation</code>.</p></li>
</ul>

<hr/>

<p>A <code>features</code> block supports the following:</p>

<ul>
<li><code>validate</code> - (Optional) Whether or not to validate connection with Azure after create or update operations. Defaults to <code>false</code></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attributes%20Reference"></a><h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code>id</code> - The ID of the service endpoint.</li>
<li><code>project_id</code> - The ID of the project.</li>
<li><code>service_endpoint_name</code> - The Service Endpoint name.</li>
<li><code>service_principal_id</code> - The Application(Client) ID of the Service Principal.</li>
<li><code>workload_identity_federation_issuer</code> - The issuer if <code>service_endpoint_authentication_scheme</code> is set to <code>WorkloadIdentityFederation</code>. This looks like <code>https://vstoken.dev.azure.com/00000000-0000-0000-0000-000000000000</code>, where the GUID is the Organization ID of your Azure DevOps Organisation.</li>
<li><code>workload_identity_federation_subject</code> - The subject if <code>service_endpoint_authentication_scheme</code> is set to <code>WorkloadIdentityFederation</code>. This looks like <code>sc://&lt;organisation&gt;/&lt;project&gt;/&lt;service-connection-name&gt;</code>.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Relevant%20Links"></a><h2 id="relevant-links">Relevant Links</h2>

<ul>
<li><a href="https://docs.microsoft.com/en-us/rest/api/azure/devops/serviceendpoint/endpoints?view=azure-devops-rest-7.0">Azure DevOps Service REST API 7.0 - Service End points</a></li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Timeouts"></a><h2 id="timeouts">Timeouts</h2>

<p>The <code>timeouts</code> block allows you to specify <a href="https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts">timeouts</a> for certain actions:</p>

<ul>
<li><code>create</code> - (Defaults to 2 minutes) Used when creating the Azure Resource Manager Service Endpoint.</li>
<li><code>read</code> - (Defaults to 1 minute) Used when retrieving the Azure Resource Manager Service Endpoint.</li>
<li><code>update</code> - (Defaults to 2 minutes) Used when updating the Azure Resource Manager Service Endpoint.</li>
<li><code>delete</code> - (Defaults to 2 minutes) Used when deleting the Azure Resource Manager Service Endpoint.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Azure DevOps Azure Resource Manager Service Endpoint can be imported using <strong>projectID/serviceEndpointID</strong> or <strong>projectName/serviceEndpointID</strong></p>

<div class="codehilite"><pre><span></span><code>terraform import azuredevops_serviceendpoint_azurerm.example <span class="m">00000000</span>-0000-0000-0000-000000000000/00000000-0000-0000-0000-000000000000
</code></pre></div>

            
        
    </body></html>