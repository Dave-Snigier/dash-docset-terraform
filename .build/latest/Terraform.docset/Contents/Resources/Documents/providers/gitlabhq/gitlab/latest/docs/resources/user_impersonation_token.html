<html><!-- Online page at https://registry.terraform.io/providers/gitlabhq/gitlab/latest/docs/resources/user_impersonation_token --><head>
                <title>gitlab_user_impersonation_token</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="gitlab_user_impersonation_token-resource">gitlab_user_impersonation_token (Resource)</h1>

<p>The <code>gitlab_user_impersonation_token</code> resource allows to manage impersonation tokens of users.
Requires administrator access. Token values are returned once. You are only able to create impersonation tokens to impersonate the user and perform both API calls and Git reads and writes. The user canâ€™t see these tokens in their profile settings page.</p>

<p><strong>Upstream API</strong>: <a href="https://docs.gitlab.com/api/users/#create-an-impersonation-token">GitLab REST API docs</a></p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"gitlab_user_impersonation_token"</span><span class="w"> </span><span class="nv">"this"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">user_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">12345</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">"token_name"</span><span class="w"></span>
<span class="w">  </span><span class="na">scopes</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"api"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="na">expires_at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"2024-08-27"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<!-- schema generated by tfplugindocs -->

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema"></a><h2 id="schema">Schema</h2>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Required"></a><h3 id="required">Required</h3>

<ul>
<li><code>expires_at</code> (String) Expiration date of the impersonation token in ISO format (YYYY-MM-DD).</li>
<li><code>name</code> (String) The name of the impersonation token.</li>
<li><code>scopes</code> (Set of String) Array of scopes of the impersonation token. valid values are: <code>api</code>, <code>read_user</code>, <code>read_api</code>, <code>read_repository</code>, <code>write_repository</code>, <code>read_registry</code>, <code>write_registry</code>, <code>sudo</code>, <code>admin_mode</code>, <code>create_runner</code>, <code>manage_runner</code>, <code>ai_features</code>, <code>k8s_proxy</code>, <code>read_service_ping</code></li>
<li><code>user_id</code> (Number) The ID of the user.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Read-Only"></a><h3 id="read-only">Read-Only</h3>

<ul>
<li><code>active</code> (Boolean) True if the token is active.</li>
<li><code>created_at</code> (String) Time the token has been created, RFC3339 format.</li>
<li><code>id</code> (String) The ID of this Terraform resource. In the format of <code>&lt;user-id&gt;:&lt;token-id&gt;</code>.</li>
<li><code>impersonation</code> (Boolean) True as the token is always an impersonation token.</li>
<li><code>revoked</code> (Boolean) True if the token is revoked.</li>
<li><code>token</code> (String, Sensitive) The token of the user impersonation token. <strong>Note</strong>: the token is not available for imported resources.</li>
<li><code>token_id</code> (Number) ID of the impersonation token.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>Starting in Terraform v1.5.0 you can use an <a href="https://developer.hashicorp.com/terraform/language/import">import block</a> to import <code>gitlab_user_impersonation_token</code>. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">import</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">to</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">gitlab_user_impersonation_token.example</span><span class="w"></span>
<span class="w">  </span><span class="na">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"see CLI command below for ID"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Import using the CLI is supported using the following syntax:</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># A GitLab User Impersonation Token can be imported using a key composed of `&lt;user-id&gt;:&lt;token-id&gt;`, e.g.</span>
terraform import gitlab_user_impersonation_token.example <span class="s2">"12345:1"</span>

<span class="c1"># NOTE: the `token` resource attribute is not available for imported resources as this information cannot be read from the GitLab API.</span>
</code></pre></div>

            
        
    </body></html>