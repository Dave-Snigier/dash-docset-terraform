<html><!-- Online page at https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/grants --><head>
                <title>databricks_grants</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="databricks_grants-resource">databricks_grants Resource</h1>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>This article refers to the privileges and inheritance model in Privilege Model version 1.0. If you created your metastore during the public preview (before August 25, 2022), you can upgrade to Privilege Model version 1.0 following <a href="https://docs.databricks.com/data-governance/unity-catalog/hive-metastore.html">Upgrade to privilege inheritance</a></p>
</aside>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>Most of Unity Catalog APIs are only accessible via <strong>workspace-level APIs</strong>. This design may change in the future. Account-level principal grants can be assigned with any valid workspace as the Unity Catalog is decoupled from specific workspaces. More information in <a href="https://docs.databricks.com/data-governance/unity-catalog/index.html">the official documentation</a>.</p>
</aside>

<p>Two different resources help you manage your Unity Catalog grants for a securable. Each of these resources serves a different use case:</p>

<ul>
<li><a href="https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/grants">databricks_grants</a>: Authoritative. Sets the grants of a securable and replaces any existing grants defined inside or outside of Terraform.</li>
<li><a href="https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/grant">databricks_grant</a>: Authoritative for a given principal. Updates the grants of a securable to a single principal. Other principals within the grants for the securables are preserved.</li>
</ul>

<p>In Unity Catalog all users initially have no access to data. Only Metastore Admins can create objects and can grant/revoke access on individual objects to users and groups. Every securable object in Unity Catalog has an owner. The owner can be any account-level user or group, called principals in general. The principal that creates an object becomes its owner. Owners receive <code>ALL_PRIVILEGES</code> on the securable object (e.g., <code>SELECT</code> and <code>MODIFY</code> on a table), as well as the permission to grant privileges to other principals.</p>

<p>Securable objects are hierarchical and privileges are inherited downward. The highest level object that privileges are inherited from is the catalog. This means that granting a privilege on a catalog or schema automatically grants the privilege to all current and future objects within the catalog or schema. Privileges that are granted on a metastore are not inherited.</p>

<p>Every <code>databricks_grants</code> resource must have exactly one securable identifier and one or more <code>grant</code> blocks with the following arguments:</p>

<ul>
<li><code>principal</code> - User name, group name or service principal application ID.</li>
<li><code>privileges</code> - One or more privileges that are specific to a securable type.</li>
</ul>

<p>For the latest list of privilege types that apply to each securable object in Unity Catalog, please refer to the <a href="https://docs.databricks.com/en/data-governance/unity-catalog/manage-privileges/privileges.html#privilege-types-by-securable-object-in-unity-catalog">official documentation</a></p>

<p>Terraform will handle any configuration drift on every <code>terraform apply</code> run, even when grants are changed outside of Terraform state.</p>

<p>Unlike the <a href="https://docs.databricks.com/sql/language-manual/sql-ref-privileges.html#privilege-types">SQL specification</a>, all privileges to be written with underscore instead of space, e.g. <code>CREATE_TABLE</code> and not <code>CREATE TABLE</code>. Below summarizes which privilege types apply to each securable object in the catalog:</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Metastore%20grants"></a><h2 id="metastore-grants">Metastore grants</h2>

<p>You can grant <code>CREATE_CATALOG</code>, <code>CREATE_CLEAN_ROOM</code>, <code>CREATE_CONNECTION</code>, <code>CREATE_EXTERNAL_LOCATION</code>, <code>CREATE_PROVIDER</code>, <code>CREATE_RECIPIENT</code>, <code>CREATE_SHARE</code>, <code>CREATE_SERVICE_CREDENTIAL</code>, <code>CREATE_STORAGE_CREDENTIAL</code>, <code>SET_SHARE_PERMISSION</code>, <code>USE_MARKETPLACE_ASSETS</code>, <code>USE_PROVIDER</code>, <code>USE_RECIPIENT</code>, and <code>USE_SHARE</code> privileges to <a href="metastore.md">databricks_metastore</a> assigned to the workspace.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"sandbox"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">metastore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"metastore_id"</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_CATALOG", "CREATE_EXTERNAL_LOCATION"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Sharer"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_RECIPIENT", "CREATE_SHARE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Catalog%20grants"></a><h2 id="catalog-grants">Catalog grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>APPLY_TAG</code>, <code>CREATE_CONNECTION</code>, <code>CREATE_SCHEMA</code>, <code>MANAGE</code>, and <code>USE_CATALOG</code> privileges to <a href="catalog.md">databricks_catalog</a> specified in the <code>catalog</code> attribute. You can also grant <code>CREATE_FUNCTION</code>, <code>CREATE_TABLE</code>, <code>CREATE_VOLUME</code>, <code>EXECUTE</code>, <code>MODIFY</code>, <code>REFRESH</code>, <code>SELECT</code>, <code>READ_VOLUME</code>, <code>WRITE_VOLUME</code> and <code>USE_SCHEMA</code> at the catalog level to apply them to the pertinent current and future securable objects within the catalog:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_catalog"</span><span class="w"> </span><span class="nv">"sandbox"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">"sandbox"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"this catalog is managed by terraform"</span><span class="w"></span>
<span class="w">  </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">purpose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"testing"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"sandbox"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_catalog.sandbox.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Scientists"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"USE_CATALOG", "USE_SCHEMA", "CREATE_TABLE", "SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"USE_CATALOG", "USE_SCHEMA", "CREATE_SCHEMA", "CREATE_TABLE", "MODIFY"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Analyst"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"USE_CATALOG", "USE_SCHEMA", "SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Schema%20grants"></a><h2 id="schema-grants">Schema grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>APPLY_TAG</code>, <code>CREATE_FUNCTION</code>, <code>CREATE_TABLE</code>, <code>CREATE_VOLUME</code>, <code>MANAGE</code> and <code>USE_SCHEMA</code> privileges to <a href="schema.md">_<code>catalog.schema</code>_</a> specified in the <code>schema</code> attribute. You can also grant <code>EXECUTE</code>, <code>MODIFY</code>, <code>REFRESH</code>, <code>SELECT</code>, <code>READ_VOLUME</code>, <code>WRITE_VOLUME</code> at the schema level to apply them to the pertinent current and future securable objects within the schema:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_schema"</span><span class="w"> </span><span class="nv">"things"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_catalog.sandbox.id</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"things"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"this schema is managed by terraform"</span><span class="w"></span>
<span class="w">  </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"various"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"things"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_schema.things.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"USE_SCHEMA", "MODIFY"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Table%20grants"></a><h2 id="table-grants">Table grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>APPLY_TAG</code>, <code>MANAGE</code>, <code>SELECT</code> and <code>MODIFY</code> privileges to <a href="sql_table.md">_<code>catalog.schema.table</code>_</a> specified in the <code>table</code> attribute.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"customers"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"main.reporting.customers"</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"MODIFY", "SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Analysts"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>You can also apply grants dynamically with <a href="../data-sources/tables.md">databricks_tables</a> data resource:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"databricks_tables"</span><span class="w"> </span><span class="nv">"things"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"sandbox"</span><span class="w"></span>
<span class="w">  </span><span class="na">schema_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"things"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"things"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">for_each</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.databricks_tables.things.ids</span><span class="w"></span>

<span class="w">  </span><span class="na">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">each.value</span><span class="w"></span>

<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"sensitive"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELECT", "MODIFY"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/View%20grants"></a><h2 id="view-grants">View grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>APPLY_TAG</code>, <code>MANAGE</code> and <code>SELECT</code> privileges to <a href="sql_table.md">_<code>catalog.schema.view</code>_</a> specified in <code>table</code> attribute.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"customer360"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"main.reporting.customer360"</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Analysts"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>You can also apply grants dynamically with <a href="../data-sources/views.md">databricks_views</a> data resource:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">data</span><span class="w"> </span><span class="nc">"databricks_views"</span><span class="w"> </span><span class="nv">"customers"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"main"</span><span class="w"></span>
<span class="w">  </span><span class="na">schema_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"customers"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"customers"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">for_each</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.databricks_views.customers.ids</span><span class="w"></span>

<span class="w">  </span><span class="na">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">each.value</span><span class="w"></span>

<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"sensitive"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELECT", "MODIFY"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Volume%20grants"></a><h2 id="volume-grants">Volume grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>MANAGE</code>, <code>READ_VOLUME</code> and <code>WRITE_VOLUME</code> privileges to <a href="volume.md">_<code>catalog.schema.volume</code>_</a> specified in the <code>volume</code> attribute.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_volume"</span><span class="w"> </span><span class="nv">"this"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"quickstart_volume"</span><span class="w"></span>
<span class="w">  </span><span class="na">catalog_name</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_catalog.sandbox.name</span><span class="w"></span>
<span class="w">  </span><span class="na">schema_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_schema.things.name</span><span class="w"></span>
<span class="w">  </span><span class="na">volume_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">"EXTERNAL"</span><span class="w"></span>
<span class="w">  </span><span class="na">storage_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_external_location.some.url</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s2">"this volume is managed by terraform"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"volume"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_volume.this.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"WRITE_VOLUME"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Registered%20model%20grants"></a><h2 id="registered-model-grants">Registered model grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>APPLY_TAG</code>, <code>EXECUTE</code>, and <code>MANAGE</code> privileges to <a href="registered_model.md">_<code>catalog.schema.model</code>_</a> specified in the <code>model</code> attribute.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"customers"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"main.reporting.customer_model"</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"APPLY_TAG", "EXECUTE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Analysts"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"EXECUTE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Function%20grants"></a><h2 id="function-grants">Function grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>EXECUTE</code>, and <code>MANAGE</code> privileges to _<code>catalog.schema.function</code>_ specified in the <code>function</code> attribute.</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"udf"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"main.reporting.udf"</span><span class="w"></span>

<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"EXECUTE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Analysts"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"EXECUTE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Service%20credential%20grants"></a><h2 id="service-credential-grants">Service credential grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>ACCESS</code>, <code>CREATE_CONNECTION</code>, and <code>MANAGE</code> privileges to <a href="credential.md">databricks_credential</a> id specified in <code>credential</code> attribute:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_credential"</span><span class="w"> </span><span class="nv">"external"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.external_data_access.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">aws_iam_role</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.external_data_access.arn</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">purpose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"SERVICE"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by TF"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"external_creds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">credential</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_credential.external.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_CONNECTION"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Storage%20credential%20grants"></a><h2 id="storage-credential-grants">Storage credential grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>CREATE_EXTERNAL_LOCATION</code>, <code>CREATE_EXTERNAL_TABLE</code>, <code>MANAGE</code>, <code>READ_FILES</code> and <code>WRITE_FILES</code> privileges to <a href="storage_credential.md">databricks_storage_credential</a> id specified in <code>storage_credential</code> attribute:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_storage_credential"</span><span class="w"> </span><span class="nv">"external"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.external_data_access.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">aws_iam_role</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">role_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.external_data_access.arn</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by TF"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"external_creds"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">storage_credential</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_storage_credential.external.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_EXTERNAL_TABLE"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/External%20location%20grants"></a><h2 id="external-location-grants">External location grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>CREATE_EXTERNAL_TABLE</code>, <code>CREATE_MANAGED_STORAGE</code>, <code>CREATE EXTERNAL VOLUME</code>, <code>MANAGE</code>, <code>READ_FILES</code> and <code>WRITE_FILES</code> privileges to <a href="external_location.md">databricks_external_location</a> id specified in <code>external_location</code> attribute:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_external_location"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"external"</span><span class="w"></span>
<span class="w">  </span><span class="na">url</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">"s3://${aws_s3_bucket.external.id}/some"</span><span class="w"></span>
<span class="w">  </span><span class="na">credential_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_storage_credential.external.id</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"Managed by TF"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">external_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_external_location.some.id</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_EXTERNAL_TABLE", "READ_FILES"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_service_principal.my_sp.application_id</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_EXTERNAL_TABLE", "READ_FILES"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_group.my_group.display_name</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_EXTERNAL_TABLE", "READ_FILES"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_group.my_user.user_name</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_EXTERNAL_TABLE", "READ_FILES"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Connection%20grants"></a><h2 id="connection-grants">Connection grants</h2>

<p>You can grant <code>ALL_PRIVILEGES</code>, <code>MANAGE</code>, <code>USE_CONNECTION</code> and <code>CREATE_FOREIGN_CATALOG</code> to <a href="connection.md">databricks_connection</a> specified in <code>foreign_connection</code> attribute:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_connection"</span><span class="w"> </span><span class="nv">"mysql"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"mysql_connection"</span><span class="w"></span>
<span class="w">  </span><span class="na">connection_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MYSQL"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"this is a connection to mysql db"</span><span class="w"></span>
<span class="w">  </span><span class="nb">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">host</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"test.mysql.database.azure.com"</span><span class="w"></span>
<span class="w">    </span><span class="na">port</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"3306"</span><span class="w"></span>
<span class="w">    </span><span class="na">user</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"user"</span><span class="w"></span>
<span class="w">    </span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"password"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">purpose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"testing"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">foreign_connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_connection.mysql.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">"Data Engineers"</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"CREATE_FOREIGN_CATALOG", "USE_CONNECTION"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Delta%20Sharing%20share%20grants"></a><h2 id="delta-sharing-share-grants">Delta Sharing share grants</h2>

<p>You can grant <code>SELECT</code> to <a href="recipient.md">databricks_recipient</a> on <a href="share.md">databricks_share</a> name specified in <code>share</code> attribute:</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_share"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my_share"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_recipient"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"my_recipient"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_grants"</span><span class="w"> </span><span class="nv">"some"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">share</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_share.some.name</span><span class="w"></span>
<span class="w">  </span><span class="nb">grant</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">principal</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">databricks_recipient.some.name</span><span class="w"></span>
<span class="w">    </span><span class="na">privileges</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELECT"</span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Other%20access%20control"></a><h2 id="other-access-control">Other access control</h2>

<p>You can control Databricks General Permissions through <a href="permissions.md">databricks_permissions</a> resource.</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>The resource can be imported using combination of securable type (<code>table</code>, <code>catalog</code>, <code>foreign_connection</code>, ...) and it's name:</p>

<div class="codehilite"><pre><span></span><code>terraform import databricks_grants.this catalog/abc
</code></pre></div>

            
        
    </body></html>