<html><!-- Online page at https://registry.terraform.io/providers/databricks/databricks/latest/docs/resources/connection --><head>
                <title>databricks_connection</title>
                <meta charset="utf-8"/>
                <link href="../../../../../../style.css" rel="stylesheet"/>
            </head>
            <body>
                <h1 id="databricks_connection-resource">databricks_connection (Resource)</h1>

<aside class="admonition note">
    <strong>note</strong>
    <em>note</em>
    <p>This resource can only be used with a workspace-level provider!</p>
</aside>

<p>Lakehouse Federation is the query federation platform for Databricks. Databricks uses Unity Catalog to manage query federation. To make a dataset available for read-only querying using Lakehouse Federation, you create the following:</p>

<ul>
<li>A connection, a securable object in Unity Catalog that specifies a path and credentials for accessing an external database system.</li>
<li>A foreign <a href="catalog.md">catalog</a></li>
</ul>

<p>This resource manages connections in Unity Catalog</p>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Example%20Usage"></a><h2 id="example-usage">Example Usage</h2>

<p>Create a connection to a MySQL database</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_connection"</span><span class="w"> </span><span class="nv">"mysql"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"mysql_connection"</span><span class="w"></span>
<span class="w">  </span><span class="na">connection_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MYSQL"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"this is a connection to mysql db"</span><span class="w"></span>
<span class="w">  </span><span class="nb">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">host</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"test.mysql.database.azure.com"</span><span class="w"></span>
<span class="w">    </span><span class="na">port</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"3306"</span><span class="w"></span>
<span class="w">    </span><span class="na">user</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">"user"</span><span class="w"></span>
<span class="w">    </span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"password"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">purpose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"testing"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Create a connection to a BigQuery database</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_connection"</span><span class="w"> </span><span class="nv">"bigquery"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"bq_connection"</span><span class="w"></span>
<span class="w">  </span><span class="na">connection_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"BIGQUERY"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"this is a connection to BQ"</span><span class="w"></span>
<span class="w">  </span><span class="nb">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">GoogleServiceAccountKeyJson</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span><span class="w"></span>
<span class="w">      </span><span class="s2">"type"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"service_account"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"project_id"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"PROJECT_ID"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"private_key_id"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"KEY_ID"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"private_key"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----\nPRIVATE_KEY\n-----END PRIVATE KEY-----\n"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"client_email"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"SERVICE_ACCOUNT_EMAIL"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"client_id"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"CLIENT_ID"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"auth_uri"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"https://accounts.google.com/o/oauth2/auth"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"token_uri"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"https://accounts.google.com/o/oauth2/token"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"auth_provider_x509_cert_url"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"https://www.googleapis.com/oauth2/v1/certs"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"client_x509_cert_url"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"https://www.googleapis.com/robot/v1/metadata/x509/SERVICE_ACCOUNT_EMAIL"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s2">"universe_domain"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"googleapis.com"</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="nb">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">purpose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"testing"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Create a connection to builtin Hive Metastore</p>

<div class="codehilite"><pre><span></span><code><span class="kr">resource</span><span class="w"> </span><span class="nc">"databricks_connection"</span><span class="w"> </span><span class="nv">"this"</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="na">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">"hms-builtin"</span><span class="w"></span>
<span class="w">  </span><span class="na">connection_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"HIVE_METASTORE"</span><span class="w"></span>
<span class="w">  </span><span class="na">comment</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">"This is a connection to builtin HMS"</span><span class="w"></span>
<span class="w">  </span><span class="nb">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="na">builtin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Argument%20Reference"></a><h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code>name</code> - Name of the Connection.</li>
<li><code>connection_type</code> - Connection type. <code>BIGQUERY</code> <code>MYSQL</code> <code>POSTGRESQL</code> <code>SNOWFLAKE</code> <code>REDSHIFT</code> <code>SQLDW</code> <code>SQLSERVER</code>, <code>SALESFORCE</code>, <code>HIVE_METASTORE</code>, <code>GLUE</code>, <code>TERADATA</code>, <code>ORACLE</code> or <code>DATABRICKS</code> are supported. Up-to-date list of connection type supported is in the <a href="https://docs.databricks.com/query-federation/index.html#supported-data-sources">documentation</a></li>
<li><code>options</code> - The key value of options required by the connection, e.g. <code>host</code>, <code>port</code>, <code>user</code>, <code>password</code> or <code>GoogleServiceAccountKeyJson</code>. Please consult the <a href="https://docs.databricks.com/query-federation/index.html#supported-data-sources">documentation</a> for the required option.</li>
<li><code>owner</code> - (Optional) Name of the connection owner.</li>
<li><code>properties</code> -  (Optional) Free-form connection properties.</li>
<li><code>comment</code> - (Optional) Free-form text.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Attribute%20Reference"></a><h2 id="attribute-reference">Attribute Reference</h2>

<p>In addition to all arguments above, the following attributes are exported:</p>

<ul>
<li><code>id</code> - ID of this connection in form of <code>&lt;metastore_id&gt;|&lt;name&gt;</code>.</li>
<li><code>connection_id</code> - Unique ID of the connection.</li>
<li><code>created_at</code> - Time at which this connection was created, in epoch milliseconds.</li>
<li><code>created_by</code> -  Username of connection creator.</li>
<li><code>credential_type</code> - The type of credential for this connection.</li>
<li><code>full_name</code> - Full name of connection.</li>
<li><code>metastore_id</code> - Unique ID of the UC metastore for this connection.</li>
<li><code>provisioning_info</code> - Object with the status of an asynchronously provisioned resource.</li>
<li><code>updated_at</code> - Time at which connection this was last modified, in epoch milliseconds.</li>
<li><code>updated_by</code> - Username of user who last modified the connection.</li>
<li><code>url</code> - URL of the remote data source, extracted from options.</li>
</ul>

<a class="dashAnchor" name="//apple_ref/cpp/Section/Import"></a><h2 id="import">Import</h2>

<p>This resource can be imported by <code>id</code>:</p>

<div class="codehilite"><pre><span></span><code>terraform import databricks_connection.this <span class="s1">'&lt;metastore_id&gt;|&lt;name&gt;'</span>
</code></pre></div>

            
        
    </body></html>